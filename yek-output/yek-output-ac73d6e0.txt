>>>> app/admin/blog/page.tsx
'use client'

import React, { useState, useEffect, useCallback, useMemo } from 'react'
import Image from 'next/image'
import Link from 'next/link'
import {
  Pencil,
  Trash2,
  Plus,
  Calendar,
  Eye,
  EyeOff,
  BookOpen,
  Loader2,
  X,
  Check,
  Info,
  ArrowLeft,
  // Tag, // Not used in this component
  User,
  ExternalLink
} from 'lucide-react'
import { format } from 'date-fns' // Removed 'parse' as it's not used here
import ImageUploadField from '@/components/ImageUploadField'
import SEOGenerator from '@/components/SEOGenerator'
import TextToMarkdownConverter from '@/components/TextToMarkdownConverter'

// Types for our blog posts
interface BlogPost {
  id: string;
  title: string;
  slug: string;
  excerpt: string;
  content: string;
  featuredImage: string;
  imageAlt: string;
  author: string;
  publishedAt: string | null;
  status: 'draft' | 'published';
  createdAt: string;
  updatedAt: string;
  seo: {
    metaTitle?: string;
    metaDescription?: string;
    keywords?: string[];
  };
}

type ViewMode = 'list' | 'editor';
type StatusFilter = 'all' | 'draft' | 'published';

interface FormDataState {
  id: string;
  title: string;
  content: string;
  excerpt: string;
  author: string;
  status: 'draft' | 'published';
  imageAlt: string;
  metaTitle: string;
  metaDescription: string;
  keywords: string;
}

const initialFormData: FormDataState = {
  id: '',
  title: '',
  content: '',
  excerpt: '',
  author: 'Splendid Beauty Team', // Default author
  status: 'draft',
  imageAlt: '',
  metaTitle: '',
  metaDescription: '',
  keywords: '',
};

interface ToastState {
  message: string;
  type: 'success' | 'error';
  visible: boolean;
}

export default function BlogPage() {
  const [posts, setPosts] = useState<BlogPost[]>([])
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<string | null>(null)
  const [viewMode, setViewMode] = useState<ViewMode>('list')
  const [isEditing, setIsEditing] = useState(false)
  // selectedPost is implicitly handled by formData.id when editing
  const [statusFilter, setStatusFilter] = useState<StatusFilter>('all')
  const [formData, setFormData] = useState<FormDataState>(initialFormData)
  const [imageFile, setImageFile] = useState<File | null>(null)
  const [imagePreview, setImagePreview] = useState<string>('')
  const [toast, setToast] = useState<ToastState>({ message: '', type: 'success', visible: false })

  const showToast = useCallback((message: string, type: 'success' | 'error') => {
    setToast({ message, type, visible: true });
    setTimeout(() => {
      setToast(prev => ({ ...prev, visible: false }));
    }, 3000);
  }, []);

  const fetchPosts = useCallback(async () => {
    setLoading(true)
    setError(null)
    try {
      const params = statusFilter !== 'all' ? `?status=${statusFilter}` : ''
      const response = await fetch(`/api/blog${params}`)
      const data = await response.json()

      if (!response.ok) {
        throw new Error(data.error || 'Failed to fetch blog posts')
      }
      setPosts(data.posts || [])
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred'
      setError(errorMessage)
      showToast(errorMessage, 'error');
      console.error('Error fetching blog posts:', err)
    } finally {
      setLoading(false)
    }
  }, [statusFilter, showToast]);

  useEffect(() => {
    if (viewMode === 'list') {
      fetchPosts();
    }
  }, [viewMode, fetchPosts]);

  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target
    setFormData(prev => ({ ...prev, [name]: value }))
  }, []);

  const handleImageChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0] || null
    if (file) {
      setImageFile(file)
      const reader = new FileReader()
      reader.onloadend = () => setImagePreview(reader.result as string)
      reader.readAsDataURL(file)
    }
  }, []);

  const resetFormAndState = useCallback(() => {
    setFormData(initialFormData);
    setImageFile(null);
    setImagePreview('');
    setIsEditing(false);
  }, []);

  const handleAddPost = useCallback(() => {
    resetFormAndState();
    setFormData(prev => ({ ...prev, author: 'Splendid Beauty Team' })); // Ensure default author
    setViewMode('editor');
  }, [resetFormAndState]);

  const handleEditPost = useCallback((post: BlogPost) => {
    setFormData({
      id: post.id,
      title: post.title,
      content: post.content,
      excerpt: post.excerpt,
      author: post.author,
      status: post.status,
      imageAlt: post.imageAlt,
      metaTitle: post.seo.metaTitle || '',
      metaDescription: post.seo.metaDescription || '',
      keywords: post.seo.keywords?.join(', ') || ''
    });
    setImageFile(null);
    setImagePreview(post.featuredImage);
    setIsEditing(true);
    setViewMode('editor');
  }, []);

  const handleBackToList = useCallback(() => {
    resetFormAndState();
    setViewMode('list');
  }, [resetFormAndState]);

  const handleDeletePost = useCallback(async (id: string) => {
    if (!window.confirm('Are you sure you want to delete this blog post?')) return;

    try {
      const response = await fetch(`/api/blog?id=${id}`, { method: 'DELETE' });
      if (!response.ok) {
        const data = await response.json();
        throw new Error(data.error || 'Failed to delete blog post');
      }
      setPosts(prev => prev.filter(post => post.id !== id));
      showToast('Blog post deleted successfully!', 'success');
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';
      setError(errorMessage);
      showToast(errorMessage, 'error');
      console.error('Error deleting blog post:', err);
    }
  }, [showToast]);

  const handleSubmit = useCallback(async (e: React.FormEvent) => {
    e.preventDefault();
    if (!formData.title.trim() || !formData.content.trim()) {
      showToast('Title and Content are required fields.', 'error');
      return;
    }

    const submitData = new FormData();
    Object.entries(formData).forEach(([key, value]) => {
      if (key === 'id' && !isEditing) return; // Don't append ID for new posts
      submitData.append(key, value);
    });
    if (imageFile) submitData.append('image', imageFile);

    try {
      const response = await fetch('/api/blog', {
        method: isEditing ? 'PUT' : 'POST',
        body: submitData,
      });
      const data = await response.json();

      if (!response.ok) {
        throw new Error(data.error || 'Failed to save blog post');
      }

      showToast(`Blog post ${isEditing ? 'updated' : 'created'} successfully!`, 'success');
      handleBackToList(); // This will trigger fetchPosts via useEffect
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'An unknown error occurred';
      setError(errorMessage);
      showToast(errorMessage, 'error');
      console.error('Error saving blog post:', err);
    }
  }, [formData, imageFile, isEditing, showToast, handleBackToList]);

  const handleViewPost = useCallback((slug: string) => {
    window.open(`/blog/${slug}`, '_blank');
  }, []);

  const handleMarkdownConversion = useCallback((markdown: string) => {
    setFormData(prev => ({ ...prev, content: markdown }));
    showToast('Content converted to Markdown!', 'success');
  }, [showToast]);

  const handleSEOGenerate = useCallback((metaTitle: string, metaDescription: string) => {
    setFormData(prev => ({ ...prev, metaTitle, metaDescription }));
    showToast('SEO content generated successfully!', 'success');
  }, [showToast]);

  const formatDateDisplay = useCallback((dateString: string | null) => {
    if (!dateString) return 'Not published';
    try {
      return format(new Date(dateString), 'MMMM d, yyyy h:mm a');
    } catch (error) {
      console.warn("Failed to format date:", dateString, error);
      return dateString; // Fallback to original string if formatting fails
    }
  }, []);

  const filteredPosts = useMemo(() => {
    if (statusFilter === 'all') return posts;
    return posts.filter(post => post.status === statusFilter);
  }, [posts, statusFilter]);

  const editorTitle = useMemo(() => (isEditing ? 'Edit Blog Post' : 'Create Blog Post'), [isEditing]);

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex justify-between items-center">
        {viewMode === 'list' ? (
          <div className="flex items-center gap-4">
            <h1 className="text-2xl font-bold text-gray-900">Manage Blog Posts</h1>
            <select
              value={statusFilter}
              onChange={(e) => setStatusFilter(e.target.value as StatusFilter)}
              className="rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48]"
              aria-label="Filter posts by status"
            >
              <option value="all">All Posts</option>
              <option value="draft">Drafts</option>
              <option value="published">Published</option>
            </select>
          </div>
        ) : (
          <div className="flex items-center gap-4">
            <button
              onClick={handleBackToList}
              className="inline-flex items-center gap-2 rounded-md bg-white px-3 py-2 text-sm font-medium text-gray-700 border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
            >
              <ArrowLeft className="h-4 w-4" />
              Back to Posts
            </button>
            <h1 className="text-2xl font-bold text-gray-900">{editorTitle}</h1>
          </div>
        )}
        {viewMode === 'list' && (
          <button
            onClick={handleAddPost}
            className="inline-flex items-center gap-2 rounded-md bg-[#063f48] px-4 py-2 text-sm font-medium text-white hover:bg-[#0a5561] focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
          >
            <Plus className="h-5 w-5" />
            New Blog Post
          </button>
        )}
      </div>

      {/* Content Area */}
      {viewMode === 'list' ? (
        <>
          {loading ? (
            <div className="flex justify-center py-12">
              <Loader2 className="h-8 w-8 animate-spin text-[#063f48]" />
            </div>
          ) : error && !posts.length ? ( // Show general error if posts array is empty
            <div className="rounded-md bg-red-50 p-4">
              <div className="flex">
                <div className="flex-shrink-0"><Info className="h-5 w-5 text-red-400" /></div>
                <div className="ml-3">
                  <h3 className="text-sm font-medium text-red-800">Error</h3>
                  <div className="mt-2 text-sm text-red-700"><p>{error}</p></div>
                </div>
              </div>
            </div>
          ) : !filteredPosts.length ? (
            <div className="rounded-md bg-gray-50 p-8 text-center">
              <BookOpen className="mx-auto h-12 w-12 text-gray-400" />
              <h3 className="mt-2 text-sm font-medium text-gray-900">
                {statusFilter === 'all' ? 'No blog posts yet' : `No ${statusFilter} posts`}
              </h3>
              <p className="mt-1 text-sm text-gray-500">
                {statusFilter === 'all' ? 'Get started by creating your first blog post.' : `There are no posts matching the filter "${statusFilter}".`}
              </p>
              <div className="mt-6">
                <button
                  onClick={handleAddPost}
                  className="inline-flex items-center rounded-md bg-[#063f48] px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-[#0a5561] focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
                >
                  <Plus className="-ml-1 mr-2 h-5 w-5" />
                  New Blog Post
                </button>
              </div>
            </div>
          ) : (
            <div className="bg-white shadow overflow-hidden sm:rounded-md">
              <ul role="list" className="divide-y divide-gray-200">
                {filteredPosts.map((post) => (
                  <li key={post.id}>
                    <div className="px-4 py-4 sm:px-6 hover:bg-gray-50 transition-colors">
                      <div className="flex items-center justify-between">
                        <div className="flex items-center gap-4 min-w-0">
                          {post.featuredImage && (
                            <div className="h-12 w-16 flex-shrink-0 rounded-md overflow-hidden">
                              <Image
                                src={post.featuredImage}
                                alt={post.imageAlt || post.title}
                                width={64}
                                height={48}
                                className="h-full w-full object-cover"
                                quality={75}
                              />
                            </div>
                          )}
                          <div className="min-w-0 flex-1">
                            <p className="text-sm font-medium text-[#063f48] truncate">
                              {post.title}
                            </p>
                            <div className="mt-1 flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-gray-500">
                              <div className="flex items-center gap-1">
                                <Calendar className="h-3 w-3" />
                                {formatDateDisplay(post.publishedAt)}
                              </div>
                              <div className="flex items-center gap-1">
                                <User className="h-3 w-3" />
                                {post.author}
                              </div>
                              <span
                                className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${post.status === 'published'
                                  ? 'bg-green-100 text-green-800'
                                  : 'bg-yellow-100 text-yellow-800'
                                  }`}
                              >
                                {post.status === 'published' ? (
                                  <Eye className="h-3 w-3 mr-1" />
                                ) : (
                                  <EyeOff className="h-3 w-3 mr-1" />
                                )}
                                {post.status}
                              </span>
                            </div>
                          </div>
                        </div>
                        <div className="ml-4 flex flex-shrink-0 items-center gap-2">
                          {post.status === 'published' && (
                            <button
                              onClick={() => handleViewPost(post.slug)}
                              className="inline-flex items-center rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
                              title="View Post"
                            >
                              <ExternalLink className="h-4 w-4" />
                              <span className="sr-only">View Post</span>
                            </button>
                          )}
                          <button
                            onClick={() => handleEditPost(post)}
                            className="inline-flex items-center rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
                            title="Edit Post"
                          >
                            <Pencil className="h-4 w-4" />
                            <span className="sr-only">Edit Post</span>
                          </button>
                          <button
                            onClick={() => handleDeletePost(post.id)}
                            className="inline-flex items-center rounded-md bg-red-100 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"
                            title="Delete Post"
                          >
                            <Trash2 className="h-4 w-4" />
                            <span className="sr-only">Delete Post</span>
                          </button>
                        </div>
                      </div>
                      {post.excerpt && (
                        <div className="mt-2">
                          <p className="text-sm text-gray-600 line-clamp-2">
                            {post.excerpt}
                          </p>
                        </div>
                      )}
                    </div>
                  </li>
                ))}
              </ul>
            </div>
          )}
        </>
      ) : (
        <div className="bg-white shadow sm:rounded-lg">
          <form onSubmit={handleSubmit} className="space-y-6 p-6">
            <div className="grid grid-cols-1 gap-6 lg:grid-cols-3">
              {/* Main content column */}
              <div className="lg:col-span-2 space-y-6">
                <div>
                  <label
                    htmlFor="title"
                    className="block text-sm font-medium text-gray-700"
                  >
                    Title *
                  </label>
                  <input
                    type="text"
                    name="title"
                    id="title"
                    value={formData.title}
                    onChange={handleChange}
                    required
                    className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                    placeholder="Enter your blog post title"
                  />
                </div>

                <div>
                  <div className="flex items-center justify-between mb-1">
                    <label
                      htmlFor="content"
                      className="block text-sm font-medium text-gray-700"
                    >
                      Content *
                    </label>
                    <TextToMarkdownConverter
                      content={formData.content}
                      onConvert={handleMarkdownConversion}
                    />
                  </div>
                  <textarea
                    name="content"
                    id="content"
                    rows={15}
                    value={formData.content}
                    onChange={handleChange}
                    required
                    className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                    placeholder="Write your blog content here. Use Markdown formatting."
                  />
                </div>

                <div>
                  <label
                    htmlFor="excerpt"
                    className="block text-sm font-medium text-gray-700"
                  >
                    Excerpt
                  </label>
                  <textarea
                    name="excerpt"
                    id="excerpt"
                    rows={3}
                    value={formData.excerpt}
                    onChange={handleChange}
                    className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                    placeholder="Brief summary of your post (optional, auto-generated if empty)"
                  />
                </div>
              </div>

              {/* Sidebar column */}
              <div className="space-y-6">
                <div className="bg-gray-50 p-4 rounded-lg">
                  <h3 className="text-sm font-medium text-gray-900 mb-4">Publish Settings</h3>
                  <div className="space-y-4">
                    <div>
                      <label htmlFor="status" className="block text-sm font-medium text-gray-700">Status</label>
                      <select
                        name="status"
                        id="status"
                        value={formData.status}
                        onChange={handleChange}
                        className="mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                      >
                        <option value="draft">Draft</option>
                        <option value="published">Published</option>
                      </select>
                    </div>
                    <div>
                      <label htmlFor="author" className="block text-sm font-medium text-gray-700">Author</label>
                      <input
                        type="text"
                        name="author"
                        id="author"
                        value={formData.author}
                        onChange={handleChange}
                        className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                        placeholder="Author name"
                      />
                    </div>
                  </div>
                </div>

                <div className="bg-gray-50 p-4 rounded-lg">
                  <h3 className="text-sm font-medium text-gray-900 mb-4">Featured Image</h3>
                  <ImageUploadField
                    imagePreview={imagePreview}
                    isEditing={isEditing}
                    onChange={handleImageChange}
                  />
                  <div className="mt-4">
                    <label htmlFor="imageAlt" className="block text-sm font-medium text-gray-700">Image Alt Text</label>
                    <input
                      type="text"
                      name="imageAlt"
                      id="imageAlt"
                      value={formData.imageAlt}
                      onChange={handleChange}
                      className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                      placeholder="Describe the image (auto-generated if empty)"
                    />
                  </div>
                </div>

                <div className="bg-gray-50 p-4 rounded-lg">
                  <div className="flex items-center justify-between mb-4">
                    <h3 className="text-sm font-medium text-gray-900">SEO Settings</h3>
                    <SEOGenerator
                      title={formData.title}
                      content={formData.content}
                      excerpt={formData.excerpt}
                      onGenerate={handleSEOGenerate}
                    />
                  </div>
                  <div className="space-y-4">
                    <div>
                      <label htmlFor="metaTitle" className="block text-sm font-medium text-gray-700">Meta Title</label>
                      <input
                        type="text"
                        name="metaTitle"
                        id="metaTitle"
                        value={formData.metaTitle}
                        onChange={handleChange}
                        className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                        placeholder="SEO title (auto-generated if empty)"
                      />
                    </div>
                    <div>
                      <label htmlFor="metaDescription" className="block text-sm font-medium text-gray-700">Meta Description</label>
                      <textarea
                        name="metaDescription"
                        id="metaDescription"
                        rows={3}
                        value={formData.metaDescription}
                        onChange={handleChange}
                        className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                        placeholder="SEO description (auto-generated if empty)"
                      />
                    </div>
                    <div>
                      <label htmlFor="keywords" className="block text-sm font-medium text-gray-700">Keywords</label>
                      <input
                        type="text"
                        name="keywords"
                        id="keywords"
                        value={formData.keywords}
                        onChange={handleChange}
                        className="mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-[#063f48] focus:outline-none focus:ring-1 focus:ring-[#063f48] sm:text-sm"
                        placeholder="keywords, separated, by, commas"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div className="flex justify-end gap-3 pt-4 border-t border-gray-200">
              <button
                type="button"
                onClick={handleBackToList}
                className="inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
              >
                Cancel
              </button>
              <button
                type="submit"
                className="inline-flex justify-center rounded-md border border-transparent bg-[#063f48] px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-[#0a5561] focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
              >
                {isEditing ? 'Update Post' : 'Create Post'}
              </button>
            </div>
          </form>
        </div>
      )}

      {/* Toast Notification */}
      {toast.visible && (
        <div className="fixed bottom-4 right-4 z-[101] admin-toast">
          <div
            className={`rounded-md ${toast.type === 'success' ? 'bg-green-50' : 'bg-red-50'} p-4 shadow-lg`}
            role={toast.type === 'error' ? 'alert' : 'status'}
            aria-live="assertive"
          >
            <div className="flex">
              <div className="flex-shrink-0">
                {toast.type === 'success' ? (
                  <Check className="h-5 w-5 text-green-400" />
                ) : (
                  <X className="h-5 w-5 text-red-400" />
                )}
              </div>
              <div className="ml-3">
                <p className={`text-sm font-medium ${toast.type === 'success' ? 'text-green-800' : 'text-red-800'}`}>
                  {toast.message}
                </p>
              </div>
              <div className="ml-auto pl-3">
                <div className="-mx-1.5 -my-1.5">
                  <button
                    onClick={() => setToast(prev => ({ ...prev, visible: false }))}
                    className={`inline-flex rounded-md p-1.5 ${toast.type === 'success'
                      ? 'bg-green-50 text-green-500 hover:bg-green-100 focus:bg-green-100'
                      : 'bg-red-50 text-red-500 hover:bg-red-100 focus:bg-red-100'
                      } focus:outline-none focus:ring-2 focus:ring-offset-2 ${toast.type === 'success' ? 'focus:ring-offset-green-50 focus:ring-green-600' : 'focus:ring-offset-red-50 focus:ring-red-600'}`}
                    aria-label="Dismiss notification"
                  >
                    <span className="sr-only">Dismiss</span>
                    <X className="h-5 w-5" />
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  )
}
>>>> app/admin/events/page.tsx
'use client'

import React, { useState, useEffect, useCallback, useMemo } from 'react'
import Image from 'next/image'
import {
  Pencil,
  Trash2,
  Plus,
  Calendar,
  Link as LinkIcon,
  Image as ImageIcon,
  Loader2,
  X,
  Check,
  Info,
  HelpCircle
} from 'lucide-react'
import { format, parseISO, isValid } from 'date-fns'
import ImageUploadField from '@/components/ImageUploadField'

// Types for our events
interface Event {
  id: string;
  title: string;
  date: string; // Stored as "yyyy-MM-dd" for input, displayed as "MMMM d, yyyy"
  description: string;
  excerpt?: string;
  imageSrc: string;
  imageAlt: string;
  link: string;
  imagePosition?: 'center' | 'top' | 'bottom' | 'left' | 'right';
  objectFit?: 'cover' | 'contain';
  createdAt: string;
  updatedAt: string;
}

interface FormDataState {
  id: string;
  title: string;
  date: string; // Always "yyyy-MM-dd"
  description: string;
  excerpt: string;
  link: string;
  imageAlt: string;
  imagePosition: 'center' | 'top' | 'bottom' | 'left' | 'right';
  objectFit: 'cover' | 'contain';
}

const initialFormData: FormDataState = {
  id: '',
  title: '',
  date: format(new Date(), 'yyyy-MM-dd'),
  description: '',
  excerpt: '',
  link: '',
  imageAlt: '',
  imagePosition: 'center',
  objectFit: 'cover',
};

interface ToastState {
  message: string;
  type: 'success' | 'error';
  visible: boolean;
}

export default function EventsPage() {
  const [events, setEvents] = useState<Event[]>([])
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<string | null>(null)
  const [showModal, setShowModal] = useState(false)
  const [isEditing, setIsEditing] = useState(false)
  const [showHelp, setShowHelp] = useState(false)
  const [formData, setFormData] = useState<FormDataState>(initialFormData)
  const [imageFile, setImageFile] = useState<File | null>(null)
  const [imagePreview, setImagePreview] = useState<string>('')
  const [shouldUpdateImage, setShouldUpdateImage] = useState(false)
  const [toast, setToast] = useState<ToastState>({ message: '', type: 'success', visible: false })

  const showToast = useCallback((message: string, type: 'success' | 'error') => {
    setToast({ message, type, visible: true });
    setTimeout(() => setToast(prev => ({ ...prev, visible: false })), 3000);
  }, []);

  const fetchEvents = useCallback(async () => {
    setLoading(true);
    setError(null);
    try {
      const response = await fetch('/api/events');
      const data = await response.json();
      if (!response.ok) throw new Error(data.error || 'Failed to fetch events');
      setEvents(data.events || []);
    } catch (err) {
      const msg = err instanceof Error ? err.message : 'An unknown error occurred';
      setError(msg);
      showToast(msg, 'error');
      console.error('Error fetching events:', err);
    } finally {
      setLoading(false);
    }
  }, [showToast]);

  useEffect(() => {
    fetchEvents();
  }, [fetchEvents]);

  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setFormData(prev => ({ ...prev, [name]: value }));
  }, []);

  const handleImageChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0] || null;
    if (file) {
      setImageFile(file);
      setShouldUpdateImage(true);
      const reader = new FileReader();
      reader.onloadend = () => setImagePreview(reader.result as string);
      reader.readAsDataURL(file);
    }
  }, []);

  const handleRemoveImage = useCallback(() => {
    setImageFile(null);
    setImagePreview('');
    setShouldUpdateImage(true); // Important for edit mode to signal image removal
  }, []);
  
  const resetFormAndModal = useCallback(() => {
    setFormData(initialFormData);
    setImageFile(null);
    setImagePreview('');
    setShouldUpdateImage(false);
    setIsEditing(false);
    setShowModal(false);
  }, []);

  const handleAddEvent = useCallback(() => {
    resetFormAndModal();
    setFormData(prev => ({ ...prev, date: format(new Date(), 'yyyy-MM-dd') })); // Ensure date is current
    setShowModal(true);
  }, [resetFormAndModal]);

  const handleEditEvent = useCallback((event: Event) => {
    let inputDate = event.date; // Assume it's "yyyy-MM-dd" from API or previously formatted
    // If date is in "MMMM d, yyyy" format, try to parse and reformat
    // This is a safeguard; ideally, API sends consistent "yyyy-MM-dd" for `event.date`
    try {
        const parsedApiDate = parseISO(event.date); // If API sends ISO string
        if (isValid(parsedApiDate)) {
            inputDate = format(parsedApiDate, 'yyyy-MM-dd');
        } else {
            // Try parsing "MMMM d, yyyy" if API might send that
            const parsedDisplayDate = new Date(event.date); // More robust than date-fns parse for display formats
            if (isValid(parsedDisplayDate)) {
               inputDate = format(parsedDisplayDate, 'yyyy-MM-dd');
            }
        }
    } catch (e) { console.warn(`Could not parse date ${event.date} for editing, using as is.`); }


    setFormData({
      id: event.id,
      title: event.title,
      date: inputDate,
      description: event.description,
      excerpt: event.excerpt || '',
      link: event.link,
      imageAlt: event.imageAlt,
      imagePosition: event.imagePosition || 'center',
      objectFit: event.objectFit || 'cover',
    });
    setImageFile(null);
    setImagePreview(event.imageSrc);
    setShouldUpdateImage(false);
    setIsEditing(true);
    setShowModal(true);
  }, []);

  const handleDeleteEvent = useCallback(async (id: string) => {
    if (!window.confirm('Are you sure you want to delete this event?')) return;
    try {
      const response = await fetch(`/api/events?id=${id}`, { method: 'DELETE' });
      if (!response.ok) {
        const data = await response.json();
        throw new Error(data.error || 'Failed to delete event');
      }
      setEvents(prev => prev.filter(event => event.id !== id));
      showToast('Event deleted successfully!', 'success');
    } catch (err) {
      const msg = err instanceof Error ? err.message : 'An unknown error occurred';
      setError(msg);
      showToast(msg, 'error');
      console.error('Error deleting event:', err);
    }
  }, [showToast]);

  const handleSubmit = useCallback(async (e: React.FormEvent) => {
    e.preventDefault();
    if (!formData.title.trim() || !formData.date || !formData.description.trim()) {
      showToast('Title, Date, and Description are required.', 'error');
      return;
    }
    if (!isEditing && !imageFile) {
      showToast('Please select an image for new events.', 'error');
      return;
    }

    const submitData = new FormData();
    Object.entries(formData).forEach(([key, value]) => {
      if (key === 'id' && !isEditing) return;
      submitData.append(key, value);
    });
    
    // Auto-generate excerpt if empty
    const excerptToSave = formData.excerpt.trim() || 
      (formData.description.length > 140 
        ? formData.description.slice(0, 137) + '...' 
        : formData.description);
    submitData.set('excerpt', excerptToSave); // Use .set to override if 'excerpt' was already appended

    // Auto-generate imageAlt if empty
    const imageAltToSave = formData.imageAlt.trim() || formData.title;
    submitData.set('imageAlt', imageAltToSave);


    if (imageFile) {
      submitData.append('image', imageFile);
    } else if (isEditing && shouldUpdateImage && !imagePreview) {
      // Signal to backend that image should be removed or handled if it supports nullification
      submitData.append('removeImage', 'true'); 
    }


    try {
      const response = await fetch('/api/events', {
        method: isEditing ? 'PUT' : 'POST',
        body: submitData,
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error || 'Failed to save event');
      
      showToast(`Event ${isEditing ? 'updated' : 'created'} successfully!`, 'success');
      fetchEvents(); // Re-fetch all events to get the latest list
      resetFormAndModal();
    } catch (err) {
      const msg = err instanceof Error ? err.message : 'An unknown error occurred';
      setError(msg);
      showToast(msg, 'error');
      console.error('Error saving event:', err);
    }
  }, [formData, imageFile, isEditing, shouldUpdateImage, imagePreview, showToast, fetchEvents, resetFormAndModal]);

  // Helper function to format date for display on cards
  const formatDateForDisplay = useCallback((dateString: string): string => {
    // Date string is expected to be "yyyy-MM-dd" from form or API after normalization
    try {
      const dateParts = dateString.split('-');
      if (dateParts.length === 3) {
        // Construct date as UTC to avoid timezone issues with `new Date()`
        const date = new Date(Date.UTC(Number(dateParts[0]), Number(dateParts[1]) - 1, Number(dateParts[2])));
        if (isValid(date)) {
          return format(date, 'MMMM d, yyyy');
        }
      }
      return dateString; // Fallback
    } catch (error) {
      console.error('Error formatting date for display:', error, dateString);
      return dateString; // Fallback
    }
  }, []);


  const modalTitle = useMemo(() => (isEditing ? 'Edit Event' : 'Add New Event'), [isEditing]);

  const sortedEvents = useMemo(() => 
    [...events].sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()),
  [events]);

  return (
    <div className="space-y-6">
      <div className="flex justify-between items-center">
        <div className="flex items-center space-x-2">
          <h1 className="text-2xl font-bold text-gray-900">Manage Carousel Events</h1>
          <button
            onClick={() => setShowHelp(prev => !prev)}
            className="text-gray-500 hover:text-gray-700 focus:outline-none"
            aria-label="Toggle help guide"
            aria-expanded={showHelp}
          >
            <HelpCircle className="h-5 w-5" />
          </button>
          {showHelp && (
            <div className="absolute top-20 left-4 z-30 w-80 p-4 bg-white rounded-lg shadow-lg border border-gray-200" role="tooltip">
              <div className="flex justify-between items-start">
                <h3 className="text-sm font-medium text-gray-900">Quick Help Guide</h3>
                <button onClick={() => setShowHelp(false)} className="text-gray-400 hover:text-gray-500" aria-label="Close help">
                  <X className="h-4 w-4" />
                </button>
              </div>
              <div className="mt-2 text-xs text-gray-600 space-y-2">
                <p><strong>Adding/Editing:</strong> Use the modal to manage event details.</p>
                <p><strong>Images:</strong> Recommended 21:8 aspect ratio. Max 5MB (JPG, PNG, GIF, WebP).</p>
                <p><strong>Image Fit/Position:</strong> Control how images appear in the carousel.</p>
                <p><strong>Excerpt:</strong> Auto-generated if empty (max 140 chars).</p>
              </div>
            </div>
          )}
        </div>
        <button
          onClick={handleAddEvent}
          className="inline-flex items-center gap-2 rounded-md bg-[#063f48] px-4 py-2 text-sm font-medium text-white hover:bg-[#0a5561] focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
        >
          <Plus className="h-5 w-5" />
          Add New Event
        </button>
      </div>

      {loading ? (
        <div className="flex justify-center py-12"><Loader2 className="h-8 w-8 animate-spin text-[#063f48]" /></div>
      ) : error && !events.length ? (
        <div className="rounded-md bg-red-50 p-4">
          <div className="flex">
            <div className="flex-shrink-0"><Info className="h-5 w-5 text-red-400" /></div>
            <div className="ml-3">
              <h3 className="text-sm font-medium text-red-800">Error</h3>
              <div className="mt-2 text-sm text-red-700"><p>{error}</p></div>
            </div>
          </div>
        </div>
      ) : !sortedEvents.length ? (
        <div className="rounded-md bg-gray-50 p-8 text-center">
          <ImageIcon className="mx-auto h-12 w-12 text-gray-400" />
          <h3 className="mt-2 text-sm font-medium text-gray-900">No events</h3>
          <p className="mt-1 text-sm text-gray-500">Get started by creating a new event.</p>
          <div className="mt-6">
            <button
              onClick={handleAddEvent}
              className="inline-flex items-center rounded-md bg-[#063f48] px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-[#0a5561] focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
            >
              <Plus className="-ml-1 mr-2 h-5 w-5" />
              New Event
            </button>
          </div>
        </div>
      ) : (
        <div className="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
          {sortedEvents.map((event) => (
            <div
              key={event.id}
              className="overflow-hidden rounded-lg bg-white shadow hover:shadow-md transition-shadow group"
            >
              <div className="relative h-48">
                <Image
                  src={event.imageSrc}
                  alt={event.imageAlt}
                  fill
                  className="object-cover group-hover:scale-105 transition-transform duration-300"
                  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
                  style={{
                    objectFit: event.objectFit || 'cover',
                    objectPosition: event.imagePosition || 'center'
                  }}
                  quality={75}
                />
              </div>
              <div className="p-4">
                <h3 className="text-lg font-medium text-gray-900 truncate group-hover:text-[#063f48] transition-colors">
                  {event.title}
                </h3>
                <p className="mt-1 text-sm text-gray-500 flex items-center">
                  <Calendar className="mr-1 h-4 w-4" />
                  {formatDateForDisplay(event.date)}
                </p>
                <p className="mt-2 text-sm text-gray-700 line-clamp-2">
                  {event.excerpt || event.description}
                </p>
                {event.link && event.link !== '#' && (
                  <p className="mt-2 text-sm text-[#063f48] flex items-center">
                    <LinkIcon className="mr-1 h-4 w-4" />
                    <a
                      href={event.link}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="truncate hover:underline"
                    >
                      {event.link}
                    </a>
                  </p>
                )}
                <p className="mt-2 text-xs text-gray-500">
                  Pos: {event.imagePosition || 'center'} | Fit: {event.objectFit || 'cover'}
                </p>
                <div className="mt-4 flex justify-end space-x-2">
                  <button
                    onClick={() => handleEditEvent(event)}
                    className="inline-flex items-center rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2"
                  >
                    <Pencil className="mr-1 h-4 w-4" /> Edit
                  </button>
                  <button
                    onClick={() => handleDeleteEvent(event.id)}
                    className="inline-flex items-center rounded-md bg-red-100 px-3 py-2 text-sm font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"
                  >
                    <Trash2 className="mr-1 h-4 w-4" /> Delete
                  </button>
                </div>
              </div>
            </div>
          ))}
        </div>
      )}

      {/* Event Form Modal */}
      {showModal && (
        <div className="fixed inset-0 z-[100] overflow-y-auto admin-modal">
          <div className="flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0">
            <div
              className="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
              onClick={() => setShowModal(false)} // Use resetFormAndModal if preferred
              aria-hidden="true"
            ></div>
            <span className="hidden sm:inline-block sm:h-screen sm:align-middle" aria-hidden="true">&#8203;</span>
            <div className="inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle">
              <form id="event-form" onSubmit={handleSubmit}>
                <div className="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
                  <div className="sm:flex sm:items-start">
                    <div className="mt-3 w-full text-center sm:mt-0 sm:text-left">
                      <h3 className="text-lg font-medium leading-6 text-gray-900" id="modal-title">
                        {modalTitle}
                      </h3>
                      <div className="mt-4 space-y-4">
                        <div>
                          <label htmlFor="title" className="block text-sm font-medium text-gray-700">Title *</label>
                          <input type="text" name="title" id="title" value={formData.title} onChange={handleChange} required className="admin-input mt-1" placeholder="Event title" />
                        </div>
                        <div>
                          <label htmlFor="date" className="block text-sm font-medium text-gray-700">Date *</label>
                          <input type="date" name="date" id="date" value={formData.date} onChange={handleChange} required className="admin-input mt-1" />
                        </div>
                        <div>
                          <label htmlFor="description" className="block text-sm font-medium text-gray-700">Description *</label>
                          <textarea name="description" id="description" rows={3} value={formData.description} onChange={handleChange} required className="admin-input mt-1" placeholder="Full event description" />
                        </div>
                        <div>
                          <label htmlFor="excerpt" className="block text-sm font-medium text-gray-700">Excerpt (Optional)</label>
                          <textarea name="excerpt" id="excerpt" rows={2} value={formData.excerpt} onChange={handleChange} className="admin-input mt-1" placeholder="Short teaser (auto-generated if empty)" />
                          <p className="mt-1 text-xs text-gray-500">Max 140 chars. Auto-generated from description if empty.</p>
                        </div>
                        <div>
                          <label htmlFor="link" className="block text-sm font-medium text-gray-700">Link (URL)</label>
                          <input type="url" name="link" id="link" value={formData.link} onChange={handleChange} placeholder="https://example.com/event" className="admin-input mt-1" />
                        </div>
                        <ImageUploadField
                          imagePreview={imagePreview}
                          isEditing={isEditing}
                          onChange={handleImageChange}
                          onRemove={imagePreview ? handleRemoveImage : undefined}
                        />
                        <div>
                          <label htmlFor="imageAlt" className="block text-sm font-medium text-gray-700">Image Alt Text</label>
                          <input type="text" name="imageAlt" id="imageAlt" value={formData.imageAlt} onChange={handleChange} placeholder="Brief image description (auto-generated if empty)" className="admin-input mt-1" />
                           <p className="mt-1 text-xs text-gray-500">For accessibility. Uses event title if empty.</p>
                        </div>
                        <div className="grid grid-cols-2 gap-4">
                          <div>
                            <label htmlFor="imagePosition" className="block text-sm font-medium text-gray-700">Image Position</label>
                            <select name="imagePosition" id="imagePosition" value={formData.imagePosition} onChange={handleChange} className="admin-input mt-1">
                              <option value="center">Center</option>
                              <option value="top">Top</option>
                              <option value="bottom">Bottom</option>
                              <option value="left">Left</option>
                              <option value="right">Right</option>
                            </select>
                            <p className="mt-1 text-xs text-gray-500">Focus point if image is cropped.</p>
                          </div>
                          <div>
                            <label htmlFor="objectFit" className="block text-sm font-medium text-gray-700">Object Fit</label>
                            <select name="objectFit" id="objectFit" value={formData.objectFit} onChange={handleChange} className="admin-input mt-1">
                              <option value="cover">Cover (fill, may crop)</option>
                              <option value="contain">Contain (show all)</option>
                            </select>
                            <p className="mt-1 text-xs text-gray-500">How image fits container.</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div className="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                  <button
                    type="submit"
                    className="inline-flex w-full justify-center rounded-md border border-transparent bg-[#063f48] px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-[#0a5561] focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm"
                  >
                    {isEditing ? 'Update Event' : 'Create Event'}
                  </button>
                  <button
                    type="button"
                    onClick={resetFormAndModal}
                    className="mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm"
                  >
                    Cancel
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      )}

      {/* Toast Notification */}
      {toast.visible && (
         <div className="fixed bottom-4 right-4 z-[101] admin-toast">
          <div
            className={`rounded-md ${toast.type === 'success' ? 'bg-green-50' : 'bg-red-50'} p-4 shadow-lg`}
            role={toast.type === 'error' ? 'alert' : 'status'}
            aria-live="assertive"
          >
            <div className="flex">
              <div className="flex-shrink-0">
                {toast.type === 'success' ? (
                  <Check className="h-5 w-5 text-green-400" />
                ) : (
                  <X className="h-5 w-5 text-red-400" />
                )}
              </div>
              <div className="ml-3">
                <p className={`text-sm font-medium ${toast.type === 'success' ? 'text-green-800' : 'text-red-800'}`}>
                  {toast.message}
                </p>
              </div>
              <div className="ml-auto pl-3">
                <div className="-mx-1.5 -my-1.5">
                  <button
                    onClick={() => setToast(prev => ({ ...prev, visible: false }))}
                    className={`inline-flex rounded-md p-1.5 ${toast.type === 'success'
                        ? 'bg-green-50 text-green-500 hover:bg-green-100 focus:bg-green-100'
                        : 'bg-red-50 text-red-500 hover:bg-red-100 focus:bg-red-100'
                      } focus:outline-none focus:ring-2 focus:ring-offset-2 ${toast.type === 'success' ? 'focus:ring-offset-green-50 focus:ring-green-600' : 'focus:ring-offset-red-50 focus:ring-red-600'}`}
                      aria-label="Dismiss notification"
                  >
                    <span className="sr-only">Dismiss</span>
                    <X className="h-5 w-5" />
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  )
}
>>>> app/admin/globals.css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Custom form styling for admin dashboard */
  .admin-input {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-[#063f48] focus:ring-[#063f48] sm:text-sm;
  }
  
  /* Fix z-index issues with modals */
  .admin-modal {
    @apply z-[9999];
  }
  
  /* Fix toast notification positioning */
  .admin-toast {
    @apply z-[10000];
  }
}

>>>> app/admin/layout.tsx
'use client'

import React from 'react'
import Link from 'next/link'
import { usePathname, useRouter } from 'next/navigation'
import { LogOut } from 'lucide-react'
import '../globals.css'
import './globals.css'

// Admin layout with navigation including blog management
export default function AdminLayout({
  children,
}: {
  children: React.ReactNode
}) {
  const pathname = usePathname()
  const router = useRouter()
  
  const handleLogout = async () => {
    try {
      const response = await fetch('/api/auth/logout', {
        method: 'POST',
      })
      
      if (response.ok) {
        router.push('/admin/login')
        router.refresh()
      }
    } catch (error) {
      console.error('Logout error:', error)
    }
  }

  return (
    <div className="min-h-screen flex flex-col bg-gray-50">
      <header className="bg-[#063f48] text-white shadow-md relative z-50">
        <div className="mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8 flex justify-between items-center">
          <div className="flex items-center">
            <Link href="/admin" className="text-xl font-bold">
              Splendid Beauty Admin
            </Link>
          </div>
          <nav className="flex items-center space-x-4">
            <Link 
              href="/admin/events" 
              className={`px-3 py-2 rounded-md text-sm font-medium ${
                pathname === '/admin/events' ? 'bg-[#0a5561] text-white' : 'text-gray-100 hover:bg-[#0a5561]'
              }`}
            >
              Manage Events
            </Link>
            <Link 
              href="/admin/blog" 
              className={`px-3 py-2 rounded-md text-sm font-medium ${
                pathname === '/admin/blog' ? 'bg-[#0a5561] text-white' : 'text-gray-100 hover:bg-[#0a5561]'
              }`}
            >
              Manage Blog
            </Link>
            <Link 
              href="/" 
              className="px-3 py-2 rounded-md text-sm font-medium text-gray-100 hover:bg-[#0a5561]"
            >
              View Site
            </Link>
            <button
              onClick={handleLogout}
              className="inline-flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium text-gray-100 hover:bg-[#0a5561]"
            >
              <LogOut className="h-4 w-4" />
              Logout
            </button>
          </nav>
        </div>
      </header>
      
      <main className="flex-grow mx-auto w-full max-w-7xl px-4 py-8 sm:px-6 lg:px-8">
        {children}
      </main>
      
      <footer className="bg-gray-100 py-4 mt-auto">
        <div className="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center text-gray-500 text-sm">
          &copy; {new Date().getFullYear()} Splendid Beauty - Admin Dashboard
        </div>
      </footer>
    </div>
  )
}
>>>> app/admin/login/page.tsx
'use client'

import React, { useState } from 'react'
import { useRouter } from 'next/navigation' // Keep useRouter for potential other uses if needed
import { Lock, User, LogIn, AlertTriangle } from 'lucide-react' // Added AlertTriangle for error
import Image from 'next/image'

export default function LoginPage() {
  const [username, setUsername] = useState('')
  const [password, setPassword] = useState('')
  const [error, setError] = useState('')
  const [isLoading, setIsLoading] = useState(false)
  // const router = useRouter() // router.push is replaced by window.location.href for login success

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault()
    setError('')
    setIsLoading(true)

    try {
      const response = await fetch('/api/auth/login', {
        method: 'POST',
        // credentials: 'include', // Generally not needed for same-origin API calls setting cookies
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ username, password }),
      })

      const data = await response.json()

      if (!response.ok) {
        throw new Error(data.error || 'Failed to login. Please check your credentials.')
      }

      if (data.success) {
        // Force a hard navigation to ensure the middleware picks up the new cookie
        // and the browser sends it with the request to /admin
        window.location.href = '/admin';
      } else {
        // This case should ideally be covered by !response.ok
        setError(data.error || 'Login was not successful. Please try again.');
      }
    } catch (err) {
      console.error('Login submission error:', err) // Log the actual error
      setError(err instanceof Error ? err.message : 'An unexpected error occurred during login.')
    } finally {
      setIsLoading(false)
    }
  }

  return (
    <div className="min-h-screen bg-gradient-to-b from-gray-50 to-white flex items-center justify-center px-4 py-12">
      <div className="max-w-md w-full space-y-8">
        <div className="text-center">
          <div className="mx-auto h-20 w-40 sm:h-24 sm:w-48 relative mb-6 sm:mb-8">
            <Image
              src="/images/splendid-logo.png"
              alt="Splendid Beauty Bar & Co."
              fill
              className="object-contain"
              priority
            />
          </div>
          <h2 className="text-2xl sm:text-3xl font-bold text-gray-900">Admin Login</h2>
          <p className="mt-2 text-sm text-gray-600">
            Access your admin dashboard
          </p>
        </div>

        <form className="mt-8 space-y-6" onSubmit={handleSubmit}>
          <div className="rounded-md shadow-sm space-y-4">
            <div>
              <label htmlFor="username" className="block text-sm font-medium text-gray-700 sr-only">
                Username
              </label>
              <div className="mt-1 relative">
                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <User className="h-5 w-5 text-gray-400" />
                </div>
                <input
                  id="username"
                  name="username"
                  type="text"
                  autoComplete="username"
                  required
                  value={username}
                  onChange={(e) => setUsername(e.target.value)}
                  className="appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#063f48] focus:border-[#063f48] sm:text-sm"
                  placeholder="Username"
                />
              </div>
            </div>

            <div>
              <label htmlFor="password" className="block text-sm font-medium text-gray-700 sr-only">
                Password
              </label>
              <div className="mt-1 relative">
                <div className="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <Lock className="h-5 w-5 text-gray-400" />
                </div>
                <input
                  id="password"
                  name="password"
                  type="password"
                  autoComplete="current-password"
                  required
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  className="appearance-none block w-full pl-10 px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#063f48] focus:border-[#063f48] sm:text-sm"
                  placeholder="Password"
                />
              </div>
            </div>
          </div>

          {error && (
            <div className="bg-red-50 border-l-4 border-red-400 p-4" role="alert">
              <div className="flex">
                <div className="flex-shrink-0">
                  <AlertTriangle className="h-5 w-5 text-red-400" aria-hidden="true" />
                </div>
                <div className="ml-3">
                  <p className="text-sm text-red-700">{error}</p>
                </div>
              </div>
            </div>
          )}

          <div>
            <button
              type="submit"
              disabled={isLoading}
              className={`group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white transition-opacity duration-150 ${
                isLoading
                  ? 'bg-[#063f48]/70 cursor-not-allowed'
                  : 'bg-[#063f48] hover:bg-[#0a5561] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#063f48]'
              }`}
            >
              <span className="absolute left-0 inset-y-0 flex items-center pl-3">
                {isLoading ? (
                  <svg className="h-5 w-5 text-white animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                    <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                ) : (
                  <LogIn className="h-5 w-5 text-white transition-colors group-hover:text-white" />
                )}
              </span>
              {isLoading ? 'Signing in...' : 'Sign in'}
            </button>
          </div>
        </form>
      </div>
    </div>
  )
}
>>>> app/admin/page.tsx
'use client'

import React, { useEffect } from 'react'
import { useRouter } from 'next/navigation' // Correct import for App Router client components

export default function AdminPage() {
  const router = useRouter();

  useEffect(() => {
    // After successful login and navigation to /admin,
    // this page immediately redirects to the default admin section.
    router.replace('/admin/events'); // Use replace to avoid adding /admin to history
  }, [router]);

  return (
    <div className="min-h-screen bg-gray-50 flex flex-col items-center justify-center text-center p-4">
      <div className="animate-pulse text-gray-600">
        <p className="text-lg font-medium">Loading Admin Dashboard...</p>
        <p className="text-sm">Redirecting to your workspace.</p>
      </div>
      {/* Basic spinner as a visual cue */}
      <div className="mt-4 h-8 w-8 border-4 border-t-transparent border-[#063f48] rounded-full animate-spin"></div>
    </div>
  );
}
>>>> app/api/auth/login/route.ts
import { NextRequest, NextResponse } from 'next/server';
import { SignJWT } from 'jose';

// Simple auth credentials - in production, these should be environment variables
const ADMIN_USERNAME = process.env.ADMIN_USERNAME || 'admin';
const ADMIN_PASSWORD = process.env.ADMIN_PASSWORD || 'SplendidBeauty2024!';
const JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key-here';

export async function POST(request: NextRequest) {
  try {
    const { username, password } = await request.json();

    console.log('Login attempt:', {
      providedUsername: username,
      providedPassword: password,
      expectedUsername: ADMIN_USERNAME,
      expectedPassword: ADMIN_PASSWORD
    });

    // Validate credentials
    if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {
      console.log('Login successful');
      // Create JWT token
      const secret = new TextEncoder().encode(JWT_SECRET);
      const token = await new SignJWT({ username })
        .setProtectedHeader({ alg: 'HS256' })
        .setIssuedAt()
        .setExpirationTime('24h')
        .sign(secret);

      // Create the response
      const response = NextResponse.json({ success: true });

      // Set the token as an HTTP-only cookie
      response.cookies.set('auth-token', token, {
        httpOnly: true,
        secure: process.env.NODE_ENV === 'production',
        sameSite: 'lax',
        path: '/',
        maxAge: 60 * 60 * 24 // 24 hours
      });

      return response;
    } else {
      console.log('Login failed: Invalid credentials');
      return NextResponse.json(
        { error: 'Invalid username or password' },
        { status: 401 }
      );
    }
  } catch (error) {
    console.error('Login error:', error);
    return NextResponse.json(
      { error: 'An error occurred during login' },
      { status: 500 }
    );
  }
}

>>>> app/api/auth/logout/route.ts
import { NextResponse } from 'next/server';

export async function POST() {
  const response = NextResponse.json({ success: true });
  
  // Clear the auth cookie
  response.cookies.set('auth-token', '', {
    httpOnly: true,
    secure: process.env.NODE_ENV === 'production',
    sameSite: 'lax',
    maxAge: 0 // Expire immediately
  });

  return response;
}

>>>> app/api/blog/route.ts
import { NextRequest, NextResponse } from 'next/server';
import fs from 'fs/promises'; // Using fs.promises for async operations
import path from 'path';
import { v4 as uuidv4 } from 'uuid';
import sharp from 'sharp';
import { z } from 'zod'; // For input validation

// Define the data directory and file paths
const DATA_DIR = path.join(process.cwd(), 'data');
const BLOG_FILE = path.join(DATA_DIR, 'blog-posts.json');
const IMAGES_DIR = path.join(process.cwd(), 'public', 'uploads', 'blog');

// Zod schema for BlogPost validation
const blogPostSchema = z.object({
  id: z.string().uuid(),
  title: z.string().min(1, "Title is required"),
  slug: z.string().min(1),
  excerpt: z.string(),
  content: z.string().min(1, "Content is required"),
  featuredImage: z.string(), // URL path
  imageAlt: z.string(),
  author: z.string().min(1, "Author is required"),
  publishedAt: z.string().datetime({ offset: true }).nullable(),
  status: z.enum(['draft', 'published']),
  createdAt: z.string().datetime({ offset: true }),
  updatedAt: z.string().datetime({ offset: true }),
  seo: z.object({
    metaTitle: z.string().optional(),
    metaDescription: z.string().optional(),
    keywords: z.array(z.string()).optional(),
  }),
});

export type BlogPost = z.infer<typeof blogPostSchema>;

// Ensure directories exist (run once on server start)
(async () => {
  try {
    await fs.mkdir(DATA_DIR, { recursive: true });
    await fs.mkdir(IMAGES_DIR, { recursive: true });
    try {
      await fs.access(BLOG_FILE);
    } catch {
      await fs.writeFile(BLOG_FILE, JSON.stringify([], null, 2));
    }
  } catch (error) {
    console.error("Failed to initialize data directories or blog file:", error);
  }
})();

// In-memory cache for blog posts
let postsCache: BlogPost[] | null = null;
let cacheTimestamp: number = 0;
const CACHE_DURATION_MS = process.env.NODE_ENV === 'development' ? 0 : 5000; // 5 seconds cache in prod, 0 in dev

async function getBlogPosts(forceRefresh: boolean = false): Promise<BlogPost[]> {
  const now = Date.now();
  if (!forceRefresh && postsCache && (now - cacheTimestamp < CACHE_DURATION_MS)) {
    return postsCache;
  }
  try {
    const data = await fs.readFile(BLOG_FILE, 'utf8');
    postsCache = JSON.parse(data) as BlogPost[]; // Add type assertion
    cacheTimestamp = now;
    return postsCache;
  } catch (error) {
    console.error('Error reading blog posts file:', error);
    postsCache = null; // Invalidate cache on error
    return []; // Return empty or throw, depending on desired behavior
  }
}

async function saveBlogPosts(posts: BlogPost[]): Promise<void> {
  try {
    await fs.writeFile(BLOG_FILE, JSON.stringify(posts, null, 2));
    postsCache = posts; // Update cache
    cacheTimestamp = Date.now();
  } catch (error) {
    console.error('Error writing blog posts file:', error);
    throw new Error('Failed to save blog posts'); // Propagate error
  }
}

function generateSlug(title: string): string {
  return title
    .toLowerCase()
    .trim()
    .replace(/\s+/g, '-') // Replace spaces with -
    .replace(/[^\w-]+/g, '') // Remove all non-word chars
    .replace(/--+/g, '-') // Replace multiple - with single -
    .replace(/^-+/, '') // Trim - from start of text
    .replace(/-+$/, ''); // Trim - from end of text
}

async function processAndSaveImage(imageBuffer: Buffer, fileNameBase: string): Promise<string> {
  const uniqueFileName = `${fileNameBase}-${Date.now()}.webp`; // Use timestamp for uniqueness and webp
  const filePath = path.join(IMAGES_DIR, uniqueFileName);
  
  try {
    await sharp(imageBuffer)
      .resize({ width: 1200, fit: 'inside', withoutEnlargement: true })
      .webp({ quality: 85 }) // Convert to WebP for better compression and quality
      .toFile(filePath);
    return `/uploads/blog/${uniqueFileName}`;
  } catch (error) {
    console.error('Error processing image with Sharp:', error);
    // Fallback: try to save original if sharp fails (though less likely with buffer input)
    // For simplicity, we'll throw. In a real app, you might save the original or a placeholder.
    throw new Error('Image processing failed');
  }
}

// GET handler
export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const id = searchParams.get('id');
    const status = searchParams.get('status') as BlogPost['status'] | 'all';
    
    let posts = await getBlogPosts();
    
    if (id) {
      const post = posts.find(p => p.id === id);
      return post 
        ? NextResponse.json({ post })
        : NextResponse.json({ error: 'Blog post not found' }, { status: 404 });
    }
    
    if (status && status !== 'all') {
      posts = posts.filter(post => post.status === status);
    }
    
    posts.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());
    
    return NextResponse.json({ posts });
  } catch (error) {
    console.error("GET /api/blog Error:", error);
    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });
  }
}

// POST handler
export async function POST(request: NextRequest) {
  try {
    const formData = await request.formData();
    const now = new Date().toISOString();

    const rawData = {
      title: formData.get('title') as string,
      content: formData.get('content') as string,
      excerpt: formData.get('excerpt') as string,
      author: formData.get('author') as string,
      status: formData.get('status') as BlogPost['status'],
      imageAlt: formData.get('imageAlt') as string,
      metaTitle: formData.get('metaTitle') as string,
      metaDescription: formData.get('metaDescription') as string,
      keywordsInput: formData.get('keywords') as string,
    };

    // Basic validation
    if (!rawData.title || !rawData.content) {
      return NextResponse.json({ error: 'Title and Content are required' }, { status: 400 });
    }
    
    const imageFile = formData.get('image') as File | null;
    let featuredImage = '';

    if (imageFile) {
      const bytes = await imageFile.arrayBuffer();
      const buffer = Buffer.from(bytes);
      const slugForFileName = generateSlug(rawData.title) || 'untitled';
      featuredImage = await processAndSaveImage(buffer, slugForFileName);
    }
    
    const newPostData: Omit<BlogPost, 'id' | 'slug' | 'createdAt' | 'updatedAt' | 'publishedAt'> & { publishedAt?: string | null } = {
      title: rawData.title,
      content: rawData.content,
      excerpt: rawData.excerpt || rawData.content.substring(0, 150) + (rawData.content.length > 150 ? '...' : ''),
      author: rawData.author || 'Splendid Beauty Team',
      status: rawData.status || 'draft',
      featuredImage,
      imageAlt: rawData.imageAlt || rawData.title,
      seo: {
        metaTitle: rawData.metaTitle || rawData.title,
        metaDescription: rawData.metaDescription || rawData.excerpt || rawData.content.substring(0, 160) + (rawData.content.length > 160 ? '...' : ''),
        keywords: rawData.keywordsInput ? rawData.keywordsInput.split(',').map(k => k.trim()).filter(Boolean) : [],
      }
    };
    
    const newPost: BlogPost = {
      ...newPostData,
      id: uuidv4(),
      slug: generateSlug(newPostData.title),
      publishedAt: newPostData.status === 'published' ? now : null,
      createdAt: now,
      updatedAt: now,
    };

    // Validate with Zod before saving (optional, but good practice)
    // blogPostSchema.parse(newPost); 

    const posts = await getBlogPosts(true); // Force refresh before adding
    posts.push(newPost);
    await saveBlogPosts(posts);
    
    return NextResponse.json({ post: newPost }, { status: 201 });
  } catch (error) {
    console.error("POST /api/blog Error:", error);
    if (error instanceof z.ZodError) {
      return NextResponse.json({ error: "Validation failed", details: error.errors }, { status: 400 });
    }
    return NextResponse.json({ error: 'Error creating blog post' }, { status: 500 });
  }
}

// PUT handler
export async function PUT(request: NextRequest) {
  try {
    const formData = await request.formData();
    const id = formData.get('id') as string;

    if (!id) {
      return NextResponse.json({ error: 'Post ID is required' }, { status: 400 });
    }

    const posts = await getBlogPosts(true); // Force refresh
    const postIndex = posts.findIndex(post => post.id === id);

    if (postIndex === -1) {
      return NextResponse.json({ error: 'Blog post not found' }, { status: 404 });
    }

    const existingPost = posts[postIndex];
    const now = new Date().toISOString();

    const rawData = {
      title: formData.get('title') as string,
      content: formData.get('content') as string,
      excerpt: formData.get('excerpt') as string,
      author: formData.get('author') as string,
      status: formData.get('status') as BlogPost['status'],
      imageAlt: formData.get('imageAlt') as string,
      metaTitle: formData.get('metaTitle') as string,
      metaDescription: formData.get('metaDescription') as string,
      keywordsInput: formData.get('keywords') as string,
    };
    
    let featuredImage = existingPost.featuredImage;
    const imageFile = formData.get('image') as File | null;

    if (imageFile) {
      // Delete old image if it's different and exists
      if (existingPost.featuredImage && existingPost.featuredImage.startsWith('/uploads/blog/')) {
        const oldImagePath = path.join(process.cwd(), 'public', existingPost.featuredImage);
        try {
          await fs.unlink(oldImagePath);
        } catch (unlinkError) {
          console.warn(`Failed to delete old image ${oldImagePath}:`, unlinkError);
        }
      }
      const bytes = await imageFile.arrayBuffer();
      const buffer = Buffer.from(bytes);
      const slugForFileName = generateSlug(rawData.title || existingPost.title) || 'untitled';
      featuredImage = await processAndSaveImage(buffer, slugForFileName);
    }

    const updatedPostData: Partial<BlogPost> = {
      title: rawData.title || existingPost.title,
      content: rawData.content || existingPost.content,
      author: rawData.author || existingPost.author,
      status: rawData.status || existingPost.status,
      imageAlt: rawData.imageAlt || rawData.title || existingPost.title,
      seo: {
        metaTitle: rawData.metaTitle || rawData.title || existingPost.seo.metaTitle,
        metaDescription: rawData.metaDescription || rawData.excerpt || (rawData.content || existingPost.content).substring(0, 160),
        keywords: rawData.keywordsInput ? rawData.keywordsInput.split(',').map(k => k.trim()).filter(Boolean) : existingPost.seo.keywords,
      },
      featuredImage, // This will be the new one if uploaded, or existing if not
    };
    updatedPostData.slug = generateSlug(updatedPostData.title!); // Ensure slug is updated if title changes
    updatedPostData.excerpt = rawData.excerpt || (updatedPostData.content!).substring(0, 150) + ((updatedPostData.content!).length > 150 ? '...' : '');

    if (updatedPostData.status === 'published' && existingPost.status === 'draft') {
      updatedPostData.publishedAt = now;
    } else if (updatedPostData.status === 'draft') {
      updatedPostData.publishedAt = null;
    }

    const updatedPost: BlogPost = {
      ...existingPost,
      ...updatedPostData,
      updatedAt: now,
    };
    
    // blogPostSchema.parse(updatedPost); // Validate before saving

    posts[postIndex] = updatedPost;
    await saveBlogPosts(posts);
    
    return NextResponse.json({ post: updatedPost });
  } catch (error) {
    console.error("PUT /api/blog Error:", error);
    if (error instanceof z.ZodError) {
      return NextResponse.json({ error: "Validation failed", details: error.errors }, { status: 400 });
    }
    return NextResponse.json({ error: 'Error updating blog post' }, { status: 500 });
  }
}

// DELETE handler
export async function DELETE(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const id = searchParams.get('id');

    if (!id) {
      return NextResponse.json({ error: 'Blog post ID is required' }, { status: 400 });
    }

    const posts = await getBlogPosts(true); // Force refresh
    const postIndex = posts.findIndex(post => post.id === id);

    if (postIndex === -1) {
      return NextResponse.json({ error: 'Blog post not found' }, { status: 404 });
    }

    const postToDelete = posts[postIndex];
    if (postToDelete.featuredImage && postToDelete.featuredImage.startsWith('/uploads/blog/')) {
      const imagePath = path.join(process.cwd(), 'public', postToDelete.featuredImage);
      try {
        await fs.unlink(imagePath);
      } catch (unlinkError) {
        console.warn(`Failed to delete image ${imagePath} for post ${id}:`, unlinkError);
      }
    }

    const updatedPosts = posts.filter(post => post.id !== id);
    await saveBlogPosts(updatedPosts);
    
    return NextResponse.json({ success: true, message: 'Blog post deleted' });
  } catch (error) {
    console.error("DELETE /api/blog Error:", error);
    return NextResponse.json({ error: 'Error deleting blog post' }, { status: 500 });
  }
}
>>>> app/api/events/route.ts
import { NextRequest, NextResponse } from 'next/server';
import fs from 'fs/promises'; // Using fs.promises for async operations
import path from 'path';
import { v4 as uuidv4 } from 'uuid';
import sharp from 'sharp';
import { z } from 'zod'; // For input validation

// Define the data directory and file paths
const DATA_DIR = path.join(process.cwd(), 'data');
const EVENTS_FILE = path.join(DATA_DIR, 'events.json');
const IMAGES_DIR = path.join(process.cwd(), 'public', 'uploads', 'events');

// Optimal dimensions (example: 21:8 aspect ratio for wide banners)
const OPTIMAL_WIDTH = 1680;
const OPTIMAL_HEIGHT = 640;

// Zod schema for Event validation
const eventSchema = z.object({
  id: z.string().uuid(),
  title: z.string().min(1, "Title is required"),
  date: z.string().min(1, "Date is required"), // Format "yyyy-MM-dd"
  description: z.string().min(1, "Description is required"),
  imageSrc: z.string(), // URL path
  imageAlt: z.string(),
  link: z.string().url().or(z.literal('')).or(z.literal('#')), // Allow empty, #, or valid URL
  imagePosition: z.enum(['center', 'top', 'bottom', 'left', 'right']).default('center'),
  objectFit: z.enum(['cover', 'contain']).default('cover'),
  excerpt: z.string().optional(),
  createdAt: z.string().datetime({ offset: true }),
  updatedAt: z.string().datetime({ offset: true }),
});

export type Event = z.infer<typeof eventSchema>;

// Ensure directories exist (run once on server start)
(async () => {
  try {
    await fs.mkdir(DATA_DIR, { recursive: true });
    await fs.mkdir(IMAGES_DIR, { recursive: true });
    try {
      await fs.access(EVENTS_FILE);
    } catch {
      await fs.writeFile(EVENTS_FILE, JSON.stringify([], null, 2));
    }
  } catch (error) {
    console.error("Failed to initialize data directories or events file:", error);
  }
})();

// In-memory cache for events
let eventsCache: Event[] | null = null;
let cacheTimestamp: number = 0;
const CACHE_DURATION_MS = process.env.NODE_ENV === 'development' ? 0 : 5000; // 5 seconds cache in prod, 0 in dev

async function getEvents(forceRefresh: boolean = false): Promise<Event[]> {
  const now = Date.now();
  if (!forceRefresh && eventsCache && (now - cacheTimestamp < CACHE_DURATION_MS)) {
    return eventsCache;
  }
  try {
    const data = await fs.readFile(EVENTS_FILE, 'utf8');
    eventsCache = JSON.parse(data) as Event[]; // Add type assertion
    cacheTimestamp = now;
    return eventsCache;
  } catch (error) {
    console.error('Error reading events file:', error);
    eventsCache = null; // Invalidate cache
    return [];
  }
}

async function saveEvents(events: Event[]): Promise<void> {
  try {
    await fs.writeFile(EVENTS_FILE, JSON.stringify(events, null, 2));
    eventsCache = events; // Update cache
    cacheTimestamp = Date.now();
  } catch (error) {
    console.error('Error writing events file:', error);
    throw new Error('Failed to save events');
  }
}

function generateSafeFileNameBase(title: string): string {
  return title
    .toLowerCase()
    .trim()
    .replace(/\s+/g, '-')
    .replace(/[^\w-]+/g, '')
    .replace(/--+/g, '-')
    .substring(0, 50); // Max length for file name part
}

async function processAndSaveImage(imageBuffer: Buffer, fileNameBase: string): Promise<string> {
  const uniqueFileName = `${fileNameBase}-${Date.now()}.webp`; // Use timestamp and webp
  const filePath = path.join(IMAGES_DIR, uniqueFileName);

  try {
    // Resize to fit within OPTIMAL_WIDTH x OPTIMAL_HEIGHT, maintaining aspect ratio, then convert to WebP
    await sharp(imageBuffer)
      .resize({
        width: OPTIMAL_WIDTH,
        height: OPTIMAL_HEIGHT,
        fit: 'inside', // Ensures the image fits within dimensions without cropping, maintains aspect ratio
        withoutEnlargement: true
      })
      .webp({ quality: 85 })
      .toFile(filePath);
    return `/uploads/events/${uniqueFileName}`;
  } catch (error) {
    console.error('Error processing event image with Sharp:', error);
    throw new Error('Event image processing failed');
  }
}

// GET handler
export async function GET() {
  try {
    const events = await getEvents();
    // Sort by creation date, newest first (optional, client can sort too)
    const sortedEvents = events.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());
    return NextResponse.json({ events: sortedEvents });
  } catch (error) {
    console.error("GET /api/events Error:", error);
    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });
  }
}

// POST handler
export async function POST(request: NextRequest) {
  try {
    const formData = await request.formData();
    const now = new Date().toISOString();

    const rawData = {
      title: formData.get('title') as string,
      date: formData.get('date') as string, // Expecting "yyyy-MM-dd"
      description: formData.get('description') as string,
      link: formData.get('link') as string,
      imageAlt: formData.get('imageAlt') as string,
      imagePosition: formData.get('imagePosition') as Event['imagePosition'],
      objectFit: formData.get('objectFit') as Event['objectFit'],
      excerpt: formData.get('excerpt') as string,
    };

    if (!rawData.title || !rawData.date || !rawData.description) {
      return NextResponse.json({ error: 'Title, Date, and Description are required' }, { status: 400 });
    }

    const imageFile = formData.get('image') as File | null;
    if (!imageFile) {
      return NextResponse.json({ error: 'Image is required for new events' }, { status: 400 });
    }

    const bytes = await imageFile.arrayBuffer();
    const buffer = Buffer.from(bytes);
    const fileNameBase = generateSafeFileNameBase(rawData.title);
    const imageSrc = await processAndSaveImage(buffer, fileNameBase);

    const newEventData: Omit<Event, 'id' | 'createdAt' | 'updatedAt'> = {
      title: rawData.title,
      date: rawData.date, // Store as "yyyy-MM-dd"
      description: rawData.description,
      imageSrc,
      imageAlt: rawData.imageAlt || rawData.title, // Default alt text to title
      link: rawData.link || '#',
      imagePosition: rawData.imagePosition || 'center',
      objectFit: rawData.objectFit || 'cover',
      excerpt: rawData.excerpt || rawData.description.substring(0, 140) + (rawData.description.length > 140 ? '...' : ''),
    };

    const newEvent: Event = {
      ...newEventData,
      id: uuidv4(),
      createdAt: now,
      updatedAt: now,
    };

    // eventSchema.parse(newEvent); // Validate with Zod

    const events = await getEvents(true);
    events.push(newEvent);
    await saveEvents(events);

    return NextResponse.json({ event: newEvent }, { status: 201 });
  } catch (error) {
    console.error("POST /api/events Error:", error);
    if (error instanceof z.ZodError) {
      return NextResponse.json({ error: "Validation failed", details: error.errors }, { status: 400 });
    }
    return NextResponse.json({ error: 'Error creating event' }, { status: 500 });
  }
}

// PUT handler
export async function PUT(request: NextRequest) {
  try {
    const formData = await request.formData();
    const id = formData.get('id') as string;

    if (!id) {
      return NextResponse.json({ error: 'Event ID is required' }, { status: 400 });
    }

    const events = await getEvents(true);
    const eventIndex = events.findIndex(event => event.id === id);

    if (eventIndex === -1) {
      return NextResponse.json({ error: 'Event not found' }, { status: 404 });
    }

    const existingEvent = events[eventIndex];
    const now = new Date().toISOString();

    const rawData = {
      title: formData.get('title') as string,
      date: formData.get('date') as string, // Expecting "yyyy-MM-dd"
      description: formData.get('description') as string,
      link: formData.get('link') as string,
      imageAlt: formData.get('imageAlt') as string,
      imagePosition: formData.get('imagePosition') as Event['imagePosition'],
      objectFit: formData.get('objectFit') as Event['objectFit'],
      excerpt: formData.get('excerpt') as string,
      removeImage: formData.get('removeImage') === 'true'
    };

    let imageSrc = existingEvent.imageSrc;
    const imageFile = formData.get('image') as File | null;

    const oldImageRequiresDeletion = (newImageUploaded: boolean) =>
      existingEvent.imageSrc &&
      existingEvent.imageSrc.startsWith('/uploads/events/') &&
      (newImageUploaded || rawData.removeImage);

    if (imageFile) {
      if (oldImageRequiresDeletion(true)) {
        try { await fs.unlink(path.join(process.cwd(), 'public', existingEvent.imageSrc)); }
        catch (e) { console.warn(`Old image deletion failed for ${existingEvent.imageSrc}:`, e); }
      }
      const bytes = await imageFile.arrayBuffer();
      const buffer = Buffer.from(bytes);
      const fileNameBase = generateSafeFileNameBase(rawData.title || existingEvent.title);
      imageSrc = await processAndSaveImage(buffer, fileNameBase);
    } else if (rawData.removeImage) {
      if (oldImageRequiresDeletion(false)) {
        try { await fs.unlink(path.join(process.cwd(), 'public', existingEvent.imageSrc)); }
        catch (e) { console.warn(`Image deletion failed for ${existingEvent.imageSrc}:`, e); }
      }
      imageSrc = ''; // Or a placeholder image path
    }

    const updatedEventData: Partial<Event> = {
      title: rawData.title || existingEvent.title,
      date: rawData.date || existingEvent.date,
      description: rawData.description || existingEvent.description,
      link: rawData.link !== undefined ? rawData.link : existingEvent.link, // Handle empty string for link
      imageAlt: rawData.imageAlt || rawData.title || existingEvent.title,
      imagePosition: rawData.imagePosition || existingEvent.imagePosition,
      objectFit: rawData.objectFit || existingEvent.objectFit,
      imageSrc,
    };
    updatedEventData.excerpt = rawData.excerpt || (updatedEventData.description!).substring(0, 140) + ((updatedEventData.description!).length > 140 ? '...' : '');


    const updatedEvent: Event = {
      ...existingEvent,
      ...updatedEventData,
      updatedAt: now,
    };

    // eventSchema.parse(updatedEvent); // Validate

    events[eventIndex] = updatedEvent;
    await saveEvents(events);

    return NextResponse.json({ event: updatedEvent });
  } catch (error) {
    console.error("PUT /api/events Error:", error);
    if (error instanceof z.ZodError) {
      return NextResponse.json({ error: "Validation failed", details: error.errors }, { status: 400 });
    }
    return NextResponse.json({ error: 'Error updating event' }, { status: 500 });
  }
}

// DELETE handler
export async function DELETE(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const id = searchParams.get('id');

    if (!id) {
      return NextResponse.json({ error: 'Event ID is required' }, { status: 400 });
    }

    const events = await getEvents(true);
    const eventIndex = events.findIndex(event => event.id === id);

    if (eventIndex === -1) {
      return NextResponse.json({ error: 'Event not found' }, { status: 404 });
    }

    const eventToDelete = events[eventIndex];
    if (eventToDelete.imageSrc && eventToDelete.imageSrc.startsWith('/uploads/events/')) {
      const imagePath = path.join(process.cwd(), 'public', eventToDelete.imageSrc);
      try {
        await fs.unlink(imagePath);
      } catch (unlinkError) {
        console.warn(`Failed to delete image ${imagePath} for event ${id}:`, unlinkError);
      }
    }

    const updatedEvents = events.filter(event => event.id !== id);
    await saveEvents(updatedEvents);

    return NextResponse.json({ success: true, message: 'Event deleted' });
  } catch (error) {
    console.error("DELETE /api/events Error:", error);
    return NextResponse.json({ error: 'Error deleting event' }, { status: 500 });
  }
}
>>>> app/blog/README.md
# Splendid Beauty Blog Refactor

This repository contains a comprehensive refactor of the Splendid Beauty blog page, elevating it to a truly high-end, premium experience.

## Overview

The blog page has been redesigned with a focus on:
- Premium visual aesthetics
- Enhanced user experience
- Improved accessibility
- Optimized performance
- Smooth animations and transitions

## Key Improvements

### 1. Visual Design

#### Hero Section
- **Darkened Background**: Enhanced gradient overlay (`from-[#063f48]/70 via-[#063f48]/80 to-[#052b31]/90`)
- **Responsive Images**: WebP format with source sets and lazy loading
- **Marbled Pattern**: Updated with darker gold accents (`#8c6e34`)

#### Search Bar
- **Subtle Styling**: Lighter border (`border-white/10`)
- **Inner Shadow**: Added `shadow-inner` for depth
- **Improved Contrast**: Better visual hierarchy

#### Card Design
- **Fixed Aspect Ratio**: 4:3 containers using `aspect-[4/3]`
- **Hover Animations**: `motion-safe:hover:scale-[1.03]`
- **Larger Spacing**: `gap-x-8 gap-y-10` for better breathing room

### 2. Typography
- **Intermediate Size**: Added custom `text-20` class (20px)
- **Improved Hierarchy**: Better visual organization of content
- **Custom CSS**: `blog-typography.css` for additional styling

### 3. Navigation
- **Elevated Bar**: Appears after 100px scroll with backdrop blur
- **Footer Navigation**: "Back to Home" moved to footer
- **Smooth Transitions**: Seamless user experience

### 4. Accessibility
- **WCAG-AA Compliance**: Darker gold color (`#8c6e34`) for better contrast
- **Alt Text**: Auto-generated from post titles
- **ARIA Labels**: Added to all interactive elements

### 5. Performance
- **Lazy Loading**: Non-critical images load on demand
- **Preloading**: Hero images load immediately
- **WebP Format**: Optimized image compression
- **Responsive Sizes**: Multiple image variants for different viewports

## Files Modified

### Main Files
1. **`page.tsx`** - Complete refactor of blog page component
2. **`layout.tsx`** - Updated to import custom CSS
3. **`blog-typography.css`** - Custom typography styles

### New Files
1. **`/public/images/hero/marbled-background-low.svg`** - Low-res placeholder
2. **`/public/images/hero/marbled-background-responsive.webp`** - Responsive image
3. **`/scripts/create-webp-images.js`** - Image optimization script

## CSS Classes

### Custom Typography
```css
.text-20 {
  font-size: 20px;
  line-height: 1.4;
}
```

### Inner Shadow
```css
.shadow-inner-white/5 {
  box-shadow: inset 0 2px 4px 0 rgba(255, 255, 255, 0.05);
}
```

### Aspect Ratios
```css
.aspect-[4/3] {
  aspect-ratio: 4 / 3;
}
```

## Color Palette

| Color Name | Hex Code | Usage |
|------------|----------|-------|
| Teal Primary | `#063f48` | Headers, CTA buttons |
| Darker Gold | `#8c6e34` | Tag pills, accents |
| Light Gold | `#C09E6C` | Hover states, highlights |
| Blue-Gray | `#52646F` | Secondary elements |

## Implementation

### To Use These Changes:
1. Replace existing `page.tsx` with refactored version
2. Import `blog-typography.css` in layout
3. Add responsive WebP images to public directory
4. Update any related components to match new styling

### For WebP Images:
```javascript
<picture>
  <source
    media="(min-width: 1024px)"
    srcSet="/images/hero/marbled-background-large.webp"
    type="image/webp"
  />
  <source
    media="(min-width: 640px)"
    srcSet="/images/hero/marbled-background-medium.webp"
    type="image/webp"
  />
  <img
    src="/images/hero/marbled-background-low.svg"
    alt=""
    className="absolute inset-0 w-full h-full object-cover"
  />
</picture>
```

## Browser Support
- WebP format supported in all modern browsers
- Fallback SVG placeholders for older browsers
- Progressive enhancement approach

## Performance Metrics
- Reduced layout shift with aspect ratios
- Optimized images with WebP compression
- Lazy loading implemented for off-screen images
- Smooth 60fps animations

## Next Steps
1. Convert marbled background to actual WebP format
2. Generate responsive image sizes using sharp
3. Implement progressive image loading
4. Add performance monitoring

## License
 2024 Splendid Beauty Bar & Co. All rights reserved.
>>>> app/blog/[slug]/client-layout.tsx
'use client'

import { AnimatePresence } from 'framer-motion'
import { useEffect } from 'react'

export default function BlogPostClientLayout({
  children,
}: {
  children: React.ReactNode
}) {
  // Reset scroll position and ensure scrolling works when component mounts
  useEffect(() => {
    // Reset scroll position to top
    window.scrollTo(0, 0)
    
    // Make sure overflow is properly set
    document.body.style.overflow = 'auto'
    document.documentElement.style.overflow = 'auto'
    
    // Add special class to body for blog post pages
    document.body.classList.add('blog-post-body')
    
    return () => {
      // Clean up
      document.body.style.overflow = ''
      document.documentElement.style.overflow = ''
      document.body.classList.remove('blog-post-body')
    }
  }, [])

  return (
    <AnimatePresence mode="wait">
      <div className="w-full h-full overflow-auto blog-post-wrapper">
        {children}
      </div>
    </AnimatePresence>
  )
}

>>>> app/blog/[slug]/layout.tsx
import type { Metadata } from 'next'
import Navbar from '@/components/navbar'
import BlogPostClientLayout from './client-layout'

export const metadata: Metadata = {
  title: 'Blog Post | Splendid Beauty',
  description: 'Detailed article from Splendid Beauty Blog.',
  openGraph: {
    title: 'Blog Post | Splendid Beauty',
    description: 'Detailed article from Splendid Beauty Blog.',
    url: 'https://splendidbeautybar.com/blog',
    siteName: 'Splendid Beauty Bar & Co.',
    images: [
      {
        url: '/images/og-blog.jpg',
        width: 1200,
        height: 630,
        alt: 'Splendid Beauty Blog',
      },
    ],
    locale: 'en_US',
    type: 'article',
  },
}

export default function BlogPostLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div className="flex flex-col min-h-screen bg-[url('/images/elegant-gold-background.webp')] bg-cover bg-fixed bg-center relative">
      <div className="absolute inset-0 backdrop-blur-[1px] bg-black/5"></div>
      <Navbar scrolled={true} />
      <main className="flex-grow overflow-y-auto overflow-x-hidden blog-post-container relative z-10">
        <BlogPostClientLayout>{children}</BlogPostClientLayout>
      </main>
    </div>
  )
}

>>>> app/blog/[slug]/page.tsx
'use client';

import React, { useState, useEffect, useMemo, useCallback } from 'react';
import Image from 'next/image';
import Link from 'next/link';
import { useParams, useRouter } from 'next/navigation';
import { motion } from 'framer-motion';
import { ChevronLeft, Calendar, User, Clock, Tag, Share2, Twitter, Facebook, Linkedin } from 'lucide-react';
import MarkdownContent from '../../../components/MarkdownContent'; // Adjusted path

// Type for blog posts
interface BlogPost {
  id: string;
  title: string;
  slug: string;
  excerpt: string;
  content: string;
  featuredImage: string;
  imageAlt: string;
  author: string;
  publishedAt: string | null;
  status: 'draft' | 'published';
  createdAt: string;
  updatedAt: string;
  seo: {
    metaTitle?: string;
    metaDescription?: string;
    keywords?: string[];
  };
}

const formatDate = (dateString: string | null): string => {
  if (!dateString) return 'Date not available';
  try {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric', month: 'long', day: 'numeric'
    });
  } catch {
    return dateString;
  }
};

const estimateReadingTime = (content: string): string => {
  if (!content) return '0 min read';
  const wordsPerMinute = 200;
  const wordCount = content.split(/\s+/).length;
  const minutes = Math.ceil(wordCount / wordsPerMinute);
  return `${minutes} min read`;
};


const ShareButtons: React.FC<{ title: string; url: string }> = React.memo(({ title, url }) => {
  const [copied, setCopied] = useState(false);

  const shareActions = useMemo(() => [
    {
      label: 'Share on Twitter',
      Icon: Twitter,
      action: () => window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`, '_blank', 'noopener,noreferrer'),
      bgColor: 'bg-[#1DA1F2]',
      hoverColor: 'hover:bg-[#1A8CD8]',
    },
    {
      label: 'Share on Facebook',
      Icon: Facebook,
      action: () => window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank', 'noopener,noreferrer'),
      bgColor: 'bg-[#1877F2]',
      hoverColor: 'hover:bg-[#166FE5]',
    },
    {
      label: 'Share on LinkedIn',
      Icon: Linkedin,
      action: () => window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank', 'noopener,noreferrer'),
      bgColor: 'bg-[#0A66C2]',
      hoverColor: 'hover:bg-[#004182]',
    },
    {
      label: copied ? 'Link Copied!' : 'Copy Link',
      Icon: Share2,
      action: () => {
        navigator.clipboard.writeText(url).then(() => {
          setCopied(true);
          setTimeout(() => setCopied(false), 2000);
        });
      },
      bgColor: 'bg-gray-600',
      hoverColor: 'hover:bg-gray-700',
    },
  ], [title, url, copied]);

  return (
    <div className="flex items-center gap-3 sm:gap-4">
      {shareActions.map(({ label, Icon, action, bgColor, hoverColor }) => (
        <button
          key={label}
          onClick={action}
          className={`inline-flex items-center justify-center h-10 w-10 rounded-full text-white ${bgColor} ${hoverColor} transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-current`}
          aria-label={label}
          title={label}
        >
          <Icon className="h-5 w-5" />
        </button>
      ))}
    </div>
  );
});
ShareButtons.displayName = 'ShareButtons';


export default function BlogPostPage() {
  const params = useParams();
  const router = useRouter(); // For navigation
  const [post, setPost] = useState<BlogPost | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const slug = useMemo(() => params?.slug as string | undefined, [params?.slug]);

  useEffect(() => {
    // Ensure body scrolling is enabled for this page
    document.body.style.overflow = 'auto';
    document.documentElement.style.overflow = 'auto';
    window.scrollTo(0, 0); // Scroll to top on mount
  }, []);


  useEffect(() => {
    const fetchPost = async () => {
      if (!slug) {
        setError('Blog post slug is missing.');
        setLoading(false);
        return;
      }

      setLoading(true);
      setError(null);
      try {
        // Optimization: If an API endpoint /api/blog/slug/:slug exists, use it.
        // For now, using the provided method of fetching all and filtering.
        // This is highly inefficient for many posts and should be addressed with a dedicated API endpoint.
        const response = await fetch('/api/blog?status=published');
        if (!response.ok) {
          const errorData = await response.json().catch(() => ({}));
          throw new Error(errorData.error || `Failed to fetch blog posts: ${response.statusText}`);
        }

        const data = await response.json();
        const foundPost = data.posts?.find((p: BlogPost) => p.slug === slug);

        if (foundPost) {
          setPost(foundPost);
        } else {
          setError('Blog post not found. It may have been moved or unpublished.');
        }
      } catch (err) {
        console.error('Error fetching blog post:', err);
        setError(err instanceof Error ? err.message : 'An error occurred while loading the post.');
      } finally {
        setLoading(false);
      }
    };

    fetchPost();
  }, [slug]);

  const shareUrl = useMemo(() => typeof window !== 'undefined' ? window.location.href : '', []);


  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-screen bg-gradient-to-b from-gray-50 to-white">
        <motion.div
          animate={{ rotate: 360 }}
          transition={{ duration: 1, repeat: Infinity, ease: "linear" }}
          className="h-12 w-12 border-4 border-t-[#063f48] border-r-[#063f48]/50 border-b-[#063f48]/50 border-l-[#063f48]/50 rounded-full"
        />
      </div>
    );
  }

  if (error || !post) {
    return (
      <div className="min-h-screen flex flex-col items-center justify-center text-center p-6 bg-gradient-to-b from-gray-50 to-white">
        <h1 className="text-3xl font-bold text-gray-800 mb-3">Post Not Found</h1>
        <p className="text-gray-600 mb-6 max-w-md">{error || "The blog post you're looking for doesn't exist or could not be loaded."}</p>
        <button
          onClick={() => router.push('/blog')}
          className="inline-flex items-center px-6 py-3 rounded-lg bg-[#063f48] text-white hover:bg-[#052b31] transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-[#063f48]"
        >
          <ChevronLeft className="h-5 w-5 mr-2" />
          Back to Blog
        </button>
      </div>
    );
  }

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      transition={{ duration: 0.5 }}
      className="min-h-screen bg-gradient-to-b from-gray-50 to-white/50" // Subtle gradient
    >
      {/* Hero Section */}
      <div className="relative h-[50vh] md:h-[60vh] lg:h-[65vh] overflow-hidden group">
        {post.featuredImage ? (
          <Image
            src={post.featuredImage}
            alt={post.imageAlt || post.title}
            fill
            className="object-cover transition-transform duration-500 ease-in-out group-hover:scale-105"
            priority
            quality={90}
            sizes="100vw"
          />
        ) : (
          <div className="absolute inset-0 bg-gray-300 flex items-center justify-center">
            <p className="text-gray-500">No image available</p>
          </div>
        )}
        <div className="absolute inset-0 bg-gradient-to-t from-black/70 via-black/50 to-transparent" />
        <div className="absolute inset-x-0 bottom-0 p-6 md:p-10 lg:p-12 text-white max-w-5xl mx-auto">
          {post.seo.keywords?.[0] && (
            <span className="inline-block bg-[#C09E6C]/90 text-white px-3 py-1 rounded-full text-xs sm:text-sm font-medium mb-3 shadow">
              {post.seo.keywords[0]}
            </span>
          )}
          <h1 className="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 md:mb-4 line-clamp-3 leading-tight">
            {post.title}
          </h1>
          <div className="flex flex-wrap items-center gap-x-4 gap-y-2 text-sm sm:text-base text-white/90">
            <span className="flex items-center gap-1.5"><Calendar className="h-4 w-4" />{formatDate(post.publishedAt)}</span>
            <span className="flex items-center gap-1.5"><User className="h-4 w-4" />{post.author}</span>
            <span className="flex items-center gap-1.5"><Clock className="h-4 w-4" />{estimateReadingTime(post.content)}</span>
          </div>
        </div>
      </div>

      {/* Content */}
      <div className="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-16">
        <article className="mb-12 md:mb-16">
          <MarkdownContent content={post.content} />
        </article>

        {post.seo.keywords && post.seo.keywords.length > 0 && (
          <div className="mb-10 md:mb-12">
            <h3 className="text-base font-semibold text-gray-600 mb-3 flex items-center">
              <Tag className="h-4 w-4 mr-2 text-[#C09E6C]" />
              Tags
            </h3>
            <div className="flex flex-wrap gap-2">
              {post.seo.keywords.map((keyword) => (
                <span key={keyword} className="px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-xs hover:bg-gray-200 transition-colors">
                  {keyword}
                </span>
              ))}
            </div>
          </div>
        )}

        <div className="border-t border-gray-200 pt-8 md:pt-10">
          <h3 className="text-lg font-semibold text-gray-800 mb-4">Share this article</h3>
          <ShareButtons title={post.title} url={shareUrl} />
        </div>

        <div className="mt-12 md:mt-16 border-t border-gray-200 pt-8 md:pt-10">
          <Link
            href="/blog"
            className="inline-flex items-center text-[#063f48] hover:text-[#C09E6C] transition-colors font-medium group"
          >
            <ChevronLeft className="h-5 w-5 mr-1.5 transition-transform group-hover:-translate-x-1" />
            Back to Blog
          </Link>
        </div>
      </div>
    </motion.div>
  );
}
>>>> app/blog/blog-typography.css
/* Custom typography for blog page */

/* Intermediate subheading size (20px) */
.text-20 {
  font-size: 20px;
  line-height: 1.4;
}

/* Enhanced search bar with inner shadow effect */
.shadow-inner-white\/5 {
  box-shadow: inset 0 2px 4px 0 rgba(255, 255, 255, 0.05);
}

input:focus.shadow-inner-white\/5 {
  box-shadow: inset 0 2px 4px 0 rgba(255, 255, 255, 0.1);
}

/* Aspect ratio containers for images */
.aspect-4-3 {
  aspect-ratio: 4 / 3;
}

.aspect-16-9 {
  aspect-ratio: 16 / 9;
}

/* Animation for motion-safe hover scale */
@media (prefers-reduced-motion: no-preference) {
  .motion-safe\:hover\:scale-\[1\.03\]:hover {
    transform: scale(1.03);
  }
}

/* Backdrop blur for navbar */
.navbar-elevated {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* Custom shadow for elevated navbar */
.shadow-md\/10 {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/* Responsive image sizing */
@media (min-width: 1024px) {
  .responsive-image-large {
    width: 100%;
    height: auto;
    object-fit: cover;
  }
}

@media (min-width: 640px) and (max-width: 1023px) {
  .responsive-image-medium {
    width: 100%;
    height: auto;
    object-fit: cover;
  }
}
>>>> app/blog/client-layout.tsx
'use client'

import React, { useState, useEffect } from 'react'
import Navbar from '@/components/navbar'

export default function ClientLayout({
    children,
}: {
    children: React.ReactNode
}) {
    const [scrolled, setScrolled] = useState(false)

    useEffect(() => {
        const handleScroll = () => {
            const isScrolled = window.scrollY > 10
            setScrolled(isScrolled)
        }
        window.addEventListener('scroll', handleScroll)
        return () => window.removeEventListener('scroll', handleScroll)
    }, [])

    return (
        <>
            <Navbar scrolled={scrolled} />
            {children}
        </>
    )
} 
>>>> app/blog/data/posts.ts
// app/blog/data/posts.ts
export interface BlogPost {
  id: string
  slug: string
  title: string
  date: string
  author: string
  coverImage: string
  excerpt: string
  content: string
  tags: string[]
  category: string
  readTime: string
}

export const POSTS_PER_PAGE = 9

const blogPosts: BlogPost[] = [
  {
    id: '1',
    slug: 'essential-skincare-routine',
    title: 'Essential Skincare Routine for Radiant Skin',
    date: '2024-03-15',
    author: 'Dr. Sarah Johnson',
    coverImage: 'https://picsum.photos/seed/skincare1/800/600',
    excerpt: 'Learn the fundamental steps to achieve and maintain healthy, glowing skin with our expert-recommended skincare routine.',
    content: `
      <h2>Understanding Your Skin Type</h2>
      <p>Before diving into any skincare routine, it's crucial to understand your skin type. Whether you have oily, dry, combination, or sensitive skin, knowing your skin's needs helps you choose the right products.</p>
      
      <h2>Morning Routine</h2>
      <p>A proper morning skincare routine prepares your skin for the day ahead and provides essential protection against environmental stressors.</p>
      
      <h3>1. Cleanse</h3>
      <p>Start with a gentle cleanser to remove any oils or residue that accumulated overnight. For dry skin, opt for cream or oil-based cleansers. For oily skin, gel or foam cleansers work best.</p>
      
      <h3>2. Tone</h3>
      <p>Apply a toner to balance your skin's pH and prepare it for the next steps. Avoid alcohol-based toners as they can strip the skin of natural oils.</p>
      
      <h3>3. Serum</h3>
      <p>Apply a vitamin C serum for antioxidant protection against free radicals and environmental damage. This also helps brighten the skin over time.</p>
      
      <h3>4. Moisturize</h3>
      <p>Choose a moisturizer appropriate for your skin type. Those with oily skin should opt for lightweight, oil-free formulas, while those with dry skin benefit from richer creams.</p>
      
      <h3>5. Sunscreen</h3>
      <p>Apply a broad-spectrum SPF 30 or higher as the final step. This is the most crucial anti-aging product in your routine and should never be skipped, regardless of weather or season.</p>
      
      <h2>Evening Routine</h2>
      <p>Your nighttime routine focuses on repair and rejuvenation while you sleep.</p>
      
      <h3>1. Double Cleanse</h3>
      <p>First, use an oil-based cleanser to remove makeup and sunscreen. Follow with a water-based cleanser to clean the skin thoroughly.</p>
      
      <h3>2. Exfoliate (2-3 times weekly)</h3>
      <p>Use either a chemical exfoliant (AHAs or BHAs) or a gentle physical exfoliant to remove dead skin cells and promote cell turnover.</p>
      
      <h3>3. Treatment</h3>
      <p>Apply any specialized treatments, such as retinol for anti-aging, niacinamide for oil control, or hyaluronic acid for hydration.</p>
      
      <h3>4. Eye Cream</h3>
      <p>Gently pat eye cream around the orbital bone to address specific concerns like dark circles, puffiness, or fine lines.</p>
      
      <h3>5. Moisturize</h3>
      <p>Finish with a slightly richer nighttime moisturizer to lock in all the active ingredients and repair your skin's barrier overnight.</p>
      
      <h2>Weekly Treatments</h2>
      <p>In addition to your daily routine, incorporate weekly treatments for extra care.</p>
      
      <h3>Face Masks</h3>
      <p>Use a mask appropriate for your skin's needs once or twice a week. Clay masks work well for oily skin, while hydrating masks benefit dry skin.</p>
      
      <h3>Professional Treatments</h3>
      <p>Consider monthly facials or specialized treatments like chemical peels or microdermabrasion for enhanced results.</p>
      
      <h2>Lifestyle Factors for Healthy Skin</h2>
      <p>Remember that skincare isn't just about products. Stay hydrated, eat a balanced diet rich in antioxidants, get adequate sleep, and manage stress levels for truly radiant skin.</p>
    `,
    tags: ['Skincare', 'Beauty Tips', 'Routine'],
    category: 'Skincare',
    readTime: '6 min read'
  },
  {
    id: '2',
    slug: 'hair-care-tips',
    title: 'Professional Hair Care Tips for Luscious Locks',
    date: '2024-03-10',
    author: 'Emma Thompson',
    coverImage: 'https://picsum.photos/seed/haircare1/800/600',
    excerpt: 'Discover professional techniques and products that will transform your hair care routine and give you the hair of your dreams.',
    content: `
      <h2>Understanding Your Hair Type</h2>
      <p>Just like skin, hair comes in different types and textures. Knowing whether your hair is straight, wavy, curly, or coily, as well as its porosity and density, helps determine the best care routine.</p>
      
      <h2>Essential Hair Care Practices</h2>
      
      <h3>Washing Technique</h3>
      <p>Most people don't need to wash their hair daily. For most hair types, 2-3 times per week is sufficient. Focus the shampoo on your scalp rather than the lengths, and always follow with conditioner, concentrating on the mid-lengths to ends.</p>
      
      <h3>Temperature Matters</h3>
      <p>While hot showers feel amazing, they're not great for your hair. Rinse with lukewarm water, and finish with a cool rinse to seal the cuticle and add shine.</p>
      
      <h3>Gentle Drying</h3>
      <p>Avoid rough towel-drying, which can cause breakage and frizz. Instead, gently squeeze out excess water and pat dry with a microfiber towel or old cotton t-shirt.</p>
      
      <h2>Product Recommendations by Hair Type</h2>
      
      <h3>Fine Hair</h3>
      <p>Look for volumizing, lightweight products that won't weigh hair down. Avoid heavy oils and opt for mousses and lightweight serums instead.</p>
      
      <h3>Thick Hair</h3>
      <p>Rich, moisturizing products work well for thick hair. Deep conditioning masks and hair oils can help manage thickness and add moisture.</p>
      
      <h3>Curly Hair</h3>
      <p>Embrace sulfate-free shampoos, generous conditioners, and leave-in products. Consider the "curly girl method" which eliminates sulfates, silicones, and heat styling.</p>
      
      <h3>Color-Treated Hair</h3>
      <p>Invest in color-safe products specifically designed to extend the life of your color. UV protection is also important to prevent fading.</p>
      
      <h2>Heat Styling Tips</h2>
      <p>Always use heat protectant before blow-drying, straightening, or curling. Try to limit heat styling to 2-3 times per week, and keep tools at the lowest effective temperature for your hair type.</p>
      
      <h2>Professional Treatments Worth Trying</h2>
      
      <h3>Deep Conditioning Treatments</h3>
      <p>Add a weekly deep conditioning mask to restore moisture and improve elasticity.</p>
      
      <h3>Bond-Building Treatments</h3>
      <p>Products like Olaplex can help repair damage and strengthen hair bonds, especially for color-treated or heat-damaged hair.</p>
      
      <h3>Scalp Treatments</h3>
      <p>Don't forget your scalp! Exfoliating treatments remove buildup and promote healthy hair growth.</p>
      
      <h2>Trimming Schedule</h2>
      <p>Regular trims every 8-12 weeks help prevent split ends from traveling up the hair shaft. Even if you're growing your hair, maintaining regular trims is essential for healthy-looking locks.</p>
      
      <h2>Nutrition for Healthy Hair</h2>
      <p>Beautiful hair starts from within. Ensure your diet includes protein, omega-3 fatty acids, biotin, vitamins A and E, and minerals like zinc and iron. Consider supplements if your diet is lacking in these nutrients.</p>
    `,
    tags: ['Hair Care', 'Beauty Tips'],
    category: 'Hair Care',
    readTime: '5 min read'
  },
  {
    id: '3',
    slug: 'makeup-trends-2024',
    title: 'Top Makeup Trends to Watch in 2024',
    date: '2024-03-05',
    author: 'Lisa Chen',
    coverImage: 'https://picsum.photos/seed/makeup1/800/600',
    excerpt: 'Stay ahead of the curve with our expert analysis of the hottest makeup trends that will dominate the beauty scene this year.',
    content: `
      <h2>Skinimalism Continues to Reign</h2>
      <p>The "less is more" approach continues to dominate in 2024, with a focus on enhancing natural beauty rather than masking it. Think lightweight foundations, strategic concealer placement, and subtle enhancement.</p>
      
      <h3>How to Achieve It</h3>
      <p>Start with a hydrating primer, followed by a tinted moisturizer or skin tint rather than heavy foundation. Spot-conceal only where needed, and use cream products for a natural flush and glow.</p>
      
      <h2>Bold, Graphic Eyeliner</h2>
      <p>While natural skin is in, bold eye statements are making a comeback. Graphic liner in unexpected shapes and colors offers a perfect contrast to minimalist base makeup.</p>
      
      <h3>How to Achieve It</h3>
      <p>Use a fine-tip liquid liner for precision. If you're new to graphic liner, start with simple wing extensions or dots at the outer corners. Experiment with colors beyond black, like cobalt blue, emerald green, or vibrant purple.</p>
      
      <h2>Glossy Everything</h2>
      <p>High-shine finishes are everywhere this yearlips, eyelids, and even cheekbones. The modern gloss isn't sticky or uncomfortable; today's formulas offer shine without the drawbacks.</p>
      
      <h3>How to Achieve It</h3>
      <p>For glossy eyes, try a clear eye gloss over eyeshadow or on bare lids. For cheeks, use a glossy highlighter on the high points. And of course, keep a comfortable lip gloss handy for that perfect shine.</p>
      
      <h2>Blush Draping</h2>
      <p>Blush is moving beyond the apples of the cheeks. "Blush draping" involves applying blush higher on the cheekbones and even into the temple area for a sculpted, lifted effect.</p>
      
      <h3>How to Achieve It</h3>
      <p>Use a fluffy brush to apply blush at the highest point of your cheekbone, then blend upward toward your temple in a C-shape. Cream formulas work particularly well for this technique.</p>
      
      <h2>Statement Lips in Unexpected Colors</h2>
      <p>While classic reds never go out of style, 2024 brings more adventurous lip colors into the mainstream, including terracotta, burgundy, and even purple and blue-toned shades.</p>
      
      <h3>How to Achieve It</h3>
      <p>For bold lip colors, precision is key. Use a lip liner in a similar shade to outline and define, then fill in with your chosen color. Blot and reapply for longevity.</p>
      
      <h2>Elevated "No-Makeup" Makeup</h2>
      <p>Professional-looking "no-makeup" makeup requires more technique than you might expect. The goal is to look naturally flawless while appearing as though you're wearing nothing at all.</p>
      
      <h3>How to Achieve It</h3>
      <p>Focus on skin prep with hydrating skincare. Use a tinted primer or skin tint with a natural finish. Apply concealer only where needed and set with minimal powder. Use cream products for cheeks and eyes, and finish with a brow gel and subtle mascara.</p>
      
      <h2>Sustainable Beauty Practices</h2>
      <p>Beyond specific looks, 2024 shows a strong trend toward sustainable beauty. Consumers are increasingly looking for refillable packaging, plastic-free alternatives, and ethically sourced ingredients.</p>
      
      <h3>How to Achieve It</h3>
      <p>Research brands with strong sustainability credentials. Consider products with refillable packaging, and look for multi-use options (like lip and cheek tints) to minimize your product footprint.</p>
    `,
    tags: ['Makeup', 'Trends', 'Beauty Tips'],
    category: 'Makeup',
    readTime: '5 min read'
  },
  {
    id: '4',
    slug: 'natural-hair-care',
    title: 'Natural Hair Care: Embracing Your Natural Texture',
    date: '2024-02-28',
    author: 'Maria Rodriguez',
    coverImage: 'https://picsum.photos/seed/naturalhair1/800/600',
    excerpt: 'Learn how to care for and style your natural hair with our expert tips and product recommendations.',
    content: `
      <h2>Understanding Natural Hair Types</h2>
      <p>Natural hair comes in a variety of textures, from loose waves to tight coils. Understanding your specific hair type helps you choose the right products and techniques.</p>
      
      <h2>Essential Natural Hair Care Practices</h2>
      
      <h3>Moisture is Key</h3>
      <p>Natural hair tends to be dry, so maintaining moisture is crucial. Use a sulfate-free shampoo, follow with a rich conditioner, and incorporate deep conditioning treatments weekly.</p>
      
      <h3>Detangling Techniques</h3>
      <p>Detangle your hair when it's wet and saturated with conditioner. Use your fingers or a wide-tooth comb, starting from the ends and working your way up to the roots.</p>
      
      <h3>Protective Styling</h3>
      <p>Protective styles like braids, twists, and buns help minimize breakage and retain length. Ensure your hair is well-moisturized before styling and avoid styles that pull too tightly.</p>
      
      <h2>Product Recommendations</h2>
      
      <h3>Cleansers</h3>
      <p>Look for sulfate-free shampoos or co-washes that gently cleanse without stripping moisture.</p>
      
      <h3>Conditioners</h3>
      <p>Use a rich, moisturizing conditioner and consider leave-in conditioners for added hydration.</p>
      
      <h3>Styling Products</h3>
      <p>Experiment with creams, butters, and oils to find what works best for your hair. Popular options include shea butter, coconut oil, and argan oil.</p>
      
      <h2>Styling Techniques</h2>
      
      <h3>Wash and Go</h3>
      <p>For a simple, low-manipulation style, apply products to wet hair and allow it to air dry. Use a diffuser for faster drying if desired.</p>
      
      <h3>Twist Outs and Braid Outs</h3>
      <p>These techniques create defined curls and waves. Apply product to damp hair, twist or braid, and allow to dry completely before unraveling.</p>
      
      <h3>Bantu Knots</h3>
      <p>Create small knots throughout your hair for a unique, textured look. Allow to dry completely before unraveling for defined curls.</p>
      
      <h2>Common Challenges and Solutions</h2>
      
      <h3>Dryness</h3>
      <p>Combat dryness with regular deep conditioning, sealing with oils, and using the LOC (Liquid, Oil, Cream) method for styling.</p>
      
      <h3>Breakage</h3>
      <p>Minimize breakage by avoiding heat styling, using gentle detangling techniques, and maintaining moisture levels.</p>
      
      <h3>Frizz</h3>
      <p>Control frizz by using products with hold, avoiding touching your hair while it dries, and incorporating anti-humectants in humid weather.</p>
      
      <h2>Professional Tips</h2>
      <p>Consider consulting with a stylist who specializes in natural hair for personalized advice and techniques. Regular trims help maintain healthy ends and prevent split ends from traveling up the hair shaft.</p>
    `,
    tags: ['Hair Care', 'Natural Hair', 'Beauty Tips'],
    category: 'Hair Care',
    readTime: '5 min read'
  },
  {
    id: '5',
    slug: 'sustainable-beauty',
    title: 'Sustainable Beauty: Making Eco-Friendly Choices',
    date: '2024-02-20',
    author: 'James Wilson',
    coverImage: 'https://picsum.photos/seed/sustainable1/800/600',
    excerpt: 'Discover how to make eco-friendly choices in your beauty routine and reduce your environmental impact.',
    content: `
      <h2>Understanding Sustainable Beauty</h2>
      <p>Sustainable beauty involves making choices that minimize environmental impact, from product ingredients to packaging and disposal.</p>
      
      <h2>Eco-Friendly Ingredients</h2>
      
      <h3>Natural and Organic</h3>
      <p>Look for products with natural and organic ingredients, which are often grown without harmful pesticides and chemicals.</p>
      
      <h3>Avoid Harmful Ingredients</h3>
      <p>Steer clear of ingredients like parabens, sulfates, and synthetic fragrances, which can harm both your skin and the environment.</p>
      
      <h2>Sustainable Packaging</h2>
      
      <h3>Recyclable and Biodegradable</h3>
      <p>Choose products with recyclable or biodegradable packaging to reduce waste. Many brands now offer refillable options to minimize packaging.</p>
      
      <h3>Minimal Packaging</h3>
      <p>Opt for products with minimal packaging or those that use recycled materials.</p>
      
      <h2>DIY Beauty</h2>
      <p>Consider making your own beauty products using natural ingredients. This not only reduces packaging waste but also allows you to control what goes into your products.</p>
      
      <h2>Supporting Sustainable Brands</h2>
      <p>Research brands that prioritize sustainability in their practices, from sourcing ingredients to manufacturing and packaging.</p>
      
      <h2>Reducing Water Usage</h2>
      <p>Be mindful of water usage in your beauty routine. Turn off the tap while brushing your teeth or washing your face, and consider waterless beauty products.</p>
      
      <h2>Disposal and Recycling</h2>
      <p>Properly dispose of beauty products and packaging. Many brands offer recycling programs for their products, so take advantage of these opportunities.</p>
      
      <h2>Conclusion</h2>
      <p>Making sustainable choices in your beauty routine is a small but impactful way to contribute to environmental conservation. Start by incorporating eco-friendly products and practices into your daily routine.</p>
    `,
    tags: ['Sustainable Beauty', 'Eco-Friendly', 'Beauty Tips'],
    category: 'Sustainable Beauty',
    readTime: '4 min read'
  },
  {
    id: '6',
    slug: 'brow-styling-techniques',
    title: 'Master the Art of Brow Styling: Techniques for Perfect Arches',
    date: '2024-04-01',
    author: 'Sophia Garcia',
    coverImage: 'https://picsum.photos/seed/brows1/800/600',
    excerpt: 'Learn professional brow styling techniques to frame your face and enhance your natural beauty with perfectly shaped arches.',
    content: `
      <h2>Understanding Your Natural Brow Shape</h2>
      <p>The perfect brows begin with understanding your natural shape. Everyone's brows have three key points: the head (inner corner), the arch (highest point), and the tail (outer corner). Identifying these points on your own brows is essential before you start grooming.</p>
      
      <h3>Finding Your Ideal Shape</h3>
      <p>To find where your brows should start, hold a pencil vertically against the side of your nose. Where the pencil meets your brow is ideally where the head should begin. For your arch, angle the pencil from your nostril through the center of your eye. The point where it crosses your brow is your ideal arch location. Finally, angle the pencil from your nostril to the outer corner of your eye to find where your tail should end.</p>
      
      <h2>Brow Mapping Technique</h2>
      <p>Brow mapping is a professional technique that creates a blueprint for perfectly balanced brows. Using a white pencil or concealer, mark the start, arch, and endpoint of each brow based on your facial structure. This visual guide helps ensure symmetry before you start tweezing, waxing, or filling.</p>
      
      <h2>Grooming Methods</h2>
      
      <h3>Tweezing</h3>
      <p>Tweezing offers precision and is ideal for maintaining your shape between professional services. Always tweeze after a shower when pores are open, and pull hairs in the direction of growth to minimize discomfort. Focus on obvious strays and maintain the map you've created.</p>
      
      <h3>Waxing</h3>
      <p>Professional waxing provides clean, defined lines and removes multiple hairs at once. For best results, grow your brows out for at least two weeks before waxing. Always have this service performed by a trained esthetician who understands face-framing techniques.</p>
      
      <h3>Threading</h3>
      <p>Threading is an ancient technique that provides precise hair removal without chemicals. It's excellent for sensitive skin and creating clean, defined shapes. Like waxing, it's best performed by a skilled professional.</p>
      
      <h2>Filling Techniques by Brow Type</h2>
      
      <h3>Sparse Brows</h3>
      <p>For sparse brows, use a fine-tipped brow pencil to create hair-like strokes in bare areas. Layer a brow powder over the top to add dimension and help the drawn-on hairs blend with your natural ones. Finish with a clear gel to set everything in place.</p>
      
      <h3>Thick Brows</h3>
      <p>Those blessed with thick brows need minimal filling. Focus on defining the shape with a brow pencil only where needed, then use a tinted gel to tame and set the hairs in place.</p>
      
      <h3>Over-Plucked Brows</h3>
      <p>Growing back over-plucked brows requires patience. In the meantime, use a combination of pencil and powder to create the illusion of fullness. Consider a growth serum to help speed up the process.</p>
      
      <h2>Advanced Brow Styling Techniques</h2>
      
      <h3>Brow Lamination</h3>
      <p>This semi-permanent technique restructures brow hairs to stay brushed up and in place for 6-8 weeks. It creates a fluffy, full appearance even for those with sparse or unruly brows.</p>
      
      <h3>Ombr Brows</h3>
      <p>Create a gradient effect by making the inner portion of your brows lighter and gradually intensifying the color toward the tail. This mimics the natural variance in brow density and creates a soft yet defined look.</p>
      
      <h3>Soap Brows</h3>
      <p>This technique uses glycerin soap to set brows in a brushed-up, textured position. Simply wet a clean spoolie, run it over a bar of glycerin soap, then brush through your brows for all-day hold without stiffness.</p>
      
      <h2>Choosing the Right Products</h2>
      <p>Select products based on your desired finish. Pencils provide precision, powders offer a soft look, pomades give definition and longevity, while gels add texture and hold. For the most natural appearance, choose colors that match your hair roots rather than the ends, and go one shade lighter if you have very dark hair.</p>
    `,
    tags: ['Brows', 'Beauty Tips', 'Styling'],
    category: 'Brows',
    readTime: '7 min read'
  },
  {
    id: '7',
    slug: 'facial-treatments-guide',
    title: "The Ultimate Guide to Facial Treatments: What's Right for Your Skin?",
    date: '2024-04-10',
    author: 'Dr. Sarah Johnson',
    coverImage: 'https://picsum.photos/seed/facial1/800/600',
    excerpt: 'Navigate the world of facial treatments with our comprehensive guide to finding the perfect procedure for your unique skin concerns.',
    content: `
      <h2>Understanding Professional Facials</h2>
      <p>Professional facials go beyond what at-home treatments can achieve, offering deeper cleansing, professional-grade exfoliation, and targeted treatments for specific skin concerns. Regular facials can improve skin texture, clarity, and overall health when performed by licensed estheticians or dermatologists.</p>
      
      <h2>Classic Facial Treatments</h2>
      
      <h3>Basic European Facial</h3>
      <p>The European facial is a great starting point, typically including cleansing, exfoliation, steam, extractions, massage, a mask, and moisturizer. This treatment addresses multiple skin concerns and provides a foundation for more specialized treatments.</p>
      
      <h3>Deep Cleansing Facial</h3>
      <p>Focused on thorough pore cleansing, this treatment uses steam, exfoliation, and extensive extractions to remove debris and excess oil. It's ideal for oily, acne-prone, or congested skin.</p>
      
      <h3>Hydrating Facial</h3>
      <p>Designed for dry or dehydrated skin, hydrating facials incorporate moisture-boosting serums, masks, and gentle exfoliation. These treatments often include hyaluronic acid, glycerin, and other humectants to draw moisture into the skin.</p>
      
      <h2>Advanced Facial Treatments</h2>
      
      <h3>Chemical Peels</h3>
      <p>Chemical peels use acids to remove dead skin cells and stimulate new cell turnover. Options range from gentle lactic acid peels to medium-depth glycolic or salicylic acid peels, up to deeper TCA peels. The strength determines downtime and results, with deeper peels offering more dramatic improvements but requiring recovery time.</p>
      
      <h3>Microdermabrasion</h3>
      <p>This mechanical exfoliation method uses crystals or a diamond tip to remove dead skin cells and stimulate collagen production. It's ideal for improving texture, reducing mild scarring, and addressing sun damage or fine lines.</p>
      
      <h3>Oxygen Facial</h3>
      <p>Oxygen facials infuse the skin with pure oxygen alongside specialized serums containing hyaluronic acid, vitamins, and antioxidants. This treatment hydrates, plumps, and brightens the skin with no downtime, making it popular before special events.</p>
      
      <h3>LED Light Therapy</h3>
      <p>Using different wavelengths of light, LED therapy targets specific skin concerns: blue light for acne-causing bacteria, red light for inflammation and collagen production, and near-infrared for deeper healing. This gentle, non-invasive treatment works well for sensitive skin types.</p>
      
      <h2>Specialized Facial Treatments</h2>
      
      <h3>HydraFacial</h3>
      <p>This multi-step treatment combines cleansing, exfoliation, extraction, and hydration using a specialized device. It infuses the skin with serums tailored to your concerns while simultaneously removing debris from pores. The result is immediate improvement in skin clarity and radiance with no downtime.</p>
      
      <h3>Radiofrequency Facial</h3>
      <p>Using RF energy to heat the deeper skin layers, this treatment stimulates collagen and elastin production for natural tightening and contouring. Results build gradually over several sessions, with improvements in skin laxity and fine lines.</p>
      
      <h3>Microcurrent Facial</h3>
      <p>Sometimes called a "non-surgical facelift," microcurrent facials use low-level electrical currents to stimulate facial muscles and energize cells. The treatment lifts, tones, and contours while improving product penetration.</p>
      
      <h2>Choosing the Right Treatment for Your Skin Type</h2>
      
      <h3>Oily/Acne-Prone Skin</h3>
      <p>Look for deep cleansing facials, salicylic acid peels, blue LED therapy, or treatments specifically designed for acne. Regular professional extractions can also help prevent breakouts.</p>
      
      <h3>Dry/Sensitive Skin</h3>
      <p>Opt for gentle hydrating facials, oxygen treatments, mild enzyme exfoliation, or LED red light therapy. Avoid aggressive peels or treatments with potential irritants.</p>
      
      <h3>Aging Skin</h3>
      <p>Consider radiofrequency treatments, microcurrent facials, medium-depth peels, or facials incorporating vitamin C, retinol, or peptides. Consistency is key for addressing age-related concerns.</p>
      
      <h3>Hyperpigmented Skin</h3>
      <p>Seek treatments containing brightening ingredients like vitamin C, niacinamide, or alpha arbutin. Gentle chemical peels and LED therapy can also help even skin tone.</p>
      
      <h2>Preparing for Your Facial</h2>
      <p>Avoid retinoids, exfoliants, or any potentially irritating products for 2-3 days before your treatment. Come with clean skin (no makeup), and be prepared to discuss your skincare routine and concerns with your esthetician. For best results, book regular treatments as recommended by your skincare professional, typically every 4-6 weeks.</p>
    `,
    tags: ['Facials', 'Skincare', 'Professional Advice'],
    category: 'Facials',
    readTime: '8 min read'
  },
  {
    id: '8',
    slug: 'natural-beauty-ingredients',
    title: 'Natural Beauty Ingredients: From Kitchen to Skincare',
    date: '2024-02-20',
    author: 'Maya Patel',
    coverImage: 'https://picsum.photos/seed/natural1/800/600',
    excerpt: 'Discover how everyday ingredients from your kitchen can transform your beauty routine with effective, natural alternatives to commercial products.',
    content: `
      <h2>The Rise of Natural Beauty</h2>
      <p>As consumers become more ingredient-conscious, natural beauty solutions have gained tremendous popularity. Many effective skincare ingredients can be found right in your kitchen, offering simple, affordable alternatives to commercial products without synthetic chemicals or preservatives.</p>
      
      <h2>Powerful Kitchen Ingredients for Skin</h2>
      
      <h3>Honey</h3>
      <p>Raw honey is a natural humectant with antibacterial properties. It draws moisture into the skin while helping to clear blemishes and soothe inflammation. Use it as a mask on its own, or mix with other ingredients for added benefits.</p>
      
      <h3>Avocado</h3>
      <p>Rich in healthy fats and vitamins E and C, avocados nourish and hydrate the skin deeply. Mash a ripe avocado and apply directly to the face, or blend with honey for a moisturizing mask perfect for dry skin.</p>
      
      <h3>Oatmeal</h3>
      <p>Colloidal oatmeal soothes irritated skin, gently exfoliates, and helps maintain the skin's moisture barrier. Grind rolled oats into a fine powder, mix with water to form a paste, and apply to calm sensitive or eczema-prone skin.</p>
      
      <h3>Yogurt</h3>
      <p>The lactic acid in plain yogurt provides gentle exfoliation while its probiotics help balance skin's microbiome. Apply plain, unsweetened yogurt as a mask to brighten dull skin and improve texture.</p>
      
      <h3>Turmeric</h3>
      <p>This powerful anti-inflammatory spice brightens the complexion and helps even skin tone. Mix 1/4 teaspoon with honey or yogurt, but be careful as it can temporarily stain the skin (and permanently stain clothing).</p>
      
      <h2>Kitchen Remedies for Specific Concerns</h2>
      
      <h3>For Acne</h3>
      <p><strong>Tea Tree Oil + Honey Spot Treatment:</strong> Mix a drop of tea tree oil with a teaspoon of honey and apply directly to blemishes. Tea tree's antibacterial properties work alongside honey's healing benefits to reduce inflammation and speed healing.</p>
      
      <h3>For Dullness</h3>
      <p><strong>Papaya Enzyme Mask:</strong> Papaya contains papain, a natural enzyme that dissolves dead skin cells. Mash ripe papaya and apply for 10 minutes for a natural brightening effect similar to a gentle chemical exfoliant.</p>
      
      <h3>For Dry Skin</h3>
      <p><strong>Coconut Oil & Brown Sugar Scrub:</strong> Mix equal parts coconut oil and brown sugar for a moisturizing exfoliant that removes dead skin while infusing moisture. Massage gently onto damp skin, then rinse.</p>
      
      <h3>For Oily Skin</h3>
      <p><strong>Apple Cider Vinegar Toner:</strong> Dilute ACV with equal parts water to balance pH, control oil, and clear pores. Apply with a cotton pad after cleansing but before moisturizing.</p>
      
      <h3>For Under-Eye Circles</h3>
      <p><strong>Cold Cucumber Slices:</strong> The old classic works through a combination of cooling effects and mild astringent properties that temporarily tighten skin and reduce puffiness.</p>
      
      <h2>Natural Body Care</h2>
      
      <h3>Coffee Scrub</h3>
      <p>Used coffee grounds mixed with coconut oil create an invigorating scrub that may temporarily reduce the appearance of cellulite while exfoliating rough skin on areas like elbows and knees.</p>
      
      <h3>Coconut Oil Hair Mask</h3>
      <p>Warm coconut oil applied to the ends of dry hair or as a scalp treatment provides deep conditioning. Leave on for 30 minutes or overnight before shampooing.</p>
      
      <h3>Aloe Vera After-Sun Care</h3>
      <p>The gel from aloe leaves provides immediate relief for sunburned skin. Keep an aloe plant at home for fresh gel whenever needed.</p>
      
      <h2>Tips for Using Natural Ingredients</h2>
      
      <h3>Patch Test First</h3>
      <p>Even natural ingredients can cause reactions. Always test a small amount on your inner wrist and wait 24 hours before applying to your face or larger body areas.</p>
      
      <h3>Use Fresh Products</h3>
      <p>Without preservatives, natural remedies should be made in small batches and used immediately. Refrigerate any leftovers and use within 1-2 days.</p>
      
      <h3>Know the Limitations</h3>
      <p>While natural ingredients offer many benefits, they may not replace medically-necessary treatments for serious skin conditions. Consult a dermatologist for persistent concerns.</p>
      
      <h2>Complementing Commercial Products</h2>
      <p>Natural kitchen remedies work well alongside commercial skincare. Consider using natural options for occasional treatments while maintaining a core routine of well-formulated commercial products with proven active ingredients for chronic concerns.</p>
    `,
    tags: ['Natural Beauty', 'Skincare', 'DIY'],
    category: 'Skincare',
    readTime: '6 min read'
  },
  {
    id: '9',
    slug: 'nail-art-trends',
    title: 'Creative Nail Art Trends Taking Over Social Media',
    date: '2024-01-15',
    author: 'Jessica Lee',
    coverImage: 'https://picsum.photos/seed/nails1/800/600',
    excerpt: 'Explore the most innovative nail art trends dominating social feeds and how to recreate these eye-catching designs at home or in the salon.',
    content: `
      <h2>Evolution of Nail Art</h2>
      <p>Nail art has evolved from simple polishes to elaborate mini-canvases for self-expression. What was once limited to basic colors has transformed into a sophisticated art form showcasing incredible creativity and technical skill, with social media platforms driving innovation and accessibility.</p>
      
      <h2>Current Top Nail Art Trends</h2>
      
      <h3>Chrome and Metallic Finishes</h3>
      <p>Chrome powder finishes create a mirror-like, reflective surface that catches the light beautifully. From silver and gold to multidimensional holographic effects, these finishes add instant glamour to any nail look.</p>
      
      <h3>Negative Space Designs</h3>
      <p>These designs incorporate your natural nail as part of the art, creating graphic patterns that feel modern and architectural. This trend works on both short and long nails and can be as simple or complex as you prefer.</p>
      
      <h3>3D Texture and Embellishments</h3>
      <p>Dimensional nail art incorporates elements that rise from the nail surface, from subtle textures to more dramatic additions like crystals, dried flowers, or custom-made charms.</p>
      
      <h3>Gradient and Ombr</h3>
      <p>The blending of colors creates a dreamy effect that transitions from one shade to another. This versatile technique works with any color combination and can be the main focus or the background for other nail art elements.</p>
      
      <h3>Minimalist Art</h3>
      <p>Simple dots, lines, and abstract shapes on negative space or solid backgrounds make for sophisticated designs that are both stylish and wearable for everyday.</p>
      
      <h2>Seasonal Trending Designs</h2>
      
      <h3>Spring</h3>
      <p>Pastels with floral accents, cherry blossoms, and delicate watercolor designs bring the season to your fingertips. Try transparent jelly finishes for a fresh, dewy look.</p>
      
      <h3>Summer</h3>
      <p>Bright citrus colors, tropical patterns, and beach-inspired designs like waves and sunsets capture summer vibes. Neon accents and fruit motifs are particularly popular.</p>
      
      <h3>Fall</h3>
      <p>Rich earth tones, matte finishes, and designs inspired by falling leaves translate autumn's palette to nails. Consider tortoiseshell patterns or deep jewel tones.</p>
      
      <h3>Winter</h3>
      <p>Incorporate festive elements like glitter, snowflakes, and metallics. Deep velvety finishes and icy blue designs capture winter's essence.</p>
      
      <h2>Technical Innovations</h2>
      
      <h3>Gel Extensions</h3>
      <p>Compared to traditional acrylics, gel extensions offer a lighter feel and more natural appearance while providing a flawless canvas for elaborate nail art. They've become the preferred base for many nail artists creating detailed designs.</p>
      
      <h3>Magnetic Polishes</h3>
      <p>These special formulas contain metallic particles that can be manipulated with a magnet to create stunning patterns like cat eye effects or geometric designs without requiring detailed painting skills.</p>
      
      <h3>Stamping</h3>
      <p>Nail stamping plates allow for precise, complex patterns to be transferred onto the nail in seconds. This technique has democratized intricate nail art, making it achievable even for beginners.</p>
      
      <h2>DIY vs. Professional Approaches</h2>
      
      <h3>DIY-Friendly Trends</h3>
      <p>Techniques like color blocking, simple French tips with colorful twists, and dotting designs can be achieved at home with basic tools. Press-on nails have also evolved, with many artists creating custom sets for at-home application.</p>
      
      <h3>Pro-Level Techniques</h3>
      <p>Detailed hand-painting, perfect ombr gradients, and encapsulated designs (where elements are sealed within the nail enhancement) typically require professional skills and materials. These techniques are worth the salon visit for special occasions.</p>
      
      <h2>Nail Care Alongside Art</h2>
      <p>Beautiful nail art starts with healthy nails. Maintain a regular routine of gentle filing, cuticle oil application, and breaks between enhancement services. Even the most stunning design won't look its best on damaged nails, so prioritize nail health alongside artistic expression.</p>
      
      <h2>Finding Inspiration</h2>
      <p>Save images that catch your eye from social media platforms. Bring these references to your nail technician, who can adapt them to your nail shape and length. Many nail artists appreciate when clients come prepared with inspiration photos rather than vague descriptions.</p>
    `,
    tags: ['Nail Art', 'Beauty Trends', 'Styling'],
    category: 'Trends',
    readTime: '5 min read'
  },
  {
    id: '10',
    slug: 'chemical-peels-explained',
    title: 'Chemical Peels Explained: Types, Benefits, and What to Expect',
    date: '2024-02-05',
    author: 'Dr. Sarah Johnson',
    coverImage: 'https://picsum.photos/seed/peels1/800/600',
    excerpt: 'A comprehensive guide to understanding chemical peels, their benefits for various skin concerns, and how to prepare for and recover from these transformative treatments.',
    content: `
      <h2>What Are Chemical Peels?</h2>
      <p>Chemical peels are facial treatments that use controlled applications of acids to remove damaged outer layers of skin. This exfoliation process reveals fresher, smoother skin underneath and stimulates cell regeneration. The depth of the peel determines both the results and recovery time required.</p>
      
      <h2>Types of Chemical Peels</h2>
      
      <h3>Superficial Peels</h3>
      <p>These mild peels use alpha-hydroxy acids (AHAs) like glycolic or lactic acid, or beta-hydroxy acids (BHAs) like salicylic acid at concentrations typically between 20-30%. They penetrate only the outermost layer of skin (epidermis) and cause minimal downtimeusually just mild redness and flaking for 1-3 days.</p>
      
      <p><strong>Best for:</strong> Mild discoloration, rough texture, dullness, and mild acne. These gentle peels can be performed every 2-4 weeks as part of a regular maintenance regimen.</p>
      
      <h3>Medium-Depth Peels</h3>
      <p>These peels typically use higher concentrations of AHAs and BHAs (30-50%) or TCA (trichloroacetic acid) at concentrations of 15-35%. They penetrate into the upper part of the dermis (middle skin layer) and require more downtimetypically 5-7 days of noticeable peeling and redness.</p>
      
      <p><strong>Best for:</strong> More pronounced hyperpigmentation, moderate sun damage, fine lines, acne scars, and melasma. These peels are usually performed every 3-6 months.</p>
      
      <h3>Deep Peels</h3>
      <p>Deep peels use phenol or high-concentration TCA (35-50%) to penetrate into the mid-dermis. These powerful treatments are performed by physicians only and require significant downtimeoften 10-14 days of intense peeling, redness, and swelling. They're typically a one-time treatment due to their intensity.</p>
      
      <p><strong>Best for:</strong> Deeper wrinkles, more severe sun damage, deeper acne scars, and precancerous growths. Results can last for years.</p>
      
      <h2>Benefits of Chemical Peels</h2>
      
      <h3>Improves Skin Texture</h3>
      <p>By removing dead skin cells and stimulating new cell growth, peels reveal smoother, more refined skin with a more even texture. This benefit is seen across all peel depths, with deeper peels providing more dramatic improvements.</p>
      
      <h3>Reduces Hyperpigmentation</h3>
      <p>Chemical peels are excellent for addressing sun spots, age spots, melasma, and post-inflammatory hyperpigmentation. The exfoliation removes pigmented cells while ingredients like kojic acid or arbutin in certain peel formulations target melanin production.</p>
      
      <h3>Minimizes Fine Lines and Wrinkles</h3>
      <p>Medium and deep peels stimulate collagen production, which helps fill in fine lines over time. The immediate exfoliation also smooths the skin's surface, making fine lines less noticeable even before the collagen-building effects take place.</p>
      
      <h3>Clears Acne and Reduces Scarring</h3>
      <p>Salicylic acid peels are particularly effective for acne, as this oil-soluble acid can penetrate into pores to clear congestion. Regular peels can help manage breakouts while gradually improving the appearance of acne scars.</p>
      
      <h3>Enhances Product Penetration</h3>
      <p>By removing the barrier of dead skin cells, peels allow subsequent skincare products to penetrate more effectively, maximizing their benefits.</p>
      
      <h2>Preparing for a Chemical Peel</h2>
      
      <h3>Pre-Peel Consultation</h3>
      <p>Always begin with a thorough consultation with your esthetician or dermatologist. They'll evaluate your skin type, concerns, and medical history to recommend the appropriate peel type and strength. Be prepared to discuss all medications and skincare products you use regularly.</p>
      
      <h3>Pre-Peel Skincare</h3>
      <p>For optimal results and minimal complications, follow your provider's pre-peel instructions carefully. Typically, this includes:</p>
      <ul>
        <li>Discontinuing retinoids, exfoliants, and other active ingredients 3-7 days before treatment</li>
        <li>Avoiding sun exposure and using SPF 30+ daily</li>
        <li>In some cases, pre-treating with hydroquinone or other brightening agents to prevent post-inflammatory hyperpigmentation (especially for darker skin tones)</li>
      </ul>
      
      <h2>The Chemical Peel Experience</h2>
      
      <h3>During the Treatment</h3>
      <p>A typical peel appointment includes:</p>
      <ol>
        <li>Thorough cleansing to remove oils and debris</li>
        <li>Application of a peel prep solution to degrease the skin</li>
        <li>Application of the peel solution with a brush, gauze, or cotton applicator</li>
        <li>A timer to monitor the exposure time (usually 2-10 minutes depending on peel type)</li>
        <li>Neutralization of the acid (if required by the specific formulation)</li>
        <li>Application of soothing, calming products and sunscreen</li>
      </ol>
      
      <p>You'll likely feel tingling, warmth, or mild stinging during the application. Deeper peels may require pain management approaches including numbing creams or even sedation for phenol peels.</p>
      
      <h3>Post-Peel Recovery</h3>
      <p>Immediately after the peel, your skin will look anywhere from slightly pink (superficial peels) to quite red or even white-frosted (deeper peels). Your provider will give specific aftercare instructions, which typically include:</p>
      <ul>
        <li>Gentle cleansing with non-irritating cleansers</li>
        <li>Liberal application of moisturizer and sunscreen</li>
        <li>Avoiding picking or peeling at flaking skin</li>
        <li>Avoiding sun exposure</li>
        <li>Postponing makeup application for a specified period</li>
      </ul>
      
      <h2>Who Should Avoid Chemical Peels</h2>
      <p>Chemical peels aren't suitable for everyone. Exercise caution if you:</p>
      <ul>
        <li>Are pregnant or nursing</li>
        <li>Have a history of keloid scarring</li>
        <li>Have taken isotretinoin (Accutane) within the past 6-12 months</li>
        <li>Have active cold sores, open wounds, or sunburn</li>
        <li>Have very sensitive or reactive skin conditions like rosacea (though very gentle lactic acid peels may be suitable)</li>
      </ul>
      
      <h2>Professional vs. At-Home Peels</h2>
      <p>While professional-grade peels offer more dramatic results, many at-home options can provide gentle exfoliation benefits. At-home peels typically contain lower concentrations of acids (5-15%) and are designed for safer self-application. They're a good option for maintaining results between professional treatments but can't replace the transformative effects of higher-strength peels administered by trained professionals.</p>
    `,
    tags: ['Peels', 'Skincare', 'Professional Advice'],
    category: 'Peels',
    readTime: '8 min read'
  },
  {
    id: '11',
    slug: 'sustainable-beauty-practices',
    title: 'Sustainable Beauty: Eco-Friendly Practices for a Greener Routine',
    date: '2024-01-30',
    author: 'Emma Thompson',
    coverImage: 'https://picsum.photos/seed/sustain1/800/600',
    excerpt: 'Discover practical ways to make your beauty routine more sustainable without sacrificing effectiveness or luxury, from product choices to water conservation.',
    content: `
      <h2>The Environmental Impact of Beauty</h2>
      <p>The beauty industry generates significant environmental challenges, from plastic packaging waste to water pollution from chemical ingredients. Single-use products, excessive packaging, and resource-intensive manufacturing processes all contribute to beauty's environmental footprint. However, the industry is evolving, with many brands pioneering sustainable alternatives and consumers increasingly demanding eco-friendly options.</p>
      
      <h2>Sustainable Product Choices</h2>
      
      <h3>Packaging Considerations</h3>
      <p>Look for brands using recycled or biodegradable packaging, offering refill programs, or eliminating packaging entirely with solid formulations. Glass and aluminum containers are infinitely recyclable compared to plastic, which degrades in quality with each recycling cycle. Some innovative brands now use plant-based bioplastics or compostable packaging materials.</p>
      
      <h3>Ingredient Sourcing</h3>
      <p>Sustainable beauty considers not just what ingredients do for your skin but how they impact the planet. Look for:</p>
      <ul>
        <li>Organic ingredients grown without pesticides or chemical fertilizers</li>
        <li>Fair trade certification ensuring ethical sourcing practices</li>
        <li>Palm oil-free formulations (or certified sustainable palm oil)</li>
        <li>Locally sourced ingredients that reduce transportation emissions</li>
      </ul>
      
      <h3>Multi-Use Products</h3>
      <p>Products that serve multiple purposeslike tinted moisturizers with SPF or cheek and lip tintsreduce the total number of products needed. This minimizes packaging waste and resource consumption while simplifying your routine.</p>
      
      <h2>Sustainable Beauty Routines</h2>
      
      <h3>Water Conservation</h3>
      <p>The average beauty routine uses significant water, both directly and in product manufacturing. Reduce your water footprint by:</p>
      <ul>
        <li>Taking shorter showers</li>
        <li>Turning off the tap while cleansing your face</li>
        <li>Using micellar water or cleansing balms that don't require rinsing</li>
        <li>Choosing concentrated products that use less water in formulation</li>
      </ul>
      
      <h3>Energy-Efficient Styling</h3>
      <p>Heat styling tools consume substantial electricity. Embrace more sustainable approaches by:</p>
      <ul>
        <li>Air-drying hair when possible</li>
        <li>Using heat-styling tools on lower settings</li>
        <li>Investing in energy-efficient appliances</li>
        <li>Embracing your natural texture with heat-free styling methods</li>
      </ul>
      
      <h3>Mindful Consumption</h3>
      <p>Perhaps the most sustainable practice is simply buying less. Before purchasing, ask yourself:</p>
      <ul>
        <li>Do I already own something similar?</li>
        <li>Will I use this product entirely before it expires?</li>
        <li>Could I achieve similar results with products I already own?</li>
        <li>Is this addressing a genuine need rather than a passing trend?</li>
      </ul>
      
      <h2>Sustainable Makeup Practices</h2>
      
      <h3>Clean Beauty Tools</h3>
      <p>Consider the environmental impact of your beauty tools. Opt for brushes with sustainable bamboo handles and synthetic bristles (rather than animal hair). Clean and maintain your tools properly to extend their lifespan. For disposable items like cotton pads, switch to reusable alternatives made from organic cotton or bamboo.</p>
      
      <h3>Recycling Cosmetic Packaging</h3>
      <p>Cosmetic packaging often contains multiple materials that require separation for proper recycling. Some steps to ensure your empties don't end up in landfill:</p>
      <ul>
        <li>Check if the brand has a take-back program (many department store brands do)</li>
        <li>Clean containers thoroughly before recycling</li>
        <li>Separate components made of different materials</li>
        <li>Check with your local recycling program about which items they accept</li>
      </ul>
      
      <h3>DIY and Natural Alternatives</h3>
      <p>For some products, effective natural alternatives can be made at home, reducing packaging waste entirely. Simple DIY options include:</p>
      <ul>
        <li>Brown sugar and honey lip scrub</li>
        <li>Oatmeal and yogurt face mask</li>
        <li>Aloe vera gel as hair styling product</li>
        <li>Coconut oil as makeup remover</li>
      </ul>
      
      <h2>Sustainable Haircare</h2>
      
      <h3>Waterless and Solid Formulations</h3>
      <p>Solid shampoo and conditioner bars eliminate plastic packaging and contain concentrated ingredients without added water. A single shampoo bar can replace 2-3 bottles of liquid shampoo, significantly reducing your plastic footprint.</p>
      
      <h3>Low-Waste Coloring Options</h3>
      <p>Hair coloring typically generates significant waste. More sustainable approaches include:</p>
      <ul>
        <li>Extending time between coloring sessions</li>
        <li>Using plant-based dyes like henna for permanent color</li>
        <li>Trying temporary color products that wash out</li>
        <li>Finding salons that use ammonia-free, PPD-free, or natural color lines</li>
      </ul>
      
      <h2>Making the Transition</h2>
      <p>Transitioning to a sustainable beauty routine doesn't happen overnight. Start by making small changes as your current products run out, rather than discarding usable products prematurely. Research alternatives before purchasing, and remember that sustainability exists on a spectrumit's about progress, not perfection.</p>
      
      <h3>Greenwashing Awareness</h3>
      <p>As demand for sustainable products grows, so does "greenwashing"misleading claims about environmental benefits. Look beyond marketing terms like "natural" or "green" (which have no regulated definitions) and research brands' specific practices around sourcing, manufacturing, and packaging.</p>
      
      <h2>The Future of Sustainable Beauty</h2>
      <p>The beauty industry is innovating rapidly, with emerging technologies like waterless formulations, carbon-neutral manufacturing, and plastic alternatives made from algae or agricultural waste. By supporting brands pioneering these sustainable practices, consumers help drive wider adoption of eco-friendly approaches throughout the industry.</p>
    `,
    tags: ['Sustainability', 'Beauty Tips', 'Eco-Friendly'],
    category: 'Beauty Tips',
    readTime: '7 min read'
  }
];

export function getAllBlogPosts(): BlogPost[] {
  return [...blogPosts].sort(
    (a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf()
  )
}

export function getBlogPostBySlug(slug: string): BlogPost | undefined {
  return blogPosts.find((p) => p.slug === slug)
}

export function getBlogPostsByCategoryOrTag(categoryOrTag: string): BlogPost[] {
  return [...blogPosts]
    .filter(post =>
      post.category.toLowerCase() === categoryOrTag.toLowerCase() ||
      post.tags.some(tag => tag.toLowerCase() === categoryOrTag.toLowerCase())
    )
    .sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf())
}

export function searchBlogPosts(query: string): BlogPost[] {
  const searchTerms = query.toLowerCase().split(' ');

  return [...blogPosts]
    .filter(post =>
      searchTerms.some(term =>
        post.title.toLowerCase().includes(term) ||
        post.excerpt.toLowerCase().includes(term) ||
        post.content.toLowerCase().includes(term) ||
        post.tags.some(tag => tag.toLowerCase().includes(term)) ||
        post.category.toLowerCase().includes(term) ||
        post.author.toLowerCase().includes(term)
      )
    )
    .sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf())
}

export function getRelatedPosts(post: BlogPost, limit: number = 3): BlogPost[] {
  // Find posts with the same category or tags
  return [...blogPosts]
    .filter(p =>
      p.id !== post.id && (
        p.category === post.category ||
        p.tags.some(tag => post.tags.includes(tag))
      )
    )
    .sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf())
    .slice(0, limit)
}

export function getAllCategories(): string[] {
  const categories = new Set(blogPosts.map(post => post.category));
  return Array.from(categories).sort();
}

export function getAllTags(): string[] {
  const tags = new Set(blogPosts.flatMap(post => post.tags));
  return Array.from(tags).sort();
}

>>>> app/blog/layout.tsx
import type { Metadata } from 'next'
import ClientLayout from './client-layout'
import './blog-typography.css'

export const metadata: Metadata = {
  title: 'Splendid Beauty Blog | Beauty Tips & Trends',
  description: 'Discover the latest beauty trends, skincare routines, and expert tips from Splendid Beauty Bar & Co. Stay updated on all things beauty.',
  keywords: 'beauty blog, skincare tips, beauty trends, hair care, makeup tutorials, Splendid Beauty Bar',
  openGraph: {
    title: 'Splendid Beauty Blog | Beauty Tips & Trends',
    description: 'Discover the latest beauty trends, skincare routines, and expert tips from Splendid Beauty Bar & Co.',
    url: 'https://splendidbeautybar.com/blog',
    siteName: 'Splendid Beauty Bar & Co.',
    images: [
      {
        url: '/images/og-blog.jpg',
        width: 1200,
        height: 630,
        alt: 'Splendid Beauty Blog',
      },
    ],
    locale: 'en_US',
    type: 'website',
  },
}

export default function BlogLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div className="flex flex-col min-h-screen bg-[url('/images/elegant-gold-background.webp')] bg-cover bg-fixed bg-center relative">
      <div className="absolute inset-0 backdrop-blur-[1px] bg-black/5"></div>
      <main className="flex-grow overflow-y-auto overflow-x-hidden scroll-smooth relative z-10">
        <ClientLayout>{children}</ClientLayout>
      </main>
    </div>
  )
}

>>>> app/blog/page.tsx
'use client';

import React, { useState, useEffect, useRef, useMemo, useCallback, Suspense } from 'react';
import Image from 'next/image';
import Link from 'next/link';
import { useRouter, usePathname, useSearchParams } from 'next/navigation';
import {
  motion,
  AnimatePresence,
  useInView,
} from 'framer-motion';
import {
  ArrowRight,
  ChevronLeft,
  Search,
  Calendar,
  User,
  Home,
  X
} from 'lucide-react';

// Type for blog posts (ensure this matches your actual type structure)
interface BlogPost {
  id: string;
  title: string;
  slug: string;
  excerpt: string;
  content: string; // Used for search, not displayed on card
  featuredImage: string;
  imageAlt: string;
  author: string;
  publishedAt: string | null;
  status: 'draft' | 'published'; // Ensure this is part of your type if used
  createdAt: string;
  updatedAt: string;
  seo: {
    metaTitle?: string;
    metaDescription?: string;
    keywords?: string[];
  };
}

const FadeInView: React.FC<{ children: React.ReactNode; delay?: number; duration?: number; className?: string; once?: boolean; amount?: number; }> = ({
  children,
  delay = 0,
  duration = 0.5,
  className = "",
  once = true,
  amount = 0.2
}) => {
  const ref = useRef<HTMLDivElement>(null);
  const isInView = useInView(ref, { once, amount });

  return (
    <motion.div
      ref={ref}
      className={className}
      initial={{ opacity: 0, y: 20 }}
      animate={isInView ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}
      transition={{ duration, delay, ease: "easeOut" }}
    >
      {children}
    </motion.div>
  );
};

const formatDate = (dateString: string | null): string => {
  if (!dateString) return 'Not published';
  try {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric', month: 'long', day: 'numeric'
    });
  } catch (error) {
    console.warn("Error formatting date:", dateString, error);
    return dateString;
  }
};

const BlogHero: React.FC<{ onSearch: (query: string) => void; initialQuery?: string }> = ({ onSearch, initialQuery = '' }) => {
  const [searchQuery, setSearchQuery] = useState(initialQuery);
  const router = useRouter();
  const pathname = usePathname();

  const handleSearchSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    onSearch(searchQuery.trim());
    router.push(`${pathname}?search=${encodeURIComponent(searchQuery.trim())}`, { scroll: false });
  };

  const clearSearch = () => {
    setSearchQuery('');
    onSearch('');
    router.push(pathname, { scroll: false });
  };

  return (
    <div className="relative w-full py-32 flex items-center justify-center overflow-hidden bg-[url('/images/elegant-gold-background.webp')] bg-cover bg-center bg-fixed">
      <div className="absolute inset-0 bg-gradient-to-br from-[#063f48]/80 via-[#063f48]/85 to-[#052b31]/90 backdrop-blur-sm z-10" />
      <div className="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDIwIDIwIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IiMwNjNmNDgiIGZpbGwtb3BhY2l0eT0iMC4wMiIvPjxjaXJjbGUgY3g9IjIiIGN5PSIyIiByPSIxIiBmaWxsPSIjOGM2ZTM0IiBmaWxsLW9wYWNpdHk9IjAuMDYiLz48L3N2Zz4=')] bg-repeat z-20 opacity-20" />
      <div className="relative z-30 max-w-6xl mx-auto px-6 text-center">
        <motion.div
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8, ease: "easeOut" }}
          className="mb-6 bg-[#063f48]/50 backdrop-blur-md p-8 rounded-xl shadow-lg border border-[#C09E6C]/30"
        >
          <div className="inline-block mb-4">
            <div className="h-0.5 w-16 bg-[#C09E6C] mx-auto mb-4" />
            <h3 className="text-[#C09E6C] font-medium tracking-wider text-sm uppercase">Beauty Insights</h3>
          </div>
          <h1 className="text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6 font-serif">Splendid Beauty Blog</h1>
          <p className="text-xl text-white/90 max-w-2xl mx-auto leading-relaxed">
            Discover the latest beauty trends, expert tips, and professional advice from the Splendid Beauty team.
          </p>
        </motion.div>
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.3, duration: 0.8 }}
          className="mt-12 relative max-w-xl mx-auto"
        >
          <div className="absolute inset-0 bg-black/20 rounded-full blur-md" />
          <form onSubmit={handleSearchSubmit} className="relative z-40 flex items-center">
            <input
              type="text"
              placeholder="Search articles..."
              className="w-full py-4 pl-5 pr-12 rounded-full bg-white/5 backdrop-blur-md border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-[#C09E6C] focus:border-transparent shadow-inner-white/5"
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              aria-label="Search blog articles"
            />
            {searchQuery && (
              <button
                type="button"
                onClick={clearSearch}
                className="absolute right-12 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white transition-colors p-1"
                aria-label="Clear search"
              >
                <X className="h-4 w-4" />
              </button>
            )}
            <button
              type="submit"
              className="absolute right-4 top-1/2 transform -translate-y-1/2 text-[#C09E6C] hover:text-white transition-colors"
              aria-label="Submit search"
            >
              <Search className="h-5 w-5" />
            </button>
          </form>
        </motion.div>
      </div>
    </div>
  );
};

const BlogPostCard: React.FC<{ post: BlogPost; featured?: boolean; priority?: boolean }> = React.memo(({ post, featured = false, priority = false }) => {
  const [isHovered, setIsHovered] = useState(false);
  const imageAlt = post.imageAlt || `Image for ${post.title}`;

  return (
    <motion.div
      className={`group relative ${featured ? 'h-full' : 'flex flex-col'} rounded-2xl overflow-hidden shadow-xl bg-white/90 backdrop-blur-sm border border-white/20 aspect-[4/3]`}
      onHoverStart={() => setIsHovered(true)}
      onHoverEnd={() => setIsHovered(false)}
      whileHover={{ scale: 1.02, transition: { duration: 0.2 } }}
      initial={false} // Disable initial animation for cards themselves; FadeInView handles parent
    >
      <div className={`relative ${featured ? 'h-full' : 'h-56 sm:h-64'} w-full overflow-hidden`}>
        <Image
          src={post.featuredImage || '/images/placeholder-blog.webp'} // Fallback image
          alt={imageAlt}
          fill
          className="object-cover transition-transform duration-500 ease-in-out group-hover:scale-105"
          sizes={featured ? "(min-width: 1024px) 55vw, (min-width: 768px) 60vw, 100vw" : "(min-width: 1024px) 33vw, (min-width: 640px) 50vw, 100vw"}
          quality={featured ? 90 : 80}
          priority={priority} // Only high priority for LCP candidates
          loading={priority ? "eager" : "lazy"}
        />
        <div className={`absolute ${featured ? 'inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent' : 'top-4 left-4'}`}>
          {!featured && post.seo.keywords?.[0] && (
            <span className="inline-block py-1 px-3 rounded-full bg-[#8c6e34]/90 text-xs font-medium text-white shadow">
              {post.seo.keywords[0]}
            </span>
          )}
        </div>
        {featured && (
          <div className="absolute bottom-0 left-0 right-0 p-6 md:p-8 text-white">
            {post.seo.keywords?.[0] && (
              <span className="inline-block py-1 px-3 rounded-full bg-[#8c6e34]/90 text-xs font-medium text-white mb-3 shadow">
                {post.seo.keywords[0]}
              </span>
            )}
            <h3 className="text-2xl md:text-3xl font-bold mb-2 group-hover:text-[#C09E6C] transition-colors duration-300 line-clamp-2">
              {post.title}
            </h3>
            <div className="flex items-center gap-4 text-white/90 text-sm">
              <span className="flex items-center"><Calendar className="h-4 w-4 mr-1.5" />{formatDate(post.publishedAt)}</span>
              <span className="flex items-center"><User className="h-4 w-4 mr-1.5" />{post.author}</span>
            </div>
          </div>
        )}
      </div>

      {!featured && (
        <div className="p-5 md:p-6 flex-grow flex flex-col">
          <div className="flex items-center gap-3 mb-2 text-xs text-gray-500">
            <span className="flex items-center"><Calendar className="h-3 w-3 mr-1" />{formatDate(post.publishedAt)}</span>
            <span className="flex items-center"><User className="h-3 w-3 mr-1" />{post.author}</span>
          </div>
          <h3 className="text-lg md:text-xl font-bold mb-2 text-gray-900 group-hover:text-[#C09E6C] transition-colors duration-300 line-clamp-2">
            {post.title}
          </h3>
          <p className="text-gray-600 text-sm mb-4 line-clamp-3 flex-grow">{post.excerpt}</p>
          <div className="mt-auto">
            <Link
              href={`/blog/${post.slug}`}
              className="inline-flex items-center text-[#063f48] hover:text-[#C09E6C] font-medium text-sm transition-colors group/readmore"
              prefetch={false} // Prefetching can be aggressive, consider viewport-based prefetching if needed
            >
              Read More
              <motion.span className="ml-1" animate={isHovered ? { x: 4 } : { x: 0 }} transition={{ duration: 0.2 }}>
                <ArrowRight className="h-4 w-4" />
              </motion.span>
            </Link>
          </div>
        </div>
      )}
      <Link href={`/blog/${post.slug}`} className="absolute inset-0" aria-label={`Read more about ${post.title}`} prefetch={false}>
        <span className="sr-only">Read article</span>
      </Link>
    </motion.div>
  );
});
BlogPostCard.displayName = 'BlogPostCard';


const FeaturedPosts: React.FC<{ posts: BlogPost[] }> = ({ posts }) => {
  if (!posts || posts.length === 0) return null;

  return (
    <section className="py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
      <FadeInView className="flex items-center justify-between mb-10 md:mb-12 backdrop-blur-md bg-white/60 p-5 md:p-6 rounded-xl shadow-md border border-white/30">
        <div>
          <div className="h-0.5 w-12 bg-[#C09E6C] mb-3" />
          <h2 className="text-2xl md:text-3xl font-bold text-gray-900">Featured Articles</h2>
        </div>
        {/* Removed "View all articles" link here as search serves a similar purpose now */}
      </FadeInView>

      <div className="grid grid-cols-1 lg:grid-cols-12 gap-x-6 gap-y-8 md:gap-x-8 md:gap-y-10">
        <FadeInView className="lg:col-span-7" delay={0.1}>
          <BlogPostCard post={posts[0]} featured priority />
        </FadeInView>
        <div className="lg:col-span-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-8 md:gap-10">
          {posts.slice(1, 3).map((post, index) => (
            <FadeInView key={post.id} delay={0.2 + index * 0.1}>
              <BlogPostCard post={post} priority={index === 0} />
            </FadeInView>
          ))}
        </div>
      </div>
    </section>
  );
};

const LatestPosts: React.FC<{ posts: BlogPost[]; postsToShow?: number }> = ({ posts, postsToShow = 6 }) => {
  if (!posts || posts.length === 0) return null;

  const displayedPosts = posts.slice(0, postsToShow);

  return (
    <section className="py-12 md:py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto backdrop-blur-md bg-white/50 rounded-3xl mb-16 md:mb-20 shadow-lg border border-white/30">
      <FadeInView className="mb-10 md:mb-12">
        <div className="h-0.5 w-12 bg-[#C09E6C] mb-3" />
        <h2 className="text-2xl md:text-3xl font-bold text-gray-900">Latest Articles</h2>
      </FadeInView>
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8 md:gap-x-8 md:gap-y-10">
        {displayedPosts.map((post, index) => (
          <FadeInView key={post.id} delay={index * 0.05} className="h-full">
            <BlogPostCard post={post} />
          </FadeInView>
        ))}
      </div>
    </section>
  );
};

const Newsletter: React.FC = () => (
  <FadeInView className="py-12 md:py-16 px-4 sm:px-6 lg:px-8 max-w-6xl mx-auto mb-16 md:mb-20">
    <div className="bg-gradient-to-br from-[#063f48] to-[#052b31] rounded-3xl overflow-hidden relative shadow-xl border border-[#C09E6C]/30">
      <div className="absolute inset-0 bg-[url('/images/elegant-gold-background.webp')] bg-cover bg-center opacity-10 mix-blend-overlay" />
      <div className="relative z-10 px-6 py-12 md:px-8 md:py-16 lg:py-20">
        <div className="grid md:grid-cols-2 gap-8 items-center">
          <div>
            <h3 className="text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-3">Stay Updated</h3>
            <p className="text-white/80 text-base lg:text-lg">Subscribe for exclusive beauty tips, product news, and the latest trends from Splendid Beauty.</p>
          </div>
          <form className="flex flex-col sm:flex-row gap-2 sm:gap-0 sm:bg-white/10 sm:backdrop-blur-sm sm:p-1 sm:rounded-full">
            <input
              type="email"
              placeholder="Your email address"
              className="bg-white/10 backdrop-blur-sm sm:bg-transparent flex-grow px-4 py-3 rounded-full sm:rounded-none text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-[#C09E6C]"
              aria-label="Email for newsletter"
            />
            <button type="submit" className="bg-[#C09E6C] hover:bg-[#d4b988] text-[#063f48] px-5 py-3 rounded-full font-medium transition-colors text-sm">
              Subscribe
            </button>
          </form>
        </div>
      </div>
    </div>
  </FadeInView>
);

const BackToTopButton: React.FC = () => {
  const [isVisible, setIsVisible] = useState(false);
  useEffect(() => {
    const toggleVisibility = () => setIsVisible(window.scrollY > 300);
    window.addEventListener('scroll', toggleVisibility, { passive: true });
    return () => window.removeEventListener('scroll', toggleVisibility);
  }, []);

  return (
    <AnimatePresence>
      {isVisible && (
        <motion.button
          onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
          className="fixed bottom-6 right-6 md:bottom-8 md:right-8 bg-[#063f48] text-white h-12 w-12 rounded-full shadow-lg flex items-center justify-center z-50 hover:bg-[#052b31] transition-colors group ring-1 ring-[#C09E6C]/50 hover:ring-[#C09E6C]"
          initial={{ opacity: 0, scale: 0.8 }}
          animate={{ opacity: 1, scale: 1 }}
          exit={{ opacity: 0, scale: 0.8 }}
          whileHover={{ scale: 1.1 }}
          whileTap={{ scale: 0.95 }}
          aria-label="Back to top"
        >
          <ChevronLeft className="h-6 w-6 transform rotate-90" />
        </motion.button>
      )}
    </AnimatePresence>
  );
};

const PageFooter: React.FC = () => (
  <footer className="mt-16 md:mt-20 border-t border-gray-200/50 bg-white/30 backdrop-blur-sm">
    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8">
      <nav className="flex items-center justify-center">
        <Link href="/" className="inline-flex items-center text-[#063f48] hover:text-[#C09E6C] transition-colors font-medium gap-1.5 text-sm">
          <Home className="h-4 w-4" />
          <span>Back to Home</span>
        </Link>
      </nav>
      <p className="text-center text-xs text-gray-500 mt-4">&copy; {new Date().getFullYear()} Splendid Beauty Bar & Co. All rights reserved.</p>
    </div>
  </footer>
);

const BlogContent: React.FC = () => {
  const router = useRouter();
  const pathname = usePathname();
  const searchParams = useSearchParams();

  const [allPosts, setAllPosts] = useState<BlogPost[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const initialSearchQuery = useMemo(() => searchParams?.get('search') || '', [searchParams]);
  const [currentSearchQuery, setCurrentSearchQuery] = useState(initialSearchQuery);

  useEffect(() => {
    const fetchBlogPosts = async () => {
      setIsLoading(true);
      setError(null);
      try {
        const response = await fetch('/api/blog?status=published'); // Only fetch published posts
        if (!response.ok) throw new Error(`Failed to fetch posts: ${response.statusText}`);
        const data = await response.json();
        setAllPosts(data.posts || []);
      } catch (err) {
        console.error('Error fetching blog posts:', err);
        setError(err instanceof Error ? err.message : 'An unknown error occurred.');
      } finally {
        setIsLoading(false);
      }
    };
    fetchBlogPosts();
  }, []);

  useEffect(() => {
    // Sync URL search param with local state if URL changes (e.g. back/forward browser buttons)
    const searchFromUrl = searchParams?.get('search') || '';
    if (searchFromUrl !== currentSearchQuery) {
      setCurrentSearchQuery(searchFromUrl);
    }
  }, [searchParams, currentSearchQuery]);

  const handleSearch = useCallback((query: string) => {
    setCurrentSearchQuery(query);
    // URL update is handled by BlogHero form submission
  }, []);

  const filteredPosts = useMemo(() => {
    if (!currentSearchQuery) return allPosts;
    const lowercasedQuery = currentSearchQuery.toLowerCase();
    return allPosts.filter(post =>
      post.title.toLowerCase().includes(lowercasedQuery) ||
      post.excerpt.toLowerCase().includes(lowercasedQuery) ||
      post.content.toLowerCase().includes(lowercasedQuery) || // Search content too
      post.author.toLowerCase().includes(lowercasedQuery) ||
      post.seo.keywords?.some(kw => kw.toLowerCase().includes(lowercasedQuery))
    );
  }, [allPosts, currentSearchQuery]);

  const featuredDisplayPosts = useMemo(() => filteredPosts.slice(0, 3), [filteredPosts]);
  const latestDisplayPosts = useMemo(() => {
    // If searching, show all results. Otherwise, show a slice of latest.
    return currentSearchQuery ? filteredPosts : filteredPosts.slice(0, 6);
  }, [filteredPosts, currentSearchQuery]);


  if (isLoading) {
    return (
      <div className="flex items-center justify-center min-h-[calc(100vh-200px)]"> {/* Adjust min-height */}
        <motion.div
          animate={{ rotate: 360 }}
          transition={{ duration: 1, repeat: Infinity, ease: "linear" }}
          className="h-12 w-12 border-4 border-t-[#063f48] border-r-[#063f48]/50 border-b-[#063f48]/50 border-l-[#063f48]/50 rounded-full"
        />
      </div>
    );
  }

  if (error) {
    return (
      <div className="min-h-[calc(100vh-200px)] flex flex-col items-center justify-center text-center p-8">
        <h2 className="text-2xl font-semibold text-red-600 mb-4">Oops! Something went wrong.</h2>
        <p className="text-gray-700 mb-6">{error}</p>
        <button
          onClick={() => window.location.reload()}
          className="bg-[#063f48] text-white px-6 py-2 rounded-md hover:bg-[#052b31] transition-colors"
        >
          Try Again
        </button>
      </div>
    );
  }

  const isSearching = !!currentSearchQuery;

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      transition={{ duration: 0.4 }}
      className="w-full overflow-x-hidden" // Changed overflow-y-auto to overflow-x-hidden as body handles scroll
    >
      <BackToTopButton />
      <BlogHero onSearch={handleSearch} initialQuery={initialSearchQuery} />

      {isSearching ? (
        <section className="py-12 md:py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
          <div className="flex items-center justify-between mb-8 md:mb-10 backdrop-blur-md bg-white/60 p-5 md:p-6 rounded-xl shadow-md">
            <div>
              <h2 className="text-xl md:text-2xl font-bold text-gray-900 mb-1">Search Results</h2>
              <p className="text-gray-600 text-sm">
                {filteredPosts.length} results found for "{currentSearchQuery}"
              </p>
            </div>
            <button
              onClick={() => {
                setCurrentSearchQuery('');
                router.push(pathname, { scroll: false });
              }}
              className="text-[#063f48] hover:text-[#C09E6C] font-medium transition-colors text-sm"
            >
              Clear Search
            </button>
          </div>
          {filteredPosts.length > 0 ? (
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8 md:gap-x-8 md:gap-y-10">
              {filteredPosts.map((post, index) => (
                <FadeInView key={post.id} delay={index * 0.05} className="h-full">
                  <BlogPostCard post={post} />
                </FadeInView>
              ))}
            </div>
          ) : (
            <div className="py-16 text-center">
              <p className="text-gray-600 mb-6 text-lg">No articles found matching your search.</p>
              <p className="text-gray-500 text-sm">Try different keywords or clear the search to see all posts.</p>
            </div>
          )}
        </section>
      ) : (
        <>
          {featuredDisplayPosts.length > 0 && <FeaturedPosts posts={featuredDisplayPosts} />}
          {latestDisplayPosts.length > 0 && <LatestPosts posts={latestDisplayPosts} />}
          {allPosts.length === 0 && !isLoading && ( // Show if no posts at all and not loading/error
            <div className="py-20 text-center">
              <h2 className="text-2xl font-semibold text-gray-700 mb-4">No Blog Posts Yet</h2>
              <p className="text-gray-500">Check back soon for exciting updates and articles!</p>
            </div>
          )}
        </>
      )}
      <Newsletter />
      <PageFooter />
    </motion.div>
  );
};

export default function BlogPage() {
  // useEffect to ensure body scrolling is enabled
  useEffect(() => {
    document.body.style.overflow = 'auto';
    document.documentElement.style.overflow = 'auto';
    return () => {
      // Optional: Reset on unmount if needed, but typically not for page components
      // document.body.style.overflow = '';
      // document.documentElement.style.overflow = '';
    };
  }, []);

  return (
    <Suspense fallback={ // Full page suspense fallback, though BlogContent has its own
      <div className="flex items-center justify-center min-h-screen">
        <motion.div
          animate={{ rotate: 360 }}
          transition={{ duration: 1, repeat: Infinity, ease: "linear" }}
          className="h-16 w-16 border-4 border-t-[#063f48] border-r-[#063f48]/50 border-b-[#063f48]/50 border-l-[#063f48]/50 rounded-full"
        />
      </div>
    }>
      <BlogContent />
    </Suspense>
  );
}
>>>> app/blog/placeholder-images.tsx
'use client';

import { useEffect } from 'react';

// This component will create placeholder SVG images for blog posts
export default function PlaceholderImages() {
  useEffect(() => {
    // Create placeholder SVG images for blog posts
    const createPlaceholderImages = () => {
      const placeholders = [
        {
          name: 'skincare-routine.jpg',
          backgroundColor: '#DAB17B',
          textColor: '#333',
          text: 'Skincare Routine',
          icon: ''
        },
        {
          name: 'hair-care.jpg',
          backgroundColor: '#8E7367',
          textColor: '#fff',
          text: 'Hair Care',
          icon: ''
        },
        {
          name: 'makeup-trends.jpg',
          backgroundColor: '#C09E6C',
          textColor: '#fff',
          text: 'Makeup Trends',
          icon: ''
        },
        {
          name: 'brow-styling.jpg',
          backgroundColor: '#063f48',
          textColor: '#fff',
          text: 'Brow Styling',
          icon: ''
        },
        {
          name: 'facial-treatments.jpg',
          backgroundColor: '#052b31',
          textColor: '#fff',
          text: 'Facial Treatments',
          icon: ''
        },
        {
          name: 'natural-beauty.jpg',
          backgroundColor: '#A0C1B9',
          textColor: '#333',
          text: 'Natural Beauty',
          icon: ''
        },
        {
          name: 'nail-art.jpg',
          backgroundColor: '#DE8C91',
          textColor: '#fff',
          text: 'Nail Art',
          icon: ''
        },
        {
          name: 'chemical-peels.jpg',
          backgroundColor: '#7A9CAE',
          textColor: '#fff',
          text: 'Chemical Peels',
          icon: ''
        },
        {
          name: 'sustainable-beauty.jpg',
          backgroundColor: '#8DB38B',
          textColor: '#333',
          text: 'Sustainable Beauty',
          icon: ''
        }
      ];

      // Function to create and save SVG
      const createSVG = (placeholder: any) => {
        // Create SVG element
        const svgNS = 'http://www.w3.org/2000/svg';
        const svg = document.createElementNS(svgNS, 'svg');
        svg.setAttribute('width', '800');
        svg.setAttribute('height', '600');
        svg.setAttribute('viewBox', '0 0 800 600');
        
        // Background
        const rect = document.createElementNS(svgNS, 'rect');
        rect.setAttribute('width', '100%');
        rect.setAttribute('height', '100%');
        rect.setAttribute('fill', placeholder.backgroundColor);
        svg.appendChild(rect);
        
        // Pattern overlay
        const pattern = document.createElementNS(svgNS, 'pattern');
        pattern.setAttribute('id', 'pattern');
        pattern.setAttribute('width', '40');
        pattern.setAttribute('height', '40');
        pattern.setAttribute('patternUnits', 'userSpaceOnUse');
        pattern.setAttribute('patternTransform', 'rotate(45)');
        
        const patternRect = document.createElementNS(svgNS, 'rect');
        patternRect.setAttribute('width', '100%');
        patternRect.setAttribute('height', '100%');
        patternRect.setAttribute('fill', placeholder.backgroundColor);
        pattern.appendChild(patternRect);
        
        const patternLine = document.createElementNS(svgNS, 'line');
        patternLine.setAttribute('x1', '0');
        patternLine.setAttribute('y1', '0');
        patternLine.setAttribute('x2', '0');
        patternLine.setAttribute('y2', '40');
        patternLine.setAttribute('stroke', placeholder.textColor);
        patternLine.setAttribute('stroke-width', '1');
        patternLine.setAttribute('stroke-opacity', '0.1');
        pattern.appendChild(patternLine);
        
        svg.appendChild(pattern);
        
        const patternOverlay = document.createElementNS(svgNS, 'rect');
        patternOverlay.setAttribute('width', '100%');
        patternOverlay.setAttribute('height', '100%');
        patternOverlay.setAttribute('fill', 'url(#pattern)');
        patternOverlay.setAttribute('opacity', '0.2');
        svg.appendChild(patternOverlay);
        
        // Icon
        const iconText = document.createElementNS(svgNS, 'text');
        iconText.setAttribute('x', '400');
        iconText.setAttribute('y', '250');
        iconText.setAttribute('font-size', '100');
        iconText.setAttribute('text-anchor', 'middle');
        iconText.setAttribute('dominant-baseline', 'middle');
        iconText.textContent = placeholder.icon;
        svg.appendChild(iconText);
        
        // Title
        const text = document.createElementNS(svgNS, 'text');
        text.setAttribute('x', '400');
        text.setAttribute('y', '340');
        text.setAttribute('font-size', '40');
        text.setAttribute('font-family', 'Arial, sans-serif');
        text.setAttribute('font-weight', 'bold');
        text.setAttribute('fill', placeholder.textColor);
        text.setAttribute('text-anchor', 'middle');
        text.textContent = placeholder.text;
        svg.appendChild(text);
        
        // "Splendid Beauty" text
        const brandText = document.createElementNS(svgNS, 'text');
        brandText.setAttribute('x', '400');
        brandText.setAttribute('y', '400');
        brandText.setAttribute('font-size', '20');
        brandText.setAttribute('font-family', 'Arial, sans-serif');
        brandText.setAttribute('fill', placeholder.textColor);
        brandText.setAttribute('fill-opacity', '0.7');
        brandText.setAttribute('text-anchor', 'middle');
        brandText.textContent = 'Splendid Beauty Blog';
        svg.appendChild(brandText);
        
        // Convert SVG to string
        const serializer = new XMLSerializer();
        const svgString = serializer.serializeToString(svg);
        
        // Create a blob from the SVG string
        const blob = new Blob([svgString], { type: 'image/svg+xml' });
        const url = URL.createObjectURL(blob);
        
        // Create download link
        const link = document.createElement('a');
        link.href = url;
        link.download = placeholder.name;
        link.style.display = 'none';
        document.body.appendChild(link);
        link.click();
        
        // Clean up
        setTimeout(() => {
          URL.revokeObjectURL(url);
          document.body.removeChild(link);
        }, 100);
      };
      
      // Generate all placeholders
      placeholders.forEach(placeholder => {
        createSVG(placeholder);
      });
    };
    
    // Uncomment this line to generate placeholder images when needed
    // createPlaceholderImages();
  }, []);
  
  return null;
}

>>>> app/globals.css
/* app/globals.css */

/* Import Tailwind's base, components, and utilities styles */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Define CSS variables within the base layer */
@layer base {
  :root {
    /* Theme variables (user-provided) */
    --background: 0 0% 100%;
    --foreground: 20 14.3% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 20 14.3% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 20 14.3% 4.1%;
    --primary: 35 33% 59%;
    /* Fallback color for focus ring */
    --primary-foreground: 60 9.1% 97.8%;
    --secondary: 60 4.8% 95.9%;
    --secondary-foreground: 24 9.8% 10%;
    --muted: 60 4.8% 95.9%;
    --muted-foreground: 25 5.3% 44.7%;
    --accent: 60 4.8% 95.9%;
    --accent-foreground: 24 9.8% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 60 9.1% 97.8%;
    --border: 20 5.9% 90%;
    --input: 20 5.9% 90%;
    --ring: 35 33% 59%;
    /* Used for focus-visible ring color */
    --radius: 0.5rem;

    /* Custom Gold Color */
    --gold: 43 74% 49%;
    /* Approx #D4AF37 */
  }

  /* Dark mode example (optional, uncomment and customize if needed) */
  /*
  .dark {
    --background: 20 14.3% 4.1%;
    --foreground: 60 9.1% 97.8%;
    --card: 20 14.3% 4.1%;
    --card-foreground: 60 9.1% 97.8%;
    --popover: 20 14.3% 4.1%;
    --popover-foreground: 60 9.1% 97.8%;
    --primary: 35 33% 59%;
    --primary-foreground: 60 9.1% 97.8%;
    --secondary: 12 6.5% 15.1%;
    --secondary-foreground: 60 9.1% 97.8%;
    --muted: 12 6.5% 15.1%;
    --muted-foreground: 24 5.4% 63.9%;
    --accent: 12 6.5% 15.1%;
    --accent-foreground: 60 9.1% 97.8%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 60 9.1% 97.8%;
    --border: 12 6.5% 15.1%;
    --input: 12 6.5% 15.1%;
    --ring: 35 33% 59%;
    --gold: 43 74% 49%;
  }
  */
}

/* Apply base styles */
@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }

  /* Base styles for all pages */
  body {
    @apply bg-background text-foreground;
    min-height: 100vh;
    overflow: auto;
    overscroll-behavior-y: auto;
    /* Changed from none to auto to allow scrolling */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Root layout ensures scrolling works properly across the site */
  .root-layout {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    width: 100%;
  }

  /* Blog post specific styles to ensure scrolling works */
  .blog-post-page {
    overflow-y: auto !important;
    height: auto !important;
    display: block;
    width: 100%;
  }

  /* Special body class for blog post pages */
  .blog-post-body {
    overflow-y: auto !important;
    height: auto !important;
  }

  /* Container styles for blog post pages */
  .blog-post-container,
  .blog-post-wrapper {
    overflow-y: auto !important;
    height: auto !important;
    display: block;
  }

  /* iOS scroll fix */
  .ios-scroll-fix {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
    height: 100%;
  }

  /* Fix for scrolling within prose content */
  .prose {
    overflow-wrap: break-word;
    word-wrap: break-word;
  }

  html {
    scroll-behavior: smooth;
    height: 100%;
    overflow: auto;
    /* Changed from hidden to auto to allow scrolling */
  }

  /* Ensure Next Image fill works correctly */
  img[data-nimg='fill'] {
    object-fit: cover;
    /* Default fit */
  }
}

/* Custom utility classes */
.border-gold {
  border-color: hsl(var(--gold));
  /* Use CSS variable */
}

/* Improved Background Image Utility */
.bg-\[url\(\'\/images\/elegant-gold-background\.webp\'\)\] {
  background-image: url('/images/elegant-gold-background.webp');
  background-size: cover;
  background-position: center;
  image-rendering: auto;
  /* Higher quality image rendering */
}

/* Ensure background image is properly rendered */
@media (min-width: 768px) {
  .bg-\[url\(\'\/images\/elegant-gold-background\.webp\'\)\] {
    background-size: cover;
    background-attachment: fixed;
  }
}

/* Focus-visible styles */
@layer utilities {
  .focus-visible-ring {
    /* Apply the standard ring structure utilities */
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  }

  /* Apply the ring color directly using CSS variables */
  .focus-visible-ring:focus-visible {
    /* Set the ring color using the --ring variable, falling back to --primary */
    /* This avoids the complex syntax inside @apply */
    ring-color: hsl(var(--ring, var(--primary)));
  }
}

/* Apply focus styles to interactive elements */
button,
a {
  /* Apply the utility class */
  @apply focus-visible-ring rounded;
}

/* Ensure iframe has no default browser border */
iframe {
  @apply border-none;
}

/* Optional: Add any other global styles or component overrides below */
>>>> app/layout.tsx
// app/layout.tsx
import type { Metadata } from 'next'
import { Inter } from 'next/font/google'
import '@/app/globals.css'

import { ThemeProvider } from '@/components/theme-provider'

const inter = Inter({ subsets: ['latin'] })

/* -------------------------------------------------------------------------- */
/*   Global SEO / Social                                                  */
/* -------------------------------------------------------------------------- */
export const metadata: Metadata = {
  metadataBase: new URL('https://splendidbeautybar.com'),
  title:
    'Splendid Beauty Bar & Co. | Facials  Brows  Peels | Atlanta, Georgia',
  description:
    "Atlanta's boutique beauty studio specializing in corrective facials, brow artistry and clinical peels.",
  alternates: { canonical: '/' },
  openGraph: {
    title:
      'Splendid Beauty Bar & Co. | Facials  Brows  Peels | Atlanta, Georgia',
    description:
      "Atlanta's boutique beauty studio specializing in corrective facials, brow artistry and clinical peels.",
    url: '/',
    siteName: 'Splendid Beauty Bar & Co.',
    images: [
      {
        url: '/images/og-main.jpg',
        width: 1200,
        height: 630,
        alt: 'Splendid Beauty Bar & Co. Studio',
      },
    ],
    locale: 'en_US',
    type: 'website',
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },
  twitter: {
    card: 'summary_large_image',
    title:
      'Splendid Beauty Bar & Co. | Facials  Brows  Peels | Atlanta, Georgia',
    description:
      "Atlanta's boutique beauty studio specializing in corrective facials, brow artistry and clinical peels.",
    images: ['/images/og-main.jpg'],
  },
  generator: 'Next.js',
}

/* -------------------------------------------------------------------------- */

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en" suppressHydrationWarning>
      <head>
        {/*  Pre-load the only heavyweight raster so it starts downloading during HTML parse */}
        <link
          rel="preload"
          as="image"
          href="/images/elegant-gold-background.webp"
          fetchPriority="high"
        />

        {/* Viewport for responsiveness */}
        <meta name="viewport" content="width=device-width,initial-scale=1" />
      </head>

      <body className={`${inter.className} antialiased min-h-screen flex flex-col`}>
        <ThemeProvider
          attribute="class"
          defaultTheme="light"
          enableSystem={false}
          disableTransitionOnChange
          storageKey="splendid-beauty-theme"
        >
          <main className="flex-grow">
            {children}
          </main>
        </ThemeProvider>
      </body>
    </html>
  )
}

>>>> app/page.tsx
'use client'

import React, {
  Suspense,
  useState,
  useRef,
  useEffect,
  useCallback,
  type ReactNode,
  useMemo
} from 'react'
import Image, { type StaticImageData } from 'next/image'
import dynamic from 'next/dynamic'
import { motion, useInView, AnimatePresence } from 'framer-motion'
import { cn } from '@/lib/utils'
import { getSectionConfig } from '@/lib/constants'

// --- Component Imports ---
import Navbar from '@/components/navbar'
import EventsSection from '@/components/EventsSection'
import AnimatedImage from '@/components/AnimatedImage'

// --- Image Imports (ensure paths are correct) ---
const staticImageImports: Record<string, () => Promise<{ default: StaticImageData }>> = {
  'about': () => import('@/public/images/about_1_image.png'),
  'award-1': () => import('@/public/images/award_1.png'),
  'award-2': () => import('@/public/images/award_2.png'),
  'we-do-that': () => import('@/public/images/We Do That.png'),
  'book-now': () => import('@/public/images/Book Now.png'),
  'true-beauty': () => import('@/public/images/true_beauty.png'),
  'portfolio': () => import('@/public/images/Portfolio.png'),
  'shop': () => import('@/public/images/Shop.png'),
  'hair-studio': () => import('@/public/images/Hair Studio.png'),
  'academy': () => import('@/public/images/Academy.png'),
  'policies': () => import('@/public/images/Policies.png'),
  'connect': () => import('@/public/images/Connect.png'),
  'financing': () => import('@/public/images/Financing.png'),
  'perm-makeup': () => import('@/public/images/perm_makeup.png'),
  'perm-medical': () => import('@/public/images/perm_medical.png'),
  'facial': () => import('@/public/images/facial.png'),
  'eyelash': () => import('@/public/images/eyelash.png'),
};

// --- Configuration Constants ---
const FACEBOOK_PAGE_URL = "https://www.facebook.com/splendidbeautybarandco";
const INSTAGRAM_PAGE_URL = "https://www.instagram.com/splendidbeautybar/";
const BOOKING_URL = "https://dashboard.boulevard.io/booking/businesses/18e96cd8-7ca6-4e7e-8282-2055f45efbc4/widget#/visit-type";
const YOUTUBE_VIDEO_ID = "DfVi23EdsxM";

// --- Error Boundary ---
class ErrorBoundary extends React.Component<
  { children: ReactNode; fallback?: ReactNode },
  { hasError: boolean; error: Error | null }
> {
  constructor(props: { children: ReactNode; fallback?: ReactNode }) {
    super(props)
    this.state = { hasError: false, error: null }
  }
  static getDerivedStateFromError(error: Error) { return { hasError: true, error } }
  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) { console.error('ErrorBoundary caught an error:', error, errorInfo); }
  render() {
    if (this.state.hasError) {
      return this.props.fallback || (
        <div className="flex h-screen w-full flex-col items-center justify-center bg-red-100 p-4 text-center">
          <div className="rounded-lg bg-white p-8 shadow-xl">
            <h2 className="mb-4 text-2xl font-bold text-red-700">Oops! Something went wrong.</h2>
            <p className="mb-4 text-gray-700">Please try refreshing the page.</p>
            {process.env.NODE_ENV === 'development' && this.state.error && (
              <details className="mb-4 text-left text-sm"><summary>Details</summary><pre className="mt-2 whitespace-pre-wrap bg-gray-100 p-2 text-xs">{this.state.error.stack}</pre></details>
            )}
            <button onClick={() => window.location.reload()} className="rounded-md bg-red-600 px-4 py-2 text-white hover:bg-red-700">Reload</button>
          </div>
        </div>
      );
    }
    return this.props.children;
  }
}

// --- Dynamic Imports ---
const VideoModal = dynamic(() => import('@/components/VideoModal'), {
  loading: () => <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/70 text-white backdrop-blur-sm">Loading Video Player...</div>,
  ssr: false
});
const GoogleMaps = dynamic(() => import('@/components/google-maps'), {
  loading: () => <div className="flex h-full w-full items-center justify-center rounded-lg bg-gray-200 text-gray-500">Loading Map...</div>,
  ssr: false
});

// --- Data & Types ---
type SectionData = {
  id: string;
  overlay?: 'video' | 'connect';
  hasAnimatedText?: boolean;
  isSpacer?: boolean;
  heightClass?: string; // e.g. 'min-h-[60vh] md:min-h-[80vh]'
  content?: ReactNode;
  objectPosition?: string; // e.g., 'object-center', 'object-top'
};

const sectionsData: SectionData[] = [
  { id: 'hero', objectPosition: 'object-center' }, // Hero usually benefits from center focus
  { id: 'events', content: <EventsSection /> },
  { id: 'about', hasAnimatedText: true, objectPosition: 'object-center sm:object-right' }, // Focus right part on larger for text
  { id: 'award-1', objectPosition: 'object-center' },
  { id: 'award-2', objectPosition: 'object-center' },
  { id: 'we-do-that', objectPosition: 'object-center' },
  { id: 'book-now', objectPosition: 'object-center' },
  { id: 'true-beauty', objectPosition: 'object-center' }, // Might need 'object-top' if text is at bottom
  { id: 'portfolio', objectPosition: 'object-center' },
  { id: 'shop', objectPosition: 'object-center' },
  { id: 'hair-studio', objectPosition: 'object-center' },
  { id: 'academy', objectPosition: 'object-center' },
  { id: 'policies', objectPosition: 'object-center' },
  { id: 'connect', overlay: 'connect', objectPosition: 'object-center' }, // Background for connect
  { id: 'financing', objectPosition: 'object-center' },
  { id: 'perm-makeup', objectPosition: 'object-center' },
  { id: 'perm-medical', objectPosition: 'object-center' },
  { id: 'facial', objectPosition: 'object-center' },
  { id: 'eyelash', objectPosition: 'object-center' },
];

// --- Animation Variants ---
const sectionVariants = {
  initial: { opacity: 0, y: 20, scale: 0.98 },
  animate: { opacity: 1, y: 0, scale: 1, transition: { type: "spring", duration: 0.7, bounce: 0.2 } },
} as const;

const overlayVariants = {
  initial: { opacity: 0, y: 15 },
  animate: { opacity: 1, y: 0, transition: { type: "spring", duration: 0.8, delay: 0.2, bounce: 0.1 } },
} as const;

const aboutTextVariants = {
  initial: { opacity: 0, y: 40 },
  animate: { opacity: 1, y: 0, transition: { duration: 0.9, ease: 'easeOut', delay: 0.1 } }
} as const;

// --- Section Component ---
interface SectionProps {
  section: SectionData;
  onVideoClick: () => void;
  onSocialClick: (event: React.MouseEvent, url: string) => void;
  loadedImages: Record<string, StaticImageData | null>;
}

const Section: React.FC<SectionProps> = React.memo(({ section, onVideoClick, onSocialClick, loadedImages }) => {
  const { id, overlay, hasAnimatedText, isSpacer, heightClass, content, objectPosition = 'object-center' } = section;
  const sectionRef = useRef<HTMLElement>(null);
  const isInView = useInView(sectionRef, { once: true, amount: 0.1 }); // Trigger animation sooner

  if (content) {
    return <section ref={sectionRef} id={id} className="w-full my-4 sm:my-6 md:my-8">{content}</section>;
  }
  if (isSpacer) {
    return <div className={cn('w-full', heightClass || 'h-10 sm:h-16')} />;
  }

  const isHero = id === 'hero';
  const sectionConfig = getSectionConfig(id);
  const staticImageSrc = loadedImages[id];

  // Mobile-first heights, then scale up.
  // For non-hero, allow content to define height more on mobile, or use a smaller min-height.
  const sectionClasses = cn(
    'relative w-full overflow-hidden',
    isHero 
      ? 'h-screen' 
      : 'min-h-[60vh] sm:min-h-[70vh] md:h-[95vh] sm:w-[95%] mx-auto my-2 sm:my-4 md:my-6 rounded-none sm:rounded-lg shadow-lg'
  );

  // Define responsive sizes for Next/Image
  // On mobile (up to 640px), image can take 100vw.
  // On small tablets (up to 768px), image takes 95vw if it's a section card, or 100vw if full bleed.
  // On larger screens, it's typically 90vw or 80vw depending on layout.
  const imageSizes = isHero 
    ? '100vw' 
    : '(max-width: 640px) 100vw, (max-width: 1024px) 95vw, 80vw';


  return (
    <motion.section
      ref={sectionRef}
      id={id}
      className={sectionClasses}
      variants={sectionVariants}
      initial="initial"
      animate={isInView ? "animate" : "initial"}
    >
      <div className="relative w-full h-full"> {/* This div is crucial for Image with fill */}
        {sectionConfig ? (
          <AnimatedImage
            imagePath={`/images/${sectionConfig.imageName}.png`}
            videoPath={`/images/${sectionConfig.videoName}.mp4`}
            alt={`${id} section background`}
            sizes={imageSizes} // Pass responsive sizes
            objectPosition={objectPosition} // Pass objectPosition
          />
        ) : staticImageSrc ? (
          <Image
            src={staticImageSrc}
            alt={`${id} section background`}
            className={cn("object-cover", objectPosition)} // Apply object-position
            fill
            priority={isHero || id === 'about'}
            sizes={imageSizes} // Pass responsive sizes
            quality={isHero ? 90 : 80} // Slightly reduced quality for non-LCP
          />
        ) : (
          <div className="h-full w-full bg-gray-200 flex items-center justify-center"><p>Loading content for {id}...</p></div>
        )}
      </div>

      {hasAnimatedText && id === 'about' && staticImageSrc && (
        <motion.div
          className="absolute inset-0 z-10 flex items-center sm:items-start justify-center sm:justify-end px-4 pt-[10%] sm:pt-[5%] sm:pr-[4%] md:pt-[8%]"
          variants={aboutTextVariants}
        >
          {/* Responsive width for the text overlay container */}
          <div className="w-full max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg xl:w-[45%] xl:max-w-[700px]">
            <Image
              src="/images/about_1_text.webp"
              alt="About Splendid Beauty Bar Services"
              width={700}
              height={450} // Maintain aspect ratio
              className="h-auto w-full drop-shadow-lg"
              quality={90}
              sizes="(max-width: 640px) 90vw, (max-width: 1024px) 70vw, 45vw"
            />
          </div>
        </motion.div>
      )}

      {/* Overlays (video button, connect section) - ensure these are responsive too */}
      {overlay === 'video' && (
        <motion.button
          onClick={onVideoClick}
          // Adjust positioning and size for mobile
          className="absolute left-[10%] top-[65%] h-[15%] w-[40%] max-h-[100px] max-w-[200px] sm:left-[15%] sm:top-[60%] sm:h-[18%] sm:w-[35%] sm:max-h-[130px] sm:max-w-[280px] cursor-pointer rounded-lg transition-colors hover:bg-black/5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-cyan-400"
          aria-label="Watch introduction video"
          variants={overlayVariants}
        />
      )}

      {overlay === 'connect' && (
         // Make connect overlay elements stack on mobile
        <motion.div
          className="absolute bottom-0 left-0 right-0 sm:bottom-4 sm:right-4 sm:left-auto z-20 p-4 sm:w-auto"
          variants={overlayVariants}
        >
          <div className="flex flex-col sm:flex-row items-center sm:items-end gap-4">
            <div className="w-full max-w-[360px] sm:w-[385px] h-[200px] sm:h-[284px] order-2 sm:order-1">
                <div className="h-full w-full overflow-hidden rounded-lg bg-white/95 p-1.5 sm:p-2 shadow-xl backdrop-blur-md border border-gray-200/50">
                    <Suspense fallback={<div className="flex h-full w-full items-center justify-center rounded-lg bg-gray-100 text-gray-500">Loading Map...</div>}>
                        <GoogleMaps />
                    </Suspense>
                </div>
            </div>
            <div className="flex flex-row sm:flex-col items-center sm:items-start gap-3 sm:gap-4 order-1 sm:order-2">
                <div className="flex items-center gap-3">
                {[
                    { href: FACEBOOK_PAGE_URL, label: "Facebook", IconSvg: <svg className="h-5 w-5 sm:h-6 sm:w-6 text-white" fill="currentColor" viewBox="0 0 24 24"><path fillRule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12Z" clipRule="evenodd" /></svg> },
                    { href: INSTAGRAM_PAGE_URL, label: "Instagram", IconSvg: <svg className="h-5 w-5 sm:h-6 sm:w-6 text-white" fill="currentColor" viewBox="0 0 24 24"><path fillRule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 0 1 1.772 1.153 4.902 4.902 0 0 1 1.153 1.772c.247.636.416 1.363.465 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218-1.791.465-2.427a4.902 4.902 0 0 1-1.153 1.772 4.902 4.902 0 0 1-1.772 1.153c-.636.247-1.363.416-2.427.465-1.024.048-1.378.06-3.808s.012-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 0 1 1.153-1.772A4.902 4.902 0 0 1 6.08 2.525c.636-.247 1.363-.416 2.427-.465C9.53 2.013 9.884 2 12.315 2Zm0 1.623c-2.403 0-2.729.01-3.686.053-.94.044-1.514.196-2.023.387-.597.217-1.03.494-1.462.926-.432.432-.71.865-.926 1.462-.191.51-.343 1.083-.387 2.023-.043.957-.053 1.283-.053 3.686s.01 2.729.053 3.686c.044.94.196 1.514.387 2.023.216.597.494 1.03.926 1.462.432.432.865.71 1.462.926.51.191 1.083.343 2.023.387.957.043 1.283.053 3.686.053s2.729-.01 3.686-.053c.94-.044 1.514-.196 2.023-.387.597-.216 1.03-.494 1.462-.926.432-.432-.71-.865.926-1.462.191-.51.343-1.083.387-2.023.043.957.053-1.283.053-3.686s-.01-2.729-.053-3.686c-.044-.94-.196-1.514-.387-2.023-.216-.597-.494-1.03-.926-1.462-.432-.432-.865-.71-1.462-.926-.51-.191-1.083.343-2.023-.387-.957-.043-1.283-.053-3.686-.053Zm0 3.448a4.632 4.632 0 1 0 0 9.264 4.632 4.632 0 0 0 0-9.264Zm0 1.623a3.01 3.01 0 1 1 0 6.02 3.01 3.01 0 0 1 0-6.02Zm6.536-3.34a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Z" clipRule="evenodd" /></svg> }
                ].map(social => (
                    <a key={social.label} href={social.href} onClick={(e) => onSocialClick(e, social.href)} target="_blank" rel="noopener noreferrer" className="group relative flex h-10 w-10 items-center justify-center rounded-full bg-[#063f48] transition-all hover:scale-105 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-cyan-400" aria-label={social.label}>
                    {social.IconSvg}
                    </a>
                ))}
                </div>
                <a href={BOOKING_URL} target="_blank" rel="noopener noreferrer" className="w-full sm:w-auto group relative flex items-center justify-center gap-2 rounded-full bg-[#063f48] px-6 py-3 text-white text-sm font-medium transition-all hover:scale-105 hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-cyan-400">
                <span>BOOK NOW</span>
                <svg className="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m9 5 7 7-7 7" /></svg>
                </a>
            </div>
          </div>
        </motion.div>
      )}
    </motion.section>
  );
});
Section.displayName = 'Section';


export default function Home() {
  const [videoOpen, setVideoOpen] = useState(false);
  const [iframeUrl, setIframeUrl] = useState('');
  const [iframeOpen, setIframeOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const mainRef = useRef<HTMLElement>(null);
  const [loadedImages, setLoadedImages] = useState<Record<string, StaticImageData | null>>({});
  const [imagesLoading, setImagesLoading] = useState(true);

  useEffect(() => {
    const loadAllStaticImages = async () => {
      const imagePromises = Object.entries(staticImageImports).map(async ([id, importFn]) => {
        try {
          const module = await importFn();
          return { id, image: module.default };
        } catch (error) {
          console.error(`Failed to load image for section ${id}:`, error);
          return { id, image: null };
        }
      });
      const settledImages = await Promise.all(imagePromises);
      const newLoadedImages: Record<string, StaticImageData | null> = {};
      settledImages.forEach(result => {
        newLoadedImages[result.id] = result.image;
      });
      setLoadedImages(newLoadedImages);
      setImagesLoading(false);
    };
    loadAllStaticImages();
  }, []);

  useEffect(() => {
    const el = mainRef.current;
    if (!el) return;

    const handleScroll = () => setScrolled(el.scrollTop > 10);
    el.addEventListener('scroll', handleScroll, { passive: true });
    handleScroll(); 

    return () => el.removeEventListener('scroll', handleScroll);
  }, [imagesLoading]); 

  const handleVideoClick = useCallback(() => setVideoOpen(true), []);
  const closeVideo = useCallback(() => setVideoOpen(false), []);
  const handleSocialClick = useCallback((_event: React.MouseEvent, url: string) => {
    // For social links, we want to open them in a new tab, not an iframe
    // If you intend to embed, the URL must be an embeddable URL.
    window.open(url, '_blank', 'noopener,noreferrer');
    // setIframeUrl(url); // Only use this if 'url' is a valid embeddable URL
    // setIframeOpen(true);
  }, []);
  const closeIframe = useCallback(() => setIframeOpen(false), []);

  const sectionsToRender = useMemo(() => sectionsData.filter(s => s.id !== 'hero'), []);

  if (imagesLoading) {
    return (
      <div className="flex h-screen w-full items-center justify-center bg-gray-100">
        <motion.div
          animate={{ rotate: 360 }}
          transition={{ duration: 1, repeat: Infinity, ease: "linear" }}
          className="h-16 w-16 border-4 border-t-[#063f48] border-r-[#063f48]/50 border-b-[#063f48]/50 border-l-[#063f48]/50 rounded-full"
        />
      </div>
    );
  }

  return (
    <ErrorBoundary fallback={<p>Page failed to load. Please try again.</p>}>
      <div className="min-h-screen bg-[url('/images/elegant-gold-background.webp')] bg-cover bg-fixed bg-center">
        <Navbar scrolled={scrolled} />
        <main
          ref={mainRef}
          id="main-content"
          className="h-screen overflow-y-auto overflow-x-hidden scroll-smooth focus:outline-none"
          tabIndex={-1}
        >
          <Suspense fallback={<div className="flex h-screen w-full items-center justify-center text-xl text-gray-700">Loading Sections...</div>}>
            <Section
                key="hero"
                section={sectionsData.find(s => s.id === 'hero')!}
                onVideoClick={handleVideoClick}
                onSocialClick={handleSocialClick}
                loadedImages={loadedImages}
              />
            {sectionsToRender.map((section) => (
              <Section
                key={section.id}
                section={section}
                onVideoClick={handleVideoClick}
                onSocialClick={handleSocialClick}
                loadedImages={loadedImages}
              />
            ))}
          </Suspense>

          <AnimatePresence>
            {videoOpen && (
              <Suspense fallback={<div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/70 text-white">Loading Video...</div>}>
                <VideoModal isOpen={videoOpen} onClose={closeVideo} videoId={YOUTUBE_VIDEO_ID} />
              </Suspense>
            )}
            {iframeOpen && ( // This iframe modal logic might be unused if social clicks open new tabs
              <motion.div
                key="iframeModal"
                className="fixed inset-0 z-[110] flex items-center justify-center bg-black/80 p-4 backdrop-blur-sm sm:p-6"
                onClick={closeIframe}
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                exit={{ opacity: 0 }}
                role="dialog"
                aria-modal="true"
                aria-labelledby="socialFeedModalTitle"
              >
                <motion.div
                  className="relative flex h-[90vh] w-full max-w-3xl flex-col overflow-hidden rounded-xl bg-white shadow-2xl sm:h-[85vh]"
                  onClick={(e) => e.stopPropagation()}
                  initial={{ scale: 0.9, opacity: 0 }}
                  animate={{ scale: 1, opacity: 1 }}
                  exit={{ scale: 0.9, opacity: 0 }}
                  transition={{ type: "spring", duration: 0.4, bounce: 0.1 }}
                >
                  <div className="flex items-center justify-between border-b bg-gray-100 p-3 sm:p-4">
                    <h2 id="socialFeedModalTitle" className="text-md sm:text-lg font-medium text-gray-800">Social Feed</h2>
                    <button
                      onClick={closeIframe}
                      className="rounded-full p-1.5 text-gray-500 transition-colors hover:bg-gray-200 hover:text-gray-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-500"
                      aria-label="Close social feed"
                    >
                      <svg className="h-5 w-5 sm:h-6 sm:w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18 18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <iframe
                    src={iframeUrl}
                    className="h-full w-full flex-grow border-none"
                    title="Social media content embed"
                    allow="autoplay; encrypted-media; picture-in-picture"
                    sandbox="allow-scripts allow-same-origin allow-popups allow-forms"
                  />
                </motion.div>
              </motion.div>
            )}
          </AnimatePresence>
        </main>
      </div>
    </ErrorBoundary>
  );
}
>>>> components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}
>>>> components/AnimatedImage.tsx
import React, { useRef, useState, useEffect, useCallback } from 'react';
import { motion, useInView } from 'framer-motion';
import Image from 'next/image';
import { cn } from '@/lib/utils'; // Assuming you have cn utility

interface AnimatedImageProps {
    imagePath: string;
    videoPath: string;
    alt: string;
    sizes?: string;
    objectPosition?: string; // e.g., 'object-center', 'object-top', 'sm:object-left'
}

export default function AnimatedImage({ 
    imagePath, 
    videoPath, 
    alt, 
    sizes = "(max-width: 640px) 100vw, (max-width: 1024px) 90vw, 80vw",
    objectPosition = 'object-center' // Default to center
}: AnimatedImageProps) {
    const containerRef = useRef<HTMLDivElement>(null);
    const videoRef = useRef<HTMLVideoElement>(null);
    const [isVideoLoaded, setIsVideoLoaded] = useState(false);
    const [hasVideoEnded, setHasVideoEnded] = useState(false);
    const [videoError, setVideoError] = useState(false);
    const [isVideoSupported, setIsVideoSupported] = useState(true);
    // Trigger video play when it's more in view, and reset for replay if scrolled out and back in
    const isInView = useInView(containerRef, { amount: 0.3 }); 

    useEffect(() => {
        const video = document.createElement('video');
        setIsVideoSupported(!!(video.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"') || video.canPlayType('video/mp4')));
    }, []);

    const playVideo = useCallback(async () => {
        if (videoRef.current && !videoError) {
            try {
                videoRef.current.currentTime = 0; // Reset video to start
                await videoRef.current.play();
                setIsVideoLoaded(true); // Consider loaded when play starts or 'loadeddata'
                setHasVideoEnded(false); // Reset ended state
            } catch (error) {
                console.warn('Video autoplay/play failed:', error);
                setVideoError(true); // Mark as error if play fails
            }
        }
    }, [videoError]);

    const pauseVideo = useCallback(() => {
        if (videoRef.current) {
            videoRef.current.pause();
        }
    }, []);

    useEffect(() => {
        if (!isVideoSupported || !videoRef.current) return;
        const video = videoRef.current;

        const handleVideoError = () => {
            console.error('Video element error:', video.error);
            setVideoError(true);
        };
        const handleVideoEnded = () => setHasVideoEnded(true);
        // More robust loadeddata check
        const handleLoadedData = () => {
          if (isInView && video.readyState >= video.HAVE_FUTURE_DATA) { // Check if enough data to play
            playVideo();
          }
        };

        video.addEventListener('error', handleVideoError);
        video.addEventListener('ended', handleVideoEnded);
        video.addEventListener('loadeddata', handleLoadedData);
        
        // Attempt to load if not already playing/loaded
        if (video.paused && video.readyState < video.HAVE_FUTURE_DATA) {
          video.load();
        }


        return () => {
            video.removeEventListener('error', handleVideoError);
            video.removeEventListener('ended', handleVideoEnded);
            video.removeEventListener('loadeddata', handleLoadedData);
        };
    }, [isVideoSupported, isInView, playVideo]);

    useEffect(() => {
        if (isInView) {
            if (hasVideoEnded || videoError) { // If ended or errored, don't try to play
                return;
            }
            playVideo();
        } else {
            pauseVideo();
        }
    }, [isInView, playVideo, pauseVideo, hasVideoEnded, videoError]);
    

    const showVideo = isVideoSupported && !hasVideoEnded && !videoError;

    return (
        <div ref={containerRef} className="relative w-full h-full overflow-hidden">
            {/* Static Image - always present, acts as fallback and initial view */}
            <div className={cn("absolute inset-0 transition-opacity duration-300", showVideo && isVideoLoaded ? "opacity-0" : "opacity-100")}>
                <Image
                    src={imagePath}
                    alt={alt}
                    className={cn("object-cover", objectPosition)}
                    fill
                    priority // Assume these images are important for LCP
                    sizes={sizes}
                    quality={85} // Adjusted quality
                    loading="eager" // Eager load for primary display images
                />
            </div>

            {/* Video - conditionally rendered and animated */}
            {isVideoSupported && !videoError && ( // Keep video in DOM if supported and no error, manage visibility via opacity
                <motion.div
                    className="absolute inset-0"
                    initial={{ opacity: 0 }}
                    animate={{ opacity: showVideo && isVideoLoaded ? 1 : 0 }}
                    transition={{ duration: 0.3 }}
                >
                    <video
                        ref={videoRef}
                        className={cn("h-full w-full object-cover", objectPosition)}
                        playsInline
                        muted
                        loop={false} // Don't loop, rely on hasVideoEnded
                        preload="auto" // Let browser decide, or 'metadata' if concerned about data
                    >
                        <source src={videoPath} type="video/mp4" />
                        Your browser does not support the video tag.
                    </video>
                </motion.div>
            )}
        </div>
    );
}
>>>> components/EventCard.tsx
import React from 'react';
import Image from 'next/image';
import { motion } from 'framer-motion';

export interface EventCardProps {
  id: string;
  title: string;
  date: string;
  description: string;
  imageSrc: string;
  imageAlt: string;
  link: string;
  excerpt?: string; // Optional excerpt field for carousel display
  onClick?: () => void; // Handler for card clicks
  imagePosition?: 'center' | 'top' | 'bottom' | 'left' | 'right'; // Image positioning option
  objectFit?: 'cover' | 'contain'; // Object fit option
}

const EventCard: React.FC<EventCardProps> = ({
  title,
  date,
  description,
  imageSrc,
  imageAlt,
  link,
  excerpt,
  onClick,
  imagePosition = 'center',
  objectFit = 'cover'
}) => {
  // Truncate description for carousel display
  const getExcerpt = () => {
    if (excerpt) return excerpt;
    return description.length > 140 
      ? description.slice(0, 140) + '' 
      : description;
  };

  const handleClick = () => {
    if (onClick) {
      onClick();
    }
  };

  // Get object position based on imagePosition prop
  const getObjectPosition = () => {
    switch (imagePosition) {
      case 'top': return 'top';
      case 'bottom': return 'bottom';
      case 'left': return 'left';
      case 'right': return 'right';
      case 'center':
      default: return 'center';
    }
  };

  return (
    <motion.div 
      onClick={handleClick}
      className="relative w-full cursor-pointer"
      whileHover={{ y: -5 }}
      transition={{ duration: 0.2 }}
    >
      {/* Two-column layout for larger screens */}
      <div className="relative w-full rounded-lg overflow-hidden shadow-lg">
        <div className="flex flex-col md:flex-row">
          {/* Left column - Image (40% on desktop) */}
          <div className="relative w-full md:w-2/5 aspect-[4/3]">
            <Image 
              src={imageSrc} 
              alt={imageAlt}
              fill
              className="object-cover"
              sizes="(max-width: 768px) 100vw, 40vw"
              priority
              style={{ 
                objectFit: objectFit,
                objectPosition: getObjectPosition()
              }}
            />
            
            {/* Gradient overlay for better text visibility */}
            <div className="absolute inset-0 bg-gradient-to-b from-black/60 to-black/10"></div>
          </div>
          
          {/* Right column - Content (60% on desktop) */}
          <div className="w-full md:w-3/5 p-6 lg:p-10 flex flex-col justify-center bg-[#063f48]/95 backdrop-blur-sm">
            {/* Date pill */}
            <div className="mb-3">
              <span className="inline-block bg-[#C09E6C]/20 rounded-full px-3 py-1 text-sm font-medium text-[#C09E6C] uppercase tracking-wide">
                {date}
              </span>
            </div>
            
            {/* Title */}
            <h3 className="text-3xl lg:text-4xl font-semibold text-white mb-4">
              {title}
            </h3>
            
            {/* Excerpt with line clamp */}
            <p className="text-sm lg:text-base text-white/90 overflow-hidden text-ellipsis line-clamp-3 mb-6">
              {getExcerpt()}
            </p>
            
            {/* CTA Button */}
            <div>
              <motion.button
                className="inline-flex items-center bg-[#C09E6C] text-[#063f48] rounded-full px-6 py-3 text-sm font-medium hover:bg-[#C09E6C]/90 transition-colors"
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
                onClick={(e) => {
                  e.stopPropagation(); // Prevent the card click handler
                  handleClick();
                }}
              >
                <span>Learn More</span>
                <svg className="h-4 w-4 ml-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m9 5 7 7-7 7" />
                </svg>
              </motion.button>
            </div>
          </div>
        </div>
      </div>
    </motion.div>
  );
};

export default EventCard;
>>>> components/EventCarousel.tsx
import React, { useState, useEffect, useCallback, useRef } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import EventCard, { EventCardProps } from './EventCard';

interface EventCarouselProps {
  events: EventCardProps[];
  autoplay?: boolean;
  autoplaySpeed?: number;
  onEventClick?: (event: EventCardProps) => void;
}

const EventCarousel: React.FC<EventCarouselProps> = ({ 
  events,
  autoplay = true,
  autoplaySpeed = 7000, // Increased to 7 seconds for better readability
  onEventClick
}) => {
  const [currentIndex, setCurrentIndex] = useState(0);
  const [direction, setDirection] = useState(0);
  const [isPaused, setIsPaused] = useState(false);
  const [windowWidth, setWindowWidth] = useState(0);
  const carouselRef = useRef<HTMLDivElement>(null);

  const slideVariants = {
    enter: (direction: number) => ({
      x: direction > 0 ? '100%' : '-100%',
      opacity: 0
    }),
    center: {
      x: 0,
      opacity: 1
    },
    exit: (direction: number) => ({
      x: direction < 0 ? '100%' : '-100%',
      opacity: 0
    })
  };

  const handlePrev = useCallback(() => {
    setDirection(-1);
    setCurrentIndex((prevIndex) => 
      prevIndex === 0 ? events.length - 1 : prevIndex - 1
    );
  }, [events.length]);

  const handleNext = useCallback(() => {
    setDirection(1);
    setCurrentIndex((prevIndex) => 
      prevIndex === events.length - 1 ? 0 : prevIndex + 1
    );
  }, [events.length]);

  useEffect(() => {
    if (!autoplay || isPaused) return;
    
    const interval = setInterval(() => {
      handleNext();
    }, autoplaySpeed);
    
    return () => clearInterval(interval);
  }, [autoplay, autoplaySpeed, handleNext, isPaused]);
  
  // Handle window resize and initialize window width
  useEffect(() => {
    // Initialize window width for client-side rendering
    if (typeof window !== 'undefined') {
      setWindowWidth(window.innerWidth);
      
      const handleResize = () => {
        setWindowWidth(window.innerWidth);
      };
      
      window.addEventListener('resize', handleResize);
      return () => window.removeEventListener('resize', handleResize);
    }
  }, []);

  // Get current visible event
  const currentEvent = events[currentIndex];

  const handleEventCardClick = () => {
    if (onEventClick && currentEvent) {
      onEventClick(currentEvent);
    }
  };

  return (
    <div 
      ref={carouselRef}
      className="relative w-full overflow-hidden"
      onMouseEnter={() => setIsPaused(true)}
      onMouseLeave={() => setIsPaused(false)}
    >
      {/* Main carousel content */}
      <div className="w-full">
        <AnimatePresence initial={false} custom={direction} mode="wait">
          <motion.div
            key={currentEvent.id}
            custom={direction}
            variants={slideVariants}
            initial="enter"
            animate="center"
            exit="exit"
            transition={{
              x: { type: "spring", stiffness: 300, damping: 30 },
              opacity: { duration: 0.2 }
            }}
            className="w-full"
            onClick={handleEventCardClick}
          >
            <EventCard 
              {...currentEvent} 
              onClick={handleEventCardClick}
            />
          </motion.div>
        </AnimatePresence>
      </div>
      
      {/* Navigation buttons */}
      <button
        onClick={handlePrev}
        className="absolute left-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-[#C09E6C]/90 hover:bg-[#C09E6C] transition-colors z-10 shadow-lg"
        aria-label="Previous event"
      >
        <svg className="h-5 w-5 text-[#063f48]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m15 19-7-7 7-7" />
        </svg>
      </button>
      <button
        onClick={handleNext}
        className="absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-[#C09E6C]/90 hover:bg-[#C09E6C] transition-colors z-10 shadow-lg"
        aria-label="Next event"
      >
        <svg className="h-5 w-5 text-[#063f48]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="m9 5 7 7-7 7" />
        </svg>
      </button>
      
      {/* Enhanced dot indicators */}
      <div className="absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-10">
        {events.map((_, index) => (
          <button
            key={index}
            onClick={() => {
              setDirection(index > currentIndex ? 1 : -1);
              setCurrentIndex(index);
            }}
            className={`h-2 w-2 rounded-full transition-all duration-300 ${
              index === currentIndex 
                ? 'bg-[#C09E6C] w-6' 
                : 'bg-[#C09E6C]/50 hover:bg-[#C09E6C]/70'
            }`}
            aria-label={`Go to event ${index + 1}`}
          />
        ))}
      </div>
    </div>
  );
};

export default EventCarousel;
>>>> components/EventsSection.tsx
'use client'

import React, { useState, useEffect } from 'react';
import EventCarousel from './EventCarousel';
import EventDetailsModal from './modals/EventDetailsModal';
import { EventCardProps } from './EventCard';
import { Loader2 } from 'lucide-react';

const EventsSection: React.FC = () => {
  const [events, setEvents] = useState<EventCardProps[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  const [selectedEvent, setSelectedEvent] = useState<EventCardProps | null>(null);
  const [isModalOpen, setIsModalOpen] = useState(false);

  useEffect(() => {
    // Fetch events from our API
    const fetchEvents = async () => {
      try {
        const response = await fetch('/api/events');
        if (!response.ok) {
          throw new Error('Failed to fetch events');
        }
        
        const data = await response.json();
        setEvents(data.events || []);
      } catch (err) {
        console.error('Error fetching events:', err);
        setError('Failed to load events. Please try again later.');
      } finally {
        setLoading(false);
      }
    };

    fetchEvents();
  }, []);

  // If there are no events, don't render the section
  if (!loading && events.length === 0) {
    return null;
  }

  const handleEventClick = (event: EventCardProps) => {
    setSelectedEvent(event);
    setIsModalOpen(true);
  };

  const handleCloseModal = () => {
    setIsModalOpen(false);
    setSelectedEvent(null);
  };

  return (
    <section id="events" className="w-[95%] mx-auto my-4 sm:my-6 rounded-lg overflow-hidden">
      {loading ? (
        <div className="flex items-center justify-center bg-gray-100 p-12">
          <Loader2 className="h-8 w-8 animate-spin text-[#063f48]" />
        </div>
      ) : error ? (
        <div className="bg-red-50 p-4 text-center text-red-800">
          {error}
        </div>
      ) : (
        <>
          <EventCarousel 
            events={events} 
            onEventClick={handleEventClick} 
          />
          <EventDetailsModal
            event={selectedEvent}
            isOpen={isModalOpen}
            onClose={handleCloseModal}
          />
        </>
      )}
    </section>
  )
};

export default EventsSection;
>>>> components/ImageUploadField.tsx
'use client'

import React, { useState } from 'react';
import { Image as ImageIcon, FileWarning, Info } from 'lucide-react';

interface ImageUploadFieldProps {
  imagePreview: string;
  isEditing: boolean;
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
  onRemove?: () => void;
}

const ImageUploadField: React.FC<ImageUploadFieldProps> = ({
  imagePreview,
  isEditing,
  onChange,
  onRemove
}) => {
  const [showInfo, setShowInfo] = useState(false);
  const [dragActive, setDragActive] = useState(false);
  const [fileError, setFileError] = useState<string | null>(null);

  // Handle drag events
  const handleDrag = (e: React.DragEvent) => {
    e.preventDefault();
    e.stopPropagation();
    
    if (e.type === 'dragenter' || e.type === 'dragover') {
      setDragActive(true);
    } else if (e.type === 'dragleave') {
      setDragActive(false);
    }
  };

  // Handle drop event
  const handleDrop = (e: React.DragEvent) => {
    e.preventDefault();
    e.stopPropagation();
    setDragActive(false);
    
    if (e.dataTransfer.files && e.dataTransfer.files[0]) {
      const file = e.dataTransfer.files[0];
      
      // Validate file
      if (!validateFile(file)) {
        return;
      }
      
      // Create a synthetic event to pass to the onChange handler
      const syntheticEvent = {
        target: {
          files: e.dataTransfer.files,
          name: 'image'
        }
      } as unknown as React.ChangeEvent<HTMLInputElement>;
      
      onChange(syntheticEvent);
    }
  };

  // Validate file type and size
  const validateFile = (file: File): boolean => {
    setFileError(null);
    
    // Check file type
    const acceptedTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp'];
    if (!acceptedTypes.includes(file.type)) {
      setFileError('Please upload an image file (JPG, PNG, GIF, or WebP)');
      return false;
    }
    
    // Check file size (5MB max)
    const maxSize = 5 * 1024 * 1024; // 5MB
    if (file.size > maxSize) {
      setFileError('Image is too large. Maximum size is 5MB');
      return false;
    }
    
    return true;
  };

  // Custom file input change handler
  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    
    if (file && validateFile(file)) {
      onChange(e);
    }
  };

  return (
    <div className="space-y-2">
      <div className="flex items-center justify-between">
        <label
          htmlFor="image"
          className="block text-sm font-medium text-gray-700 flex items-center"
        >
          Image {!isEditing && '*'}
          <button
            type="button"
            onClick={() => setShowInfo(!showInfo)}
            className="ml-1 text-gray-400 hover:text-gray-500 focus:outline-none"
            aria-label="Image guidelines"
          >
            <Info className="h-4 w-4" />
          </button>
        </label>
      </div>
      
      {/* Image guidelines tooltip */}
      {showInfo && (
        <div className="p-3 bg-blue-50 rounded-md text-xs text-blue-800 mb-2">
          <p className="font-medium mb-1">Image Guidelines:</p>
          <ul className="list-disc pl-4 space-y-1">
            <li>Optimal aspect ratio is 21:8 (width to height)</li>
            <li>Images will be automatically resized and optimized</li>
            <li>Max file size: 5MB</li>
            <li>Accepted formats: JPG, PNG, GIF, WebP</li>
            <li>Keep important content centered as edges may be cropped</li>
          </ul>
        </div>
      )}
      
      {/* Drag and drop area */}
      <div
        className={`relative rounded-lg border-2 border-dashed p-4 ${
          dragActive 
            ? 'border-[#063f48] bg-[#063f48]/5' 
            : 'border-gray-300 hover:border-gray-400'
        } transition-colors`}
        onDragEnter={handleDrag}
        onDragLeave={handleDrag}
        onDragOver={handleDrag}
        onDrop={handleDrop}
      >
        <div className="flex items-start space-x-4">
          {/* Image preview */}
          <div className="h-32 w-48 overflow-hidden rounded-md bg-gray-100 flex-shrink-0">
            {imagePreview ? (
              <img
                src={imagePreview}
                alt="Preview"
                className="h-full w-full object-cover"
              />
            ) : (
              <div className="flex h-full w-full items-center justify-center bg-gray-100">
                <ImageIcon className="h-12 w-12 text-gray-400" />
              </div>
            )}
          </div>
          
          <div className="flex flex-col justify-center space-y-2">
            <div className="flex flex-col items-start">
              <label className="relative cursor-pointer rounded-md bg-white font-medium text-[#063f48] focus-within:outline-none hover:text-[#0a5561]">
                <span className="inline-flex items-center px-4 py-2 border border-[#063f48] text-sm rounded-md hover:bg-gray-50">
                  <ImageIcon className="mr-2 h-4 w-4" />
                  {imagePreview ? 'Change image' : 'Select image'}
                </span>
                <input
                  id="image"
                  name="image"
                  type="file"
                  accept="image/jpeg,image/png,image/gif,image/webp"
                  onChange={handleFileChange}
                  className="sr-only"
                />
              </label>
              
              {imagePreview && onRemove && (
                <button
                  type="button"
                  onClick={onRemove}
                  className="mt-2 text-sm text-red-600 hover:text-red-700"
                >
                  Remove image
                </button>
              )}
            </div>
            
            <p className="text-xs text-gray-500">
              {isEditing
                ? 'Leave empty to keep the current image'
                : 'Drag and drop or click to select an image'}
            </p>
            
            {/* File error message */}
            {fileError && (
              <div className="flex items-center text-xs text-red-600 mt-1">
                <FileWarning className="h-3 w-3 mr-1" />
                {fileError}
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
};

export default ImageUploadField;
>>>> components/MarkdownContent.tsx
'use client'

import React from 'react'
import ReactMarkdown, { Components } from 'react-markdown'
import remarkGfm from 'remark-gfm'
import { Prism as SyntaxHighlighter } from 'react-syntax-highlighter'
import { tomorrow } from 'react-syntax-highlighter/dist/cjs/styles/prism'

interface MarkdownContentProps {
  content: string
}

interface CodeProps {
  node?: any
  inline?: boolean
  className?: string
  children?: React.ReactNode
}

export default function MarkdownContent({ content }: MarkdownContentProps) {
  const components: Components = {
    code({ node, inline, className, children, ...props }: CodeProps) {
      const match = /language-(\w+)/.exec(className || '')
      return !inline && match ? (
        <SyntaxHighlighter
          style={tomorrow}
          language={match[1]}
          PreTag="div"
          {...props}
        >
          {String(children).replace(/\n$/, '')}
        </SyntaxHighlighter>
      ) : (
        <code className={className} {...props}>
          {children}
        </code>
      )
    }
  }

  return (
    <div className="prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-a:text-[#063f48] prose-a:hover:text-[#C09E6C] prose-img:rounded-lg prose-img:shadow-lg prose-img:my-8 prose-blockquote:border-l-4 prose-blockquote:border-[#C09E6C] prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:my-6 prose-code:bg-gray-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:text-sm prose-pre:bg-gray-100 prose-pre:p-4 prose-pre:rounded-lg prose-pre:overflow-x-auto prose-pre:my-6 prose-hr:my-8 prose-hr:border-gray-200 prose-table:w-full prose-table:border-collapse prose-table:my-8 prose-thead:bg-gray-50 prose-th:px-6 prose-th:py-3 prose-th:text-left prose-th:text-xs prose-th:font-medium prose-th:text-gray-500 prose-th:uppercase prose-th:tracking-wider prose-th:border-b prose-th:border-gray-200 prose-td:px-6 prose-td:py-4 prose-td:whitespace-nowrap prose-td:text-sm prose-td:text-gray-700 prose-td:border-b prose-td:border-gray-200 hover:prose-tr:bg-gray-50">
      <ReactMarkdown
        remarkPlugins={[remarkGfm]}
        components={components}
      >
        {content}
      </ReactMarkdown>
    </div>
  )
}

>>>> components/SEOGenerator.tsx
'use client'

import React, { useState } from 'react'
import { Sparkles, Loader2 } from 'lucide-react'

interface SEOGeneratorProps {
  title: string
  content: string
  excerpt?: string
  onGenerate: (metaTitle: string, metaDescription: string) => void
}

export default function SEOGenerator({ title, content, excerpt, onGenerate }: SEOGeneratorProps) {
  const [isGenerating, setIsGenerating] = useState(false)
  const [error, setError] = useState<string | null>(null)

  const generateSEO = async () => {
    setIsGenerating(true)
    setError(null)

    try {
      // Extract first 500 characters of content for context
      const contentPreview = content.replace(/[#*`[\]()]/g, '').substring(0, 500)
      
      // Simple AI-like processing (can be enhanced with actual AI API)
      const metaTitle = generateTitle(title)
      const metaDescription = generateDescription(title, excerpt || contentPreview)
      
      onGenerate(metaTitle, metaDescription)
    } catch (err) {
      setError('Failed to generate SEO content')
      console.error('Error generating SEO:', err)
    } finally {
      setIsGenerating(false)
    }
  }

  const generateTitle = (title: string): string => {
    // Ensure title is 50-60 characters including brand
    const brand = "Splendid Beauty"
    const separator = " | "
    const maxLength = 60

    // Remove any existing brand name
    let cleanTitle = title.replace(/splendid beauty/i, '').trim()
    
    // Calculate available space
    const availableSpace = maxLength - brand.length - separator.length
    
    // Truncate if necessary
    if (cleanTitle.length > availableSpace) {
      cleanTitle = cleanTitle.substring(0, availableSpace - 3) + '...'
    }
    
    return `${cleanTitle}${separator}${brand}`
  }

  const generateDescription = (title: string, content: string): string => {
    // Generate description between 150-160 characters
    const maxLength = 160
    
    // Extract key information from content
    let description = content
      .replace(/\n/g, ' ')
      .replace(/\s+/g, ' ')
      .trim()
    
    // Add actionable language
    const actionWords = ['Discover', 'Learn', 'Explore', 'Find out']
    const actionWord = actionWords[Math.floor(Math.random() * actionWords.length)]
    
    // Combine title with content summary
    let metaDescription = `${actionWord} ${title.toLowerCase()}. ${description}`
    
    // Truncate if necessary, ensuring it ends at a word boundary
    if (metaDescription.length > maxLength) {
      const truncated = metaDescription.substring(0, maxLength - 3)
      const lastSpace = truncated.lastIndexOf(' ')
      metaDescription = truncated.substring(0, lastSpace) + '...'
    }
    
    return metaDescription
  }

  return (
    <button
      type="button"
      onClick={generateSEO}
      disabled={isGenerating || !title || !content}
      className={`inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-[#063f48] focus:ring-offset-2 ${
        isGenerating || !title || !content
          ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
          : 'bg-purple-100 text-purple-700 hover:bg-purple-200'
      }`}
    >
      {isGenerating ? (
        <Loader2 className="h-4 w-4 animate-spin" />
      ) : (
        <Sparkles className="h-4 w-4" />
      )}
      {isGenerating ? 'Generating SEO...' : 'Generate SEO'}
    </button>
  )
}

>>>> components/TextToMarkdownConverter.tsx
'use client'

import React from 'react'
import { Wand2, Sparkles } from 'lucide-react'

export interface TextToMarkdownConverterProps {
  content: string
  onConvert: (markdown: string) => void
}

export default function TextToMarkdownConverter({ content, onConvert }: TextToMarkdownConverterProps) {
  const convertToMarkdown = (text: string): string => {
    let markdown = text

    // Convert numbered items with topics to headers (like "**1. Topic**" or "1. Topic")
    markdown = markdown.replace(/\*\*(\d+)\.\s+([^*]+)\*\*/g, '\n## $1. $2\n')
    markdown = markdown.replace(/^(\d+)\.\s+([A-Za-z][^1-9]+)$/gm, '\n## $1. $2\n')

    // Convert "Ready to glow?" to a header
    markdown = markdown.replace(/Ready to glow\?/g, '\n## Ready to glow?\n')

    // Ensure proper spacing between paragraphs
    markdown = markdown.replace(/\n(?!\n)/g, '\n\n')

    // Clean up extra newlines (ensure only double newlines exist)
    markdown = markdown.replace(/\n{3,}/g, '\n\n')

    // Add paragraph breaks after list items if content follows directly
    markdown = markdown.replace(/(\. [^\n]+)\n([A-Z])/g, '$1\n\n$2')

    // Ensure proper paragraph spacing after headers
    markdown = markdown.replace(/^(## [^\n]+)$/gm, '$1\n')

    return markdown.trim()
  }

  const handleConvert = () => {
    const convertedMarkdown = convertToMarkdown(content)
    onConvert(convertedMarkdown)
  }

  // Example patterns for tooltip
  const examplePatterns = `Supported patterns:
**1. Topic**  ## Headers
Ready to glow?  ## Headers
Paragraphs  Proper spacing
@username  Links`

  return (
    <div className="relative group">
      <button
        type="button"
        onClick={handleConvert}
        className="inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#063f48]"
        title="Convert text to markdown"
      >
        <Wand2 className="h-4 w-4" />
        Convert to Markdown
      </button>

      {/* Tooltip with supported patterns */}
      <div className="absolute bottom-full left-0 mb-2 hidden group-hover:block w-64 p-2 text-xs text-gray-600 bg-white border border-gray-200 rounded-md shadow-lg z-10">
        <pre className="whitespace-pre-wrap">{examplePatterns}</pre>
      </div>
    </div>
  )
}

>>>> components/VideoModal.tsx
// app/components/VideoModal.tsx
import { Dialog, Transition } from '@headlessui/react';
import { Fragment } from 'react'; // Import Fragment

interface VideoModalProps {
    isOpen: boolean;
    onClose: () => void;
    videoId: string;
}

export default function VideoModal({ isOpen, onClose, videoId }: VideoModalProps) {
    return (
        <Transition appear show={isOpen} as={Fragment}>
            <Dialog as="div" className="relative z-50" onClose={onClose}>
                {/* Backdrop */}
                <Transition.Child
                    as={Fragment}
                    enter="ease-out duration-300"
                    enterFrom="opacity-0"
                    enterTo="opacity-100"
                    leave="ease-in duration-200"
                    leaveFrom="opacity-100"
                    leaveTo="opacity-0"
                >
                    <div className="fixed inset-0 bg-black/70" aria-hidden="true" />
                </Transition.Child>

                {/* Modal Content */}
                <div className="fixed inset-0 flex items-center justify-center p-4">
                    <Transition.Child
                        as={Fragment}
                        enter="ease-out duration-300"
                        enterFrom="opacity-0 scale-95"
                        enterTo="opacity-100 scale-100"
                        leave="ease-in duration-200"
                        leaveFrom="opacity-100 scale-100"
                        leaveTo="opacity-0 scale-95"
                    >
                        <Dialog.Panel className="relative w-full max-w-4xl transform overflow-hidden rounded-lg bg-black text-left align-middle shadow-xl transition-all">
                            {/* Optional: Add a Title for Accessibility */}
                            <Dialog.Title as="h3" className="sr-only">
                                Video Player
                            </Dialog.Title>
                            <button
                                onClick={onClose}
                                className="absolute -top-8 right-0 z-10 text-white hover:text-gray-300 p-1 rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"
                                aria-label="Close video player" // Accessibility label
                            >
                                {/* Simple text or an X icon */}
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
                                    <path strokeLinecap="round" strokeLinejoin="round" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                            {/* Aspect ratio container for video */}
                            <div className="aspect-w-16 aspect-h-9">
                                <iframe
                                    width="100%"
                                    height="100%"
                                    src={`https://www.youtube.com/embed/${videoId}?autoplay=1`} // Added autoplay
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                    allowFullScreen
                                    className="rounded-lg"
                                    title="YouTube video player" // Accessibility title
                                />
                            </div>
                        </Dialog.Panel>
                    </Transition.Child>
                </div>
            </Dialog>
        </Transition>
    );
}
>>>> components/full-screen-image.tsx
import Image from "next/image"
import { cn } from "@/lib/utils"

interface FullScreenImageProps {
  src: string
  alt: string
  id?: string
  isFirst?: boolean
  isLast?: boolean
  priority?: boolean
  sectionId: string
  index: number
}

export default function FullScreenImage({
  src,
  alt,
  id,
  isFirst = false,
  isLast = false,
  priority = false,
  sectionId,
  index,
}: FullScreenImageProps) {
  // Determine if this is the first image of a section
  const isFirstOfSection =
    index === 0 ||
    (sectionId === "facials" && index === 1) ||
    (sectionId === "brows" && index === 7) ||
    (sectionId === "peels" && index === 13) ||
    (sectionId === "contact" && index === 19)

  return (
    <section
      id={isFirstOfSection ? sectionId : undefined}
      className={cn(
        "relative w-full h-screen snap-start",
        sectionId === "facials" || sectionId === "peels" ? "bg-stone-50" : "bg-white",
      )}
    >
      <div className="relative w-full h-full">
        <Image
          src={src || "/placeholder.svg"}
          alt={alt}
          fill
          priority={priority}
          className="object-cover"
          sizes="100vw"
          quality={90}
        />
      </div>
    </section>
  )
}

>>>> components/google-maps.tsx
// components/google-maps.tsx
'use client'

export default function GoogleMaps() {
    // Consider making the embed URL an environment variable or prop if it might change
    const mapEmbedUrl = "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3312.8390!2d-83.9001!3d33.8390!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88f5a3c1c1c1c1c1%3A0x1c1c1c1c1c1c1c1c!2s104%20Covington%20St%2C%20Loganville%2C%20GA%2030052!5e0!3m2!1sen!2sus!4v1234567890!5m2!1sen!2sus";

    return (
        <div className="w-full h-full rounded-lg overflow-hidden">
            <iframe
                src={mapEmbedUrl} // Use variable
                width="100%"
                height="100%"
                style={{ border: 0 }}
                allowFullScreen
                loading="lazy" // Lazy loading is good for maps
                referrerPolicy="no-referrer-when-downgrade"
                title="Google Map location of Splendid Beauty Bar" // Accessibility title
            />
        </div>
    )
}
>>>> components/image-display.tsx
import Image from "next/image"

interface ImageDisplayProps {
  images: string[]
  layout: "full" | "grid"
  priority?: boolean
  alt: string
}

export default function ImageDisplay({ images, layout, priority = false, alt }: ImageDisplayProps) {
  if (layout === "full" && images.length === 1) {
    return (
      <div className="relative w-full h-screen">
        <Image
          src={images[0] || "/placeholder.svg"}
          alt={alt}
          fill
          priority={priority}
          className="object-cover"
          quality={90}
        />
      </div>
    )
  }

  return (
    <div className="w-full max-w-7xl mx-auto">
      <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {images.map((src, index) => (
          <div key={index} className="relative w-full aspect-[3/2] overflow-hidden rounded-lg shadow-md">
            <Image
              src={src || "/placeholder.svg"}
              alt={`${alt} ${index + 1}`}
              fill
              className="object-cover hover:scale-105 transition-transform duration-300"
              sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
              quality={85}
              priority={priority && index === 0}
            />
          </div>
        ))}
      </div>
    </div>
  )
}

>>>> components/modals/EventDetailsModal.tsx
import React from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import Image from 'next/image';
import { X, Calendar, ExternalLink } from 'lucide-react';
import { EventCardProps } from '../EventCard';

interface EventDetailsModalProps {
  event: EventCardProps | null;
  isOpen: boolean;
  onClose: () => void;
}

const EventDetailsModal: React.FC<EventDetailsModalProps> = ({ event, isOpen, onClose }) => {
  if (!event) return null;

  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          exit={{ opacity: 0 }}
          className="fixed inset-0 z-50 overflow-y-auto"
        >
          {/* Backdrop */}
          <div 
            className="fixed inset-0 bg-[#063f48]/80 backdrop-blur-sm"
            onClick={onClose}
          />
          
          {/* Modal */}
          <div className="flex min-h-screen items-center justify-center p-4">
            <motion.div
              initial={{ scale: 0.9, opacity: 0 }}
              animate={{ scale: 1, opacity: 1 }}
              exit={{ scale: 0.9, opacity: 0 }}
              transition={{ duration: 0.2 }}
              className="relative w-full max-w-4xl rounded-lg bg-white shadow-2xl border border-[#063f48]/20"
              onClick={(e) => e.stopPropagation()}
            >
              {/* Close button */}
              <button
                onClick={onClose}
                className="absolute top-4 right-4 z-10 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors"
              >
                <X className="h-6 w-6 text-[#063f48]" />
              </button>
              
              {/* Modal content */}
              <div className="relative">
                {/* Image section */}
                <div className="relative h-64 lg:h-96 rounded-t-lg overflow-hidden">
                  <Image
                    src={event.imageSrc}
                    alt={event.imageAlt}
                    fill
                    className="object-cover"
                    sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
                  />
                  <div className="absolute inset-0 bg-gradient-to-b from-transparent to-[#063f48]/60" />
                </div>
                
                {/* Content section */}
                <div className="p-6 lg:p-10 bg-[#063f48]/95 backdrop-blur-sm">
                  {/* Date and title */}
                  <div className="mb-6">
                    <div className="flex items-center gap-2 mb-4">
                      <Calendar className="h-5 w-5 text-[#C09E6C]" />
                      <span className="text-[#C09E6C] font-medium">{event.date}</span>
                    </div>
                    <h2 className="text-3xl lg:text-4xl font-bold text-white mb-4">
                      {event.title}
                    </h2>
                  </div>
                  
                  {/* Full description */}
                  <div className="space-y-4 mb-8">
                    {event.description.split('\r\n').map((paragraph, index) => (
                      paragraph.trim() && (
                        <p key={index} className="text-base lg:text-lg text-white/90">
                          {paragraph}
                        </p>
                      )
                    ))}
                  </div>
                  
                  {/* Link button */}
                  {event.link && event.link !== '#' && (
                    <motion.a
                      href={event.link}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="inline-flex items-center bg-[#C09E6C] text-[#063f48] rounded-full px-8 py-4 text-base font-medium hover:bg-[#C09E6C]/90 transition-colors"
                      whileHover={{ scale: 1.05 }}
                      whileTap={{ scale: 0.95 }}
                    >
                      <span>View Event Details</span>
                      <ExternalLink className="h-5 w-5 ml-2" />
                    </motion.a>
                  )}
                </div>
              </div>
            </motion.div>
          </div>
        </motion.div>
      )}
    </AnimatePresence>
  );
};

export default EventDetailsModal;
>>>> components/navbar.tsx
// components/navbar.tsx
"use client";

import React, { useState, useEffect, useMemo, useCallback } from "react";
import Link from "next/link";
import Image from "next/image";
import { usePathname } from "next/navigation";
import { Menu, X } from "lucide-react";
import { Button } from "@/components/ui/button";
import {
  Sheet,
  SheetContent,
  SheetHeader,
  SheetTitle,
  SheetTrigger,
  SheetClose,
} from "@/components/ui/sheet";
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "../components/ui/dialog";
import { cn } from "@/lib/utils";

interface NavbarProps {
  scrolled?: boolean;
}

type NavLinkItem = {
  name: string;
  href: string;
  isExternal?: boolean;
  isBooking?: boolean;
};

const useNavLinks = (): NavLinkItem[] => {
  const pathname = usePathname();
  const isScrollablePage = pathname === "/" || pathname.startsWith("/#");

  return useMemo(() => [
    { name: "Home", href: "/" },
    { name: "About Us", href: isScrollablePage ? "#about" : "/#about" },
    { name: "Book Now", href: "#", isBooking: true },
    { name: "Shop", href: isScrollablePage ? "#shop" : "/#shop" },
    { name: "Hair Studio", href: isScrollablePage ? "#hair-studio" : "/#hair-studio" },
    { name: "Academy", href: isScrollablePage ? "#academy" : "/#academy" },
    { name: "Policies", href: isScrollablePage ? "#policies" : "/#policies" },
    { name: "Connect", href: isScrollablePage ? "#connect" : "/#connect" },
    { name: "Blog", href: "/blog" },
    { name: "Financing", href: isScrollablePage ? "#financing" : "/#financing" },
  ], [isScrollablePage]);
};

export default function Navbar({ scrolled: initialScrolled = false }: NavbarProps) {
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
  const [isScrolled, setIsScrolled] = useState(initialScrolled);
  const [isBookingOpen, setIsBookingOpen] = useState(false);
  const navLinks = useNavLinks();
  const pathname = usePathname();

  useEffect(() => {
    setIsMobileMenuOpen(false);
  }, [pathname]);

  useEffect(() => {
    if (typeof initialScrolled === 'boolean' && initialScrolled !== isScrolled) {
      setIsScrolled(initialScrolled);
    }

    const handleScroll = () => {
      const currentScrollY = window.scrollY;
      if (typeof initialScrolled !== 'boolean' || !initialScrolled) {
        setIsScrolled(currentScrollY > 10);
      }
    };

    window.addEventListener('scroll', handleScroll, { passive: true });
    handleScroll();

    return () => window.removeEventListener('scroll', handleScroll);
  }, [initialScrolled, isScrolled]);


  const handleNavLinkClick = useCallback((e: React.MouseEvent<HTMLAnchorElement>, href: string, isBooking?: boolean) => {
    if (isBooking) {
      e.preventDefault();
      setIsBookingOpen(true);
      setIsMobileMenuOpen(false);
      return;
    }

    setIsMobileMenuOpen(false);

    if (href.startsWith("#") && pathname === "/") {
      e.preventDefault();
      const targetId = href.substring(1);
      const targetElement = document.getElementById(targetId);
      const mainContent = document.getElementById('main-content');

      if (targetElement && mainContent) {
        const offsetTop = targetElement.offsetTop;
        mainContent.scrollTo({
          top: offsetTop,
          behavior: 'smooth'
        });
      } else if (targetId === 'hero' && mainContent) {
        mainContent.scrollTo({ top: 0, behavior: 'smooth' });
      }
    } else if (href === "/" && pathname === "/") {
      e.preventDefault();
      const mainContent = document.getElementById('main-content');
      if (mainContent) {
        mainContent.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }
  }, [pathname]);

  return (
    <>
      <header
        className={cn(
          "fixed top-0 left-0 right-0 z-[100] transition-all duration-300 ease-in-out",
          isScrolled
            ? "bg-[#eee5e0]/95 shadow-lg backdrop-blur-md"
            : "bg-transparent" // When not scrolled, the background is transparent
        )}
        role="banner"
      >
        <div className="container mx-auto px-4 sm:px-6 lg:px-8 h-16 sm:h-20 flex items-center justify-between">
          <Link
            href="/"
            className="flex items-center flex-shrink-0"
            aria-label="Splendid Beauty Bar & Co. Homepage"
            onClick={(e) => handleNavLinkClick(e, "/")}
          >
            <Image
              src="/images/splendid-logo.png"
              alt="Splendid Beauty Bar & Co. Logo"
              width={180}
              height={48}
              priority
              className={cn(
                "transition-all duration-300 ease-in-out",
                isScrolled ? "opacity-100 w-[150px] sm:w-[180px]" : "opacity-90 hover:opacity-100 w-[160px] sm:w-[200px] [filter:drop-shadow(0_1px_2px_rgba(0,0,0,0.2))]" // Added subtle drop shadow to logo when not scrolled
              )}
              style={{ height: 'auto' }}
            />
          </Link>

          <nav className="hidden lg:flex items-center" aria-label="Main navigation">
            <ul className="flex flex-wrap justify-end gap-x-5 xl:gap-x-6 gap-y-1">
              {navLinks.map((link) => (
                <li key={link.name}>
                  <Link
                    href={link.href}
                    target={link.isExternal ? "_blank" : "_self"}
                    rel={link.isExternal ? "noopener noreferrer" : ""}
                    className={cn(
                      "font-medium text-sm xl:text-base transition-colors duration-200 hover:text-[#C09E6C] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#C09E6C] focus-visible:ring-offset-2 focus-visible:ring-offset-transparent rounded-sm",
                      isScrolled
                        ? "text-stone-800"
                        : "text-white [text-shadow:0_1px_3px_rgba(0,0,0,0.5)] hover:[text-shadow:0_1px_3px_rgba(0,0,0,0.7)]" // Added text shadow for non-scrolled state
                    )}
                    onClick={(e) => handleNavLinkClick(e, link.href, link.isBooking)}
                    scroll={!link.href.startsWith("#") && !link.isExternal}
                  >
                    {link.name}
                  </Link>
                </li>
              ))}
            </ul>
          </nav>

          <div className="lg:hidden">
            <Sheet open={isMobileMenuOpen} onOpenChange={setIsMobileMenuOpen}>
              <SheetTrigger asChild>
                <Button variant="ghost" size="icon" aria-label="Open main menu">
                  <Menu className={cn("h-6 w-6 transition-colors duration-300", isScrolled ? "text-stone-800" : "text-white [filter:drop-shadow(0_1px_1px_rgba(0,0,0,0.4))]")} /> {/* Added drop shadow for icon for readability */}
                </Button>
              </SheetTrigger>
              <SheetContent side="right" className="w-[85vw] max-w-xs sm:max-w-sm bg-white/95 backdrop-blur-md p-0 flex flex-col shadow-xl">
                <SheetHeader className="p-4 border-b flex flex-row justify-between items-center">
                  <SheetTitle className="text-lg font-semibold text-stone-800">Menu</SheetTitle>
                  <SheetClose asChild>
                    <Button variant="ghost" size="icon" aria-label="Close menu">
                      <X className="h-5 w-5 text-stone-600" />
                    </Button>
                  </SheetClose>
                </SheetHeader>
                <nav className="flex-grow overflow-y-auto p-4" aria-label="Mobile navigation">
                  <ul className="space-y-1">
                    {navLinks.map((link) => (
                      <li key={link.name}>
                        <Link
                          href={link.href}
                          target={link.isExternal ? "_blank" : "_self"}
                          rel={link.isExternal ? "noopener noreferrer" : ""}
                          onClick={(e) => handleNavLinkClick(e, link.href, link.isBooking)}
                          className="block text-lg font-medium text-gray-800 hover:text-[#C09E6C] transition-colors py-3 px-3 rounded-md hover:bg-gray-100 focus-visible:outline-none focus-visible:bg-gray-100 focus-visible:text-[#C09E6C]"
                          scroll={!link.href.startsWith("#") && !link.isExternal}
                        >
                          {link.name}
                        </Link>
                      </li>
                    ))}
                  </ul>
                </nav>
              </SheetContent>
            </Sheet>
          </div>
        </div>
      </header>

      <Dialog open={isBookingOpen} onOpenChange={setIsBookingOpen}>
        <DialogContent className="max-w-[90vw] w-[1200px] h-[90vh] p-0">
          <DialogHeader className="p-4 border-b">
            <DialogTitle className="text-lg font-semibold text-stone-800">Book Your Appointment</DialogTitle>
          </DialogHeader>
          <div className="flex-1 w-full h-[calc(90vh-4rem)]">
            <iframe
              src="https://dashboard.boulevard.io/booking/businesses/18e96cd8-7ca6-4e7e-8282-2055f45efbc4/widget"
              className="w-full h-full border-0"
              title="Booking Widget"
            />
          </div>
        </DialogContent>
      </Dialog>
    </>
  );
}
>>>> components/section.tsx
// components/section.tsx
// Unused component, but keeping definition
import * as React from "react";
import { cn } from "@/lib/utils";

interface SectionProps extends React.HTMLAttributes<HTMLElement> { // Extend HTMLAttributes
  id: string;
  children: React.ReactNode;
  // className is already part of HTMLAttributes
}

// Forward ref for potential parent manipulation
const Section = React.forwardRef<HTMLElement, SectionProps>(
  ({ id, children, className, ...props }, ref) => {
    return (
      <section
        id={id}
        ref={ref}
        className={cn(
          "min-h-screen flex flex-col items-center justify-center px-6 py-24 outline-none", // Added outline-none
          className
        )}
        // Spread remaining props like aria-label etc.
        {...props}
      >
        {children}
      </section>
    );
  }
);

Section.displayName = "Section"; // Add display name for DevTools

export default Section;
>>>> components/svg/Award1.tsx
import Image from 'next/image'

export default function Award1() {
    return (
        <Image
            src="/images/about_companion_image_award.webp"
            alt="Award illustration"
            width={800}
            height={600}
            className="h-full w-full object-cover"
        />
    )
} 
>>>> components/theme-provider.tsx
// components/theme-provider.tsx
'use client'

import * as React from 'react'
import { ThemeProvider as NextThemesProvider } from 'next-themes'
import type { ThemeProviderProps } from 'next-themes'

// Pass all props down to NextThemesProvider
export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return (
    <NextThemesProvider {...props}>
      {children}
    </NextThemesProvider>
  )
}
>>>> components/ui/button.tsx
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }

>>>> components/ui/dialog.tsx
"use client"

import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
    React.ElementRef<typeof DialogPrimitive.Overlay>,
    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
    <DialogPrimitive.Overlay
        ref={ref}
        className={cn(
            "fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
            className
        )}
        {...props}
    />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
    React.ElementRef<typeof DialogPrimitive.Content>,
    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
    <DialogPortal>
        <DialogOverlay />
        <DialogPrimitive.Content
            ref={ref}
            className={cn(
                "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
                className
            )}
            {...props}
        >
            {children}
            <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
                <X className="h-4 w-4" />
                <span className="sr-only">Close</span>
            </DialogPrimitive.Close>
        </DialogPrimitive.Content>
    </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
    className,
    ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
    <div
        className={cn(
            "flex flex-col space-y-1.5 text-center sm:text-left",
            className
        )}
        {...props}
    />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
    className,
    ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
    <div
        className={cn(
            "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
            className
        )}
        {...props}
    />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
    React.ElementRef<typeof DialogPrimitive.Title>,
    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
    <DialogPrimitive.Title
        ref={ref}
        className={cn(
            "text-lg font-semibold leading-none tracking-tight",
            className
        )}
        {...props}
    />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
    React.ElementRef<typeof DialogPrimitive.Description>,
    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
    <DialogPrimitive.Description
        ref={ref}
        className={cn("text-sm text-muted-foreground", className)}
        {...props}
    />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
    Dialog,
    DialogPortal,
    DialogOverlay,
    DialogClose,
    DialogTrigger,
    DialogContent,
    DialogHeader,
    DialogFooter,
    DialogTitle,
    DialogDescription,
} 
>>>> components/ui/input.tsx
import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }

>>>> components/ui/separator.tsx
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    />
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }

>>>> components/ui/sheet.tsx
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = "right", className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}

>>>> components/ui/sidebar.tsx
"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { VariantProps, cva } from "class-variance-authority"
import { PanelLeft } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import { Sheet, SheetContent } from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar:state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContext = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContext | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

const SidebarProvider = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    defaultOpen?: boolean
    open?: boolean
    onOpenChange?: (open: boolean) => void
  }
>(
  (
    {
      defaultOpen = true,
      open: openProp,
      onOpenChange: setOpenProp,
      className,
      style,
      children,
      ...props
    },
    ref
  ) => {
    const isMobile = useIsMobile()
    const [openMobile, setOpenMobile] = React.useState(false)

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen)
    const open = openProp ?? _open
    const setOpen = React.useCallback(
      (value: boolean | ((value: boolean) => boolean)) => {
        const openState = typeof value === "function" ? value(open) : value
        if (setOpenProp) {
          setOpenProp(openState)
        } else {
          _setOpen(openState)
        }

        // This sets the cookie to keep the sidebar state.
        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
      },
      [setOpenProp, open]
    )

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() => {
      return isMobile
        ? setOpenMobile((open) => !open)
        : setOpen((open) => !open)
    }, [isMobile, setOpen, setOpenMobile])

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() => {
      const handleKeyDown = (event: KeyboardEvent) => {
        if (
          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
          (event.metaKey || event.ctrlKey)
        ) {
          event.preventDefault()
          toggleSidebar()
        }
      }

      window.addEventListener("keydown", handleKeyDown)
      return () => window.removeEventListener("keydown", handleKeyDown)
    }, [toggleSidebar])

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? "expanded" : "collapsed"

    const contextValue = React.useMemo<SidebarContext>(
      () => ({
        state,
        open,
        setOpen,
        isMobile,
        openMobile,
        setOpenMobile,
        toggleSidebar,
      }),
      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    )

    return (
      <SidebarContext.Provider value={contextValue}>
        <TooltipProvider delayDuration={0}>
          <div
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH,
                "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
                ...style,
              } as React.CSSProperties
            }
            className={cn(
              "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
              className
            )}
            ref={ref}
            {...props}
          >
            {children}
          </div>
        </TooltipProvider>
      </SidebarContext.Provider>
    )
  }
)
SidebarProvider.displayName = "SidebarProvider"

const Sidebar = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    side?: "left" | "right"
    variant?: "sidebar" | "floating" | "inset"
    collapsible?: "offcanvas" | "icon" | "none"
  }
>(
  (
    {
      side = "left",
      variant = "sidebar",
      collapsible = "offcanvas",
      className,
      children,
      ...props
    },
    ref
  ) => {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

    if (collapsible === "none") {
      return (
        <div
          className={cn(
            "flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",
            className
          )}
          ref={ref}
          {...props}
        >
          {children}
        </div>
      )
    }

    if (isMobile) {
      return (
        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
          <SheetContent
            data-sidebar="sidebar"
            data-mobile="true"
            className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
              } as React.CSSProperties
            }
            side={side}
          >
            <div className="flex h-full w-full flex-col">{children}</div>
          </SheetContent>
        </Sheet>
      )
    }

    return (
      <div
        ref={ref}
        className="group peer hidden md:block text-sidebar-foreground"
        data-state={state}
        data-collapsible={state === "collapsed" ? collapsible : ""}
        data-variant={variant}
        data-side={side}
      >
        {/* This is what handles the sidebar gap on desktop */}
        <div
          className={cn(
            "duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear",
            "group-data-[collapsible=offcanvas]:w-0",
            "group-data-[side=right]:rotate-180",
            variant === "floating" || variant === "inset"
              ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]"
          )}
        />
        <div
          className={cn(
            "duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",
            side === "left"
              ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
              : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
            // Adjust the padding for floating and inset variants.
            variant === "floating" || variant === "inset"
              ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
            className
          )}
          {...props}
        >
          <div
            data-sidebar="sidebar"
            className="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
          >
            {children}
          </div>
        </div>
      </div>
    )
  }
)
Sidebar.displayName = "Sidebar"

const SidebarTrigger = React.forwardRef<
  React.ElementRef<typeof Button>,
  React.ComponentProps<typeof Button>
>(({ className, onClick, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      ref={ref}
      data-sidebar="trigger"
      variant="ghost"
      size="icon"
      className={cn("h-7 w-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeft />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
})
SidebarTrigger.displayName = "SidebarTrigger"

const SidebarRail = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button">
>(({ className, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      ref={ref}
      data-sidebar="rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex",
        "[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
})
SidebarRail.displayName = "SidebarRail"

const SidebarInset = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"main">
>(({ className, ...props }, ref) => {
  return (
    <main
      ref={ref}
      className={cn(
        "relative flex min-h-svh flex-1 flex-col bg-background",
        "peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className
      )}
      {...props}
    />
  )
})
SidebarInset.displayName = "SidebarInset"

const SidebarInput = React.forwardRef<
  React.ElementRef<typeof Input>,
  React.ComponentProps<typeof Input>
>(({ className, ...props }, ref) => {
  return (
    <Input
      ref={ref}
      data-sidebar="input"
      className={cn(
        "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
        className
      )}
      {...props}
    />
  )
})
SidebarInput.displayName = "SidebarInput"

const SidebarHeader = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarHeader.displayName = "SidebarHeader"

const SidebarFooter = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarFooter.displayName = "SidebarFooter"

const SidebarSeparator = React.forwardRef<
  React.ElementRef<typeof Separator>,
  React.ComponentProps<typeof Separator>
>(({ className, ...props }, ref) => {
  return (
    <Separator
      ref={ref}
      data-sidebar="separator"
      className={cn("mx-2 w-auto bg-sidebar-border", className)}
      {...props}
    />
  )
})
SidebarSeparator.displayName = "SidebarSeparator"

const SidebarContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarContent.displayName = "SidebarContent"

const SidebarGroup = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
})
SidebarGroup.displayName = "SidebarGroup"

const SidebarGroupLabel = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-label"
      className={cn(
        "duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupLabel.displayName = "SidebarGroupLabel"

const SidebarGroupAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-action"
      className={cn(
        "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupAction.displayName = "SidebarGroupAction"

const SidebarGroupContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="group-content"
    className={cn("w-full text-sm", className)}
    {...props}
  />
))
SidebarGroupContent.displayName = "SidebarGroupContent"

const SidebarMenu = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu"
    className={cn("flex w-full min-w-0 flex-col gap-1", className)}
    {...props}
  />
))
SidebarMenu.displayName = "SidebarMenu"

const SidebarMenuItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    data-sidebar="menu-item"
    className={cn("group/menu-item relative", className)}
    {...props}
  />
))
SidebarMenuItem.displayName = "SidebarMenuItem"

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const SidebarMenuButton = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    isActive?: boolean
    tooltip?: string | React.ComponentProps<typeof TooltipContent>
  } & VariantProps<typeof sidebarMenuButtonVariants>
>(
  (
    {
      asChild = false,
      isActive = false,
      variant = "default",
      size = "default",
      tooltip,
      className,
      ...props
    },
    ref
  ) => {
    const Comp = asChild ? Slot : "button"
    const { isMobile, state } = useSidebar()

    const button = (
      <Comp
        ref={ref}
        data-sidebar="menu-button"
        data-size={size}
        data-active={isActive}
        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
        {...props}
      />
    )

    if (!tooltip) {
      return button
    }

    if (typeof tooltip === "string") {
      tooltip = {
        children: tooltip,
      }
    }

    return (
      <Tooltip>
        <TooltipTrigger asChild>{button}</TooltipTrigger>
        <TooltipContent
          side="right"
          align="center"
          hidden={state !== "collapsed" || isMobile}
          {...tooltip}
        />
      </Tooltip>
    )
  }
)
SidebarMenuButton.displayName = "SidebarMenuButton"

const SidebarMenuAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    showOnHover?: boolean
  }
>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuAction.displayName = "SidebarMenuAction"

const SidebarMenuBadge = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="menu-badge"
    className={cn(
      "absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none",
      "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
      "peer-data-[size=sm]/menu-button:top-1",
      "peer-data-[size=default]/menu-button:top-1.5",
      "peer-data-[size=lg]/menu-button:top-2.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuBadge.displayName = "SidebarMenuBadge"

const SidebarMenuSkeleton = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    showIcon?: boolean
  }
>(({ className, showIcon = false, ...props }, ref) => {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("rounded-md h-8 flex gap-2 px-2 items-center", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 flex-1 max-w-[--skeleton-width]"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
})
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton"

const SidebarMenuSub = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu-sub"
    className={cn(
      "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuSub.displayName = "SidebarMenuSub"

const SidebarMenuSubItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ ...props }, ref) => <li ref={ref} {...props} />)
SidebarMenuSubItem.displayName = "SidebarMenuSubItem"

const SidebarMenuSubButton = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentProps<"a"> & {
    asChild?: boolean
    size?: "sm" | "md"
    isActive?: boolean
  }
>(({ asChild = false, size = "md", isActive, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuSubButton.displayName = "SidebarMenuSubButton"

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}

>>>> components/ui/skeleton.tsx
import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn("animate-pulse rounded-md bg-muted", className)}
      {...props}
    />
  )
}

export { Skeleton }

>>>> components/ui/tooltip.tsx
"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }

>>>> components/ui/use-mobile.tsx
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}

>>>> data/blog-posts.json
[
  {
    "id": "bfcd4d7b-744f-47e3-bdeb-07e5d2b857ca",
    "title": "5 Benefits of Facial Treatments for Glowing Skin",
    "slug": "5-benefits-of-facial-treatments-for-glowing-skin",
    "excerpt": "Facials arent just a luxurious treat  theyre an essential part of maintaining healthy, radiant skin. At Splendid Beauty Bar & Co., we believe skinc",
    "content": "Facials arent just a luxurious treat  theyre an essential part of maintaining healthy, radiant skin. At **Splendid Beauty Bar & Co.**, we believe skincare is self-care. Whether you're dealing with dryness, dullness, or stress, a professional facial can work wonders.\r\n\r\nHere are five benefits of incorporating regular facials into your beauty routine:\r\n\r\n## 1. Deep Cleansing\r\n\r\n\r\nA facial provides a deeper cleanse than you can achieve at home. It removes dirt, oil, and toxins that accumulate in your pores, reducing the risk of breakouts and dull skin.\r\n\r\n## 2. Exfoliation for Radiance\r\n\r\n\r\nDead skin cells can make your complexion appear uneven and tired. Facials include gentle exfoliation methods like peels or microdermabrasion to reveal fresh, glowing skin underneath.\r\n\r\n## 3. Anti-Aging Benefits\r\n\r\n\r\nMany facials include ingredients and techniques that promote collagen production, reduce fine lines, and boost elasticity  leaving your skin looking firmer and more youthful.\r\n\r\n## 4. Stress Relief\r\n\r\n\r\nA facial is more than just skincare; its a calming experience. With soothing music, gentle massage, and aromatherapy, facials help reduce stress  which directly benefits your skins health.\r\n\r\n## 5. Personalized Skincare Advice\r\n\r\n\r\nAt **Splendid Beauty Bar & Co.**, our estheticians analyze your skin and tailor treatments to your specific needs. Youll walk away with a personalized plan for your skin type and concerns.\r\n\r\n## Ready to glow?\r\n\r\n\r\nTreat yourself to one of our signature facials and experience the transformation. Book your appointment now and let your natural beauty shine through.\r\n\r\nFollow us on Instagram [@splendidbeautybarandco](https://instagram.com/splendidbeautybarandco) for skincare tips, specials, and behind-the-scenes magic!",
    "featuredImage": "",
    "imageAlt": "5 Benefits of Facial Treatments for Glowing Skin",
    "author": "Splendid Beauty Team",
    "publishedAt": "2025-05-04T03:18:04.678Z",
    "status": "published",
    "createdAt": "2025-05-04T03:17:59.499Z",
    "updatedAt": "2025-05-04T03:23:20.406Z",
    "seo": {
      "metaTitle": "5 Benefits of Facial Treatments for Glo... | Splendid Beauty",
      "metaDescription": "Learn 5 benefits of facial treatments for glowing skin. Facials arent just a luxurious treat  theyre an essential part of maintaining healthy, radiant...",
      "keywords": []
    }
  }
]
>>>> data/events.json
[
  {
    "id": "d0b9c9d0-bff5-4a90-a4c8-6ef142390bdf",
    "title": "Botox & Beauty Garden Party",
    "date": "May 31, 2025",
    "description": " Step through the garden gate and into your glow-up!\r\n Join Splendid Beauty Bar & Co. + Dermal Knowledge for our whimsical Botox & Beauty Garden Party  now featuring a sparkling appearance by The Welded Roe & Charm Bar with permanent jewelry!\r\n\r\n Thursday, June 5th\r\n3:00 PM  6:00 PM\r\nDermal Knowledge\r\n2023 Grayson Hwy, Unit 201, Grayson, GA\r\nALL BOTOX INQUIRIES & BOOKINGS: 678-359-2212\r\n\r\n Whats blooming at the party:\r\n Discounted Botox by master injector Shelly Mauldin, MSN, FNP\r\n FREE consultations with internationally awarded artists Eden York & Christine Eaton\r\n Permanent Makeup & Paramedical Revision\r\n Brow Lamination & Tint\r\n Lash Lift & Tint\r\n Light-Cured Eyelash Extensions\r\n Permanent jewelry on-site by The Welded Row & Charm Bar\r\n\r\n  Enjoy light bites, skincare tips, giveaways, and a truly splendid summer refresh.\r\n\r\nBotox appointments must be booked in advance to secure your time slot.\r\nAll other offerings  including permanent jewelry + beauty consultations  are drop-in friendly and first come, first served.\r\n\r\n The Secret Garden of Beauty  where summer skin begins.",
    "imageSrc": "/uploads/events/botox---beauty-garden-party-d0b9c9d0.jpg",
    "imageAlt": "Botox & Beauty Garden Party",
    "link": "https://www.instagram.com/p/DIxMAc6sp12/?img_index=1",
    "createdAt": "2025-05-04T02:06:59.716Z",
    "updatedAt": "2025-05-04T02:47:20.211Z",
    "imagePosition": "center",
    "objectFit": "contain",
    "excerpt": " Step through the garden gate and into your glow-up!\r\n Join Splendid Beauty Bar & Co. + Dermal Knowledge for our whimsical Botox & Beaut"
  }
]
>>>> hooks/use-mobile.ts
import { useEffect, useState } from 'react'

export function useIsMobile() {
    const [isMobile, setIsMobile] = useState(false)

    useEffect(() => {
        const checkMobile = () => {
            setIsMobile(window.innerWidth < 768) // Matches Tailwind's md breakpoint
        }

        checkMobile()
        window.addEventListener('resize', checkMobile)

        return () => window.removeEventListener('resize', checkMobile)
    }, [])

    return isMobile
} 
>>>> lib/constants.ts
export interface SectionConfig {
    id: string;
    imageName: string;
    videoName: string;
}

export const ANIMATED_SECTIONS: SectionConfig[] = [
    { id: 'hero', imageName: 'Home', videoName: 'Home' },
    { id: 'award-1', imageName: 'award_1', videoName: 'award_1' },
    { id: 'award-2', imageName: 'award_2', videoName: 'award_2' },
    { id: '13', imageName: '13', videoName: '13' },
    { id: '22', imageName: '22', videoName: '22' },
    { id: '23', imageName: '23', videoName: '23' },
    { id: '24', imageName: '24', videoName: '24' },
    { id: '25', imageName: '25', videoName: '25' },
    { id: '26', imageName: '26', videoName: '26' },
    { id: '27', imageName: '27', videoName: '27' },
    { id: 'academy', imageName: 'Academy', videoName: 'Academy' },
    { id: 'book-now', imageName: 'Book Now', videoName: 'Book Now' },
    { id: 'connect', imageName: 'Connect', videoName: 'Connect' },
    { id: 'financing', imageName: 'Financing', videoName: 'Financing' },
    { id: 'hair-studio', imageName: 'Hair Studio', videoName: 'Hair Studio' },
    { id: 'policies', imageName: 'Policies', videoName: 'Policies' },
    { id: 'portfolio', imageName: 'Portfolio', videoName: 'Portfolio' },
    { id: 'services', imageName: 'Services', videoName: 'Services' },
    { id: 'shop', imageName: 'Shop', videoName: 'Shop' },
    { id: 'we-do-that', imageName: 'We Do That', videoName: 'We Do That' },
    { id: 'true-beauty', imageName: 'true_beauty', videoName: 'true_beauty' },
    { id: 'perm-medical', imageName: 'perm_medical', videoName: 'perm_medical' },
    { id: 'facial', imageName: 'facial', videoName: 'facial' },
    { id: 'eyelash', imageName: 'eyelash', videoName: 'eyelash' },
    { id: 'perm-makeup', imageName: 'perm_makeup', videoName: 'perm_makeup' }
];

export const getSectionConfig = (id: string): SectionConfig | undefined => {
    return ANIMATED_SECTIONS.find(section => section.id === id);
}; 
>>>> lib/utils.ts
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

>>>> middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';
import { jwtVerify } from 'jose';

const JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key-here';

export async function middleware(request: NextRequest) {
  // Check if the request is for admin routes (excluding login)
  if (request.nextUrl.pathname.startsWith('/admin') &&
    !request.nextUrl.pathname.startsWith('/admin/login')) {

    const token = request.cookies.get('auth-token')?.value;

    if (!token) {
      // Redirect to login if no token
      return NextResponse.redirect(new URL('/admin/login', request.url));
    }

    try {
      // Verify the token
      const secret = new TextEncoder().encode(JWT_SECRET);
      await jwtVerify(token, secret);

      // Token is valid, continue
      return NextResponse.next();
    } catch (error) {
      console.error('Token verification failed:', error);
      // Token is invalid, redirect to login
      return NextResponse.redirect(new URL('/admin/login', request.url));
    }
  }

  return NextResponse.next();
}

export const config = {
  matcher: [
    '/admin/:path*',
    '/((?!api|_next/static|_next/image|favicon.ico).*)',
  ],
};

>>>> next-env.d.ts
/// <reference types="next" />
/// <reference types="next/image-types/global" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.

>>>> next.config.mjs
// next.config.mjs
/** @type {import('next').NextConfig} */
const nextConfig = {
  eslint: {
    ignoreDuringBuilds: true,
  },
  typescript: {
    ignoreBuildErrors: true,
  },
};

export default nextConfig;
>>>> package.json
{
  "name": "my-v0-project",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@headlessui/react": "^2.2.2",
    "@hookform/resolvers": "^3.9.1",
    "@radix-ui/react-accordion": "1.2.2",
    "@radix-ui/react-alert-dialog": "1.1.4",
    "@radix-ui/react-aspect-ratio": "1.1.1",
    "@radix-ui/react-avatar": "1.1.2",
    "@radix-ui/react-checkbox": "1.1.3",
    "@radix-ui/react-collapsible": "1.1.2",
    "@radix-ui/react-context-menu": "2.2.4",
    "@radix-ui/react-dialog": "^1.1.4",
    "@radix-ui/react-dropdown-menu": "2.1.4",
    "@radix-ui/react-hover-card": "1.1.4",
    "@radix-ui/react-label": "2.1.1",
    "@radix-ui/react-menubar": "1.1.4",
    "@radix-ui/react-navigation-menu": "1.2.3",
    "@radix-ui/react-popover": "1.1.4",
    "@radix-ui/react-progress": "1.1.1",
    "@radix-ui/react-radio-group": "1.2.2",
    "@radix-ui/react-scroll-area": "1.2.2",
    "@radix-ui/react-select": "2.1.4",
    "@radix-ui/react-separator": "1.1.1",
    "@radix-ui/react-slider": "1.2.2",
    "@radix-ui/react-slot": "1.1.1",
    "@radix-ui/react-switch": "1.1.2",
    "@radix-ui/react-tabs": "1.1.2",
    "@radix-ui/react-toast": "1.2.4",
    "@radix-ui/react-toggle": "1.1.1",
    "@radix-ui/react-toggle-group": "1.1.1",
    "@radix-ui/react-tooltip": "1.1.6",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "1.0.4",
    "critters": "^0.0.23",
    "date-fns": "3.6.0",
    "embla-carousel-react": "8.5.1",
    "framer-motion": "^12.9.4",
    "input-otp": "1.4.1",
    "jose": "^5.10.0",
    "lucide-react": "^0.454.0",
    "next": "15.2.4",
    "next-themes": "^0.4.6",
    "react": "^18.2.0",
    "react-day-picker": "8.10.1",
    "react-dom": "^18.2.0",
    "react-hook-form": "^7.54.1",
    "react-markdown": "^10.1.0",
    "react-resizable-panels": "^2.1.7",
    "react-syntax-highlighter": "^15.6.1",
    "recharts": "2.15.0",
    "remark-gfm": "^4.0.1",
    "sharp": "^0.33.5",
    "sonner": "^1.7.1",
    "tailwind-merge": "^2.5.5",
    "tailwindcss-animate": "^1.0.7",
    "uuid": "^9.0.1",
    "vaul": "^0.9.6",
    "zod": "^3.24.1"
  },
  "devDependencies": {
    "@tailwindcss/typography": "^0.5.16",
    "@types/node": "^22",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "@types/react-syntax-highlighter": "^15.5.13",
    "@types/uuid": "^9.0.8",
    "autoprefixer": "^10.4.21",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.17",
    "typescript": "^5"
  }
}

>>>> postcss.config.mjs
/** @type {import('postcss-load-config').Config} */
const config = {
  plugins: {
    tailwindcss: {},
  },
};

export default config;

>>>> public/images/hero/marbled-background-low.webp
// Placeholder for low-resolution WebP image
// In a real implementation, you would convert the marbled background to WebP format and generate a low-resolution placeholder
>>>> public/images/hero/marbled-background-responsive.webp
// Responsive WebP version of the marbled background
// In a real implementation, you would convert elegant-gold-background.webp to different sizes and create a source set
>>>> scripts/create-webp-images.js
// Script to convert and create responsive WebP images
// This is a placeholder script that would use sharp or imagemagick in production

const fs = require('fs');
const path = require('path');

// In a real implementation, you would:
// 1. Install sharp: npm install sharp
// 2. Use this script to convert images to WebP format
// 3. Create multiple sizes for responsive loading

/*
const sharp = require('sharp');

async function createResponsiveImages() {
  const inputImage = path.join(__dirname, '../public/images/elegant-gold-background.png');
  
  // Create different sizes
  await sharp(inputImage)
    .resize(800, 600)
    .webp({ quality: 80 })
    .toFile(path.join(__dirname, '../public/images/hero/marbled-background-small.webp'));
  
  await sharp(inputImage)
    .resize(1200, 900)
    .webp({ quality: 85 })
    .toFile(path.join(__dirname, '../public/images/hero/marbled-background-medium.webp'));
  
  await sharp(inputImage)
    .resize(1600, 1200)
    .webp({ quality: 90 })
    .toFile(path.join(__dirname, '../public/images/hero/marbled-background-large.webp'));
  
  // Create low-res placeholder
  await sharp(inputImage)
    .resize(20, 15)
    .blur(10)
    .webp({ quality: 20 })
    .toFile(path.join(__dirname, '../public/images/hero/marbled-background-low-res.webp'));
}

createResponsiveImages().catch(console.error);
*/

console.log('This is a placeholder script for WebP image generation.');
console.log('In production, you would use sharp or imagemagick to create responsive WebP images.');

>>>> svgo.config.js
module.exports = {
    multipass: true,
    plugins: [
        {
            name: 'preset-default',
            params: {
                overrides: {
                    removeViewBox: false,
                    removeTitle: false,
                    removeDesc: false,
                    cleanupIDs: false,
                    convertPathData: {
                        floatPrecision: 1
                    },
                    convertTransform: {
                        floatPrecision: 1
                    },
                    cleanupNumericValues: {
                        floatPrecision: 1
                    }
                }
            }
        },
        'removeDimensions',
        'removeXMLNS',
        'sortAttrs'
    ]
} 
>>>> tailwind.config.ts
import type { Config } from "tailwindcss"

const config = {
  darkMode: ["class"], // or 'media' if you prefer OS setting
  content: [
    // Adjust these paths according to your project structure
    "./pages/**/*.{ts,tsx}",
    "./components/**/*.{ts,tsx}",
    "./app/**/*.{ts,tsx}",
    "./src/**/*.{ts,tsx}",
    // If your page.tsx is directly in the root, you might need:
    "./*.{js,ts,jsx,tsx,mdx}",
  ],
  prefix: "", // Keep empty unless you have a specific need
  theme: {
    container: {
      center: true,
      padding: "2rem",
      screens: {
        "2xl": "1400px",
      },
    },
    extend: {
      colors: {
        // Map CSS variables to Tailwind color names
        border: "hsl(var(--border))",
        input: "hsl(var(--input))",
        ring: "hsl(var(--ring))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          // Ensure your primary color matches the CSS variable if desired
          DEFAULT: "#C09E6C", // Your Gold accent color
          // Or use the variable: DEFAULT: "hsl(var(--primary))", 
          foreground: "hsl(var(--primary-foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        destructive: {
          DEFAULT: "hsl(var(--destructive))",
          foreground: "hsl(var(--destructive-foreground))",
        },
        muted: {
          DEFAULT: "hsl(var(--muted))",
          foreground: "hsl(var(--muted-foreground))",
        },
        accent: {
          DEFAULT: "hsl(var(--accent))",
          foreground: "hsl(var(--accent-foreground))",
        },
        popover: {
          DEFAULT: "hsl(var(--popover))",
          foreground: "hsl(var(--popover-foreground))",
        },
        card: {
          DEFAULT: "hsl(var(--card))",
          foreground: "hsl(var(--card-foreground))",
        },
      },
      borderRadius: {
        lg: "var(--radius)",
        md: "calc(var(--radius) - 2px)",
        sm: "calc(var(--radius) - 4px)",
      },
      // Keep keyframes if using Tailwind's animation utilities
      keyframes: {
        "accordion-down": {
          from: { height: "0" },
          to: { height: "var(--radix-accordion-content-height)" },
        },
        "accordion-up": {
          from: { height: "var(--radix-accordion-content-height)" },
          to: { height: "0" },
        },
        // You could define pulse-play here too if preferred
      },
      animation: {
        "accordion-down": "accordion-down 0.2s ease-out",
        "accordion-up": "accordion-up 0.2s ease-out",
        // 'pulse-button': 'pulse-play 2s infinite', // Example if defined above
      },
    },
  },
  // Ensure you have the necessary plugins installed (npm install -D tailwindcss-animate)
  plugins: [
    require("tailwindcss-animate"),
    require("@tailwindcss/typography")
  ],
} satisfies Config

export default config
>>>> tsconfig.json
{
  "compilerOptions": {
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "target": "ES6",
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}

>>>> types/blog.ts
export interface BlogPost {
  id: string;
  title: string;
  slug: string;
  excerpt: string;
  content: string;
  featuredImage: string;
  imageAlt: string;
  author: string;
  publishedAt: string | null;
  status: 'draft' | 'published';
  createdAt: string;
  updatedAt: string;
  seo: {
    metaTitle?: string;
    metaDescription?: string;
    keywords?: string[];
  };
}

>>>> types/events.ts
export interface Event {
  id: string;
  title: string;
  date: string;
  description: string;
  imageSrc: string;
  imageAlt: string;
  link: string;
  createdAt: string;
  updatedAt: string;
}
